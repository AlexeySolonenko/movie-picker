(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(e,t,n){e.exports=n("zUnb")},zUnb:function(e,t,n){"use strict";function s(e){return"function"==typeof e}n.r(t);let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=e},get useDeprecatedSynchronousErrorHandling(){return r}};function o(e){setTimeout(()=>{throw e})}const l={closed:!0,next(e){},error(e){if(i.useDeprecatedSynchronousErrorHandling)throw e;o(e)},complete(){}},a=Array.isArray||(e=>e&&"number"==typeof e.length);function c(e){return null!==e&&"object"==typeof e}function u(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((e,t)=>`${t+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}u.prototype=Object.create(Error.prototype);const h=u;let d=(()=>{class e{constructor(e){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}unsubscribe(){let e,t=!1;if(this.closed)return;let{_parent:n,_parents:r,_unsubscribe:i,_subscriptions:o}=this;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;let l=-1,u=r?r.length:0;for(;n;)n.remove(this),n=++l<u&&r[l]||null;if(s(i))try{i.call(this)}catch(d){t=!0,e=d instanceof h?p(d.errors):[d]}if(a(o))for(l=-1,u=o.length;++l<u;){const n=o[l];if(c(n))try{n.unsubscribe()}catch(d){t=!0,e=e||[],d instanceof h?e=e.concat(p(d.errors)):e.push(d)}}if(t)throw new h(e)}add(t){let n=t;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){const t=n;(n=new e)._subscriptions=[t]}break;default:if(!t)return e.EMPTY;throw new Error("unrecognized teardown "+t+" added to Subscription.")}if(n._addParent(this)){const e=this._subscriptions;e?e.push(n):this._subscriptions=[n]}return n}remove(e){const t=this._subscriptions;if(t){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}}_addParent(e){let{_parent:t,_parents:n}=this;return t!==e&&(t?n?-1===n.indexOf(e)&&(n.push(e),!0):(this._parents=[e],!0):(this._parent=e,!0))}}return e.EMPTY=function(e){return e.closed=!0,e}(new e),e})();function p(e){return e.reduce((e,t)=>e.concat(t instanceof h?t.errors:t),[])}const f="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class m extends d{constructor(e,t,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=l;break;case 1:if(!e){this.destination=l;break}if("object"==typeof e){e instanceof m?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new g(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new g(this,e,t,n)}}[f](){return this}static create(e,t,n){const s=new m(e,t,n);return s.syncErrorThrowable=!1,s}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parent:e,_parents:t}=this;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=t,this}}class g extends m{constructor(e,t,n,r){let i;super(),this._parentSubscriber=e;let o=this;s(t)?i=t:t&&(i=t.next,n=t.error,r=t.complete,t!==l&&(s((o=Object.create(t)).unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=i,this._error=n,this._complete=r}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;i.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:n}=i;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):o(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;o(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);i.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),i.useDeprecatedSynchronousErrorHandling)throw n;o(n)}}__tryOrSetError(e,t,n){if(!i.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(s){return i.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=s,e.syncErrorThrown=!0,!0):(o(s),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const y="function"==typeof Symbol&&Symbol.observable||"@@observable";function _(){}function v(...e){return b(e)}function b(e){return e?1===e.length?e[0]:function(t){return e.reduce((e,t)=>t(e),t)}:_}let w=(()=>{class e{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(t){const n=new e;return n.source=this,n.operator=t,n}subscribe(e,t,n){const{operator:s}=this,r=function(e,t,n){if(e){if(e instanceof m)return e;if(e[f])return e[f]()}return e||t||n?new m(e,t,n):new m(l)}(e,t,n);if(r.add(s?s.call(r,this.source):this.source||i.useDeprecatedSynchronousErrorHandling&&!r.syncErrorThrowable?this._subscribe(r):this._trySubscribe(r)),i.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable&&(r.syncErrorThrowable=!1,r.syncErrorThrown))throw r.syncErrorValue;return r}_trySubscribe(e){try{return this._subscribe(e)}catch(t){i.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){const{closed:t,destination:n,isStopped:s}=e;if(t||s)return!1;e=n&&n instanceof m?n:null}return!0}(e)?e.error(t):console.warn(t)}}forEach(e,t){return new(t=C(t))((t,n)=>{let s;s=this.subscribe(t=>{try{e(t)}catch(r){n(r),s&&s.unsubscribe()}},n,t)})}_subscribe(e){const{source:t}=this;return t&&t.subscribe(e)}[y](){return this}pipe(...e){return 0===e.length?this:b(e)(this)}toPromise(e){return new(e=C(e))((e,t)=>{let n;this.subscribe(e=>n=e,e=>t(e),()=>e(n))})}}return e.create=t=>new e(t),e})();function C(e){if(e||(e=i.Promise||Promise),!e)throw new Error("no Promise impl found");return e}function S(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}S.prototype=Object.create(Error.prototype);const x=S;class E extends d{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}class T extends m{constructor(e){super(e),this.destination=e}}let k=(()=>{class e extends w{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[f](){return new T(this)}lift(e){const t=new I(this,this);return t.operator=e,t}next(e){if(this.closed)throw new x;if(!this.isStopped){const{observers:t}=this,n=t.length,s=t.slice();for(let r=0;r<n;r++)s[r].next(e)}}error(e){if(this.closed)throw new x;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:t}=this,n=t.length,s=t.slice();for(let r=0;r<n;r++)s[r].error(e);this.observers.length=0}complete(){if(this.closed)throw new x;this.isStopped=!0;const{observers:e}=this,t=e.length,n=e.slice();for(let s=0;s<t;s++)n[s].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new x;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new x;return this.hasError?(e.error(this.thrownError),d.EMPTY):this.isStopped?(e.complete(),d.EMPTY):(this.observers.push(e),new E(this,e))}asObservable(){const e=new w;return e.source=this,e}}return e.create=(e,t)=>new I(e,t),e})();class I extends k{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):d.EMPTY}}function O(e){return e&&"function"==typeof e.schedule}class A extends m{constructor(e,t,n){super(),this.parent=e,this.outerValue=t,this.outerIndex=n,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const P=e=>t=>{for(let n=0,s=e.length;n<s&&!t.closed;n++)t.next(e[n]);t.closed||t.complete()},R=e=>t=>(e.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,o),t);function N(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const D=N(),M=e=>t=>{const n=e[D]();for(;;){const e=n.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t},F=e=>t=>{const n=e[y]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)},L=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function V(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}const U=e=>{if(e instanceof w)return t=>e._isScalar?(t.next(e.value),void t.complete()):e.subscribe(t);if(e&&"function"==typeof e[y])return F(e);if(L(e))return P(e);if(V(e))return R(e);if(e&&"function"==typeof e[D])return M(e);{const t=c(e)?"an invalid object":`'${e}'`;throw new TypeError(`You provided ${t} where a stream was expected.`+" You can provide an Observable, Promise, Array, or Iterable.")}};function j(e,t,n,s,r=new A(e,n,s)){if(!r.closed)return U(t)(r)}class $ extends m{notifyNext(e,t,n,s,r){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}function H(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new q(e,t))}}class q{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new z(e,this.project,this.thisArg))}}class z extends m{constructor(e,t,n){super(e),this.project=t,this.count=0,this.thisArg=n||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}function B(e,t){return new w(t?n=>{const s=new d;let r=0;return s.add(t.schedule((function(){r!==e.length?(n.next(e[r++]),n.closed||s.add(this.schedule())):n.complete()}))),s}:P(e))}function G(e,t){if(!t)return e instanceof w?e:new w(U(e));if(null!=e){if(function(e){return e&&"function"==typeof e[y]}(e))return function(e,t){return new w(t?n=>{const s=new d;return s.add(t.schedule(()=>{const r=e[y]();s.add(r.subscribe({next(e){s.add(t.schedule(()=>n.next(e)))},error(e){s.add(t.schedule(()=>n.error(e)))},complete(){s.add(t.schedule(()=>n.complete()))}}))})),s}:F(e))}(e,t);if(V(e))return function(e,t){return new w(t?n=>{const s=new d;return s.add(t.schedule(()=>e.then(e=>{s.add(t.schedule(()=>{n.next(e),s.add(t.schedule(()=>n.complete()))}))},e=>{s.add(t.schedule(()=>n.error(e)))}))),s}:R(e))}(e,t);if(L(e))return B(e,t);if(function(e){return e&&"function"==typeof e[D]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new w(t?n=>{const s=new d;let r;return s.add(()=>{r&&"function"==typeof r.return&&r.return()}),s.add(t.schedule(()=>{r=e[D](),s.add(t.schedule((function(){if(n.closed)return;let e,t;try{const n=r.next();e=n.value,t=n.done}catch(s){return void n.error(s)}t?n.complete():(n.next(e),this.schedule())})))})),s}:M(e))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}function Q(e,t,n=Number.POSITIVE_INFINITY){return"function"==typeof t?s=>s.pipe(Q((n,s)=>G(e(n,s)).pipe(H((e,r)=>t(n,e,s,r))),n)):("number"==typeof t&&(n=t),t=>t.lift(new K(e,n)))}class K{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new W(e,this.project,this.concurrent))}}class W extends ${constructor(e,t,n=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(s){return void this.destination.error(s)}this.active++,this._innerSub(t,e,n)}_innerSub(e,t,n){const s=new A(this,void 0,void 0);this.destination.add(s),j(this,e,t,n,s)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e,t,n,s,r){this.destination.next(t)}notifyComplete(e){const t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function Z(e){return e}function J(e=Number.POSITIVE_INFINITY){return Q(Z,e)}function Y(...e){let t=Number.POSITIVE_INFINITY,n=null,s=e[e.length-1];return O(s)?(n=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof s&&(t=e.pop()),null===n&&1===e.length&&e[0]instanceof w?e[0]:J(t)(B(e,n))}function X(){return function(e){return e.lift(new ee(e))}}class ee{constructor(e){this.connectable=e}call(e,t){const{connectable:n}=this;n._refCount++;const s=new te(e,n),r=t.subscribe(s);return s.closed||(s.connection=n.connect()),r}}class te extends m{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:n}=this,s=e._connection;this.connection=null,!s||n&&s!==n||s.unsubscribe()}}const ne=class extends w{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new d).add(this.source.subscribe(new re(this.getSubject(),this))),e.closed?(this._connection=null,e=d.EMPTY):this._connection=e),e}refCount(){return X()(this)}}.prototype,se={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:ne._subscribe},_isComplete:{value:ne._isComplete,writable:!0},getSubject:{value:ne.getSubject},connect:{value:ne.connect},refCount:{value:ne.refCount}};class re extends T{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}function ie(){return new k}const oe="__annotations__",le="__parameters__",ae="__prop__metadata__";function ce(e,t,n,s,r){const i=ue(t);function o(...e){if(this instanceof o)return i.call(this,...e),this;const t=new o(...e);return function(n){return r&&r(n,...e),(n.hasOwnProperty(oe)?n[oe]:Object.defineProperty(n,oe,{value:[]})[oe]).push(t),s&&s(n),n}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o}function ue(e){return function(...t){if(e){const n=e(...t);for(const e in n)this[e]=n[e]}}}function he(e,t,n){const s=ue(t);function r(...e){if(this instanceof r)return s.apply(this,e),this;const t=new r(...e);return n.annotation=t,n;function n(e,n,s){const r=e.hasOwnProperty(le)?e[le]:Object.defineProperty(e,le,{value:[]})[le];for(;r.length<=s;)r.push(null);return(r[s]=r[s]||[]).push(t),e}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r}const de=he("Inject",e=>({token:e})),pe=he("Optional"),fe=he("Self"),me=he("SkipSelf");var ge=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});function ye(e){for(let t in e)if(e[t]===ye)return t;throw Error("Could not find renamed property on target object.")}function _e(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function ve(e){const t=e[be];return t&&t.token===e?t:null}const be=ye({ngInjectableDef:ye});function we(e){if("string"==typeof e)return e;if(e instanceof Array)return"["+e.map(we).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}const Ce=ye({__forward_ref__:ye});function Se(e){return e.__forward_ref__=Se,e.toString=function(){return we(this())},e}function xe(e){const t=e;return"function"==typeof t&&t.hasOwnProperty(Ce)&&t.__forward_ref__===Se?t():e}const Ee="undefined"!=typeof globalThis&&globalThis,Te="undefined"!=typeof window&&window,ke="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ie="undefined"!=typeof global&&global,Oe=Ee||Ie||Te||ke;class Ae{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.ngInjectableDef=_e({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Pe=new Ae("INJECTOR",-1),Re=new Object,Ne="ngTempTokenPath",De="ngTokenPath",Me=/\n/gm,Fe="\u0275",Le="__source",Ve=ye({provide:String,useValue:ye});let Ue,je=void 0;function $e(e){const t=je;return je=e,t}function He(e,t=ge.Default){if(void 0===je)throw new Error("inject() must be called from an injection context");return null===je?function(e,t,n){const s=ve(e);if(s&&"root"==s.providedIn)return void 0===s.value?s.value=s.factory():s.value;if(n&ge.Optional)return null;throw new Error(`Injector: NOT_FOUND [${we(e)}]`)}(e,0,t):je.get(e,t&ge.Optional?null:void 0,t)}function qe(e,t=ge.Default){return(Ue||He)(e,t)}function ze(e){const t=[];for(let n=0;n<e.length;n++){const s=xe(e[n]);if(Array.isArray(s)){if(0===s.length)throw new Error("Arguments array must have arguments.");let e=void 0,n=ge.Default;for(let t=0;t<s.length;t++){const r=s[t];r instanceof pe||"Optional"===r.ngMetadataName||r===pe?n|=ge.Optional:r instanceof me||"SkipSelf"===r.ngMetadataName||r===me?n|=ge.SkipSelf:r instanceof fe||"Self"===r.ngMetadataName||r===fe?n|=ge.Self:e=r instanceof de||r===de?r.token:r}t.push(qe(e,n))}else t.push(qe(s))}return t}class Be{get(e,t=Re){if(t===Re){const t=new Error(`NullInjectorError: No provider for ${we(e)}!`);throw t.name="NullInjectorError",t}return t}}function Ge(e,t,n,s=null){e=e&&"\n"===e.charAt(0)&&e.charAt(1)==Fe?e.substr(2):e;let r=we(t);if(t instanceof Array)r=t.map(we).join(" -> ");else if("object"==typeof t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let s=t[n];e.push(n+":"+("string"==typeof s?JSON.stringify(s):we(s)))}r=`{${e.join(", ")}}`}return`${n}${s?"("+s+")":""}[${r}]: ${e.replace(Me,"\n  ")}`}class Qe{}class Ke{}function We(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Ze(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}const Je=function(){var e={Emulated:0,Native:1,None:2,ShadowDom:3};return e[e.Emulated]="Emulated",e[e.Native]="Native",e[e.None]="None",e[e.ShadowDom]="ShadowDom",e}(),Ye=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Oe))(),Xe="ngDebugContext",et="ngOriginalError",tt="ngErrorLogger";function nt(e){return e[Xe]}function st(e){return e[et]}function rt(e,...t){e.error(...t)}class it{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),n=this._findContext(e),s=function(e){return e[tt]||rt}(e);s(this._console,"ERROR",e),t&&s(this._console,"ORIGINAL ERROR",t),n&&s(this._console,"ERROR CONTEXT",n)}_findContext(e){return e?nt(e)?nt(e):this._findContext(st(e)):null}_findOriginalError(e){let t=st(e);for(;t&&st(t);)t=st(t);return t}}let ot=!0,lt=!1;function at(){return lt=!0,ot}class ct{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e),this.inertBodyElement=this.inertDocument.createElement("body"),e.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(e){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(e){e="<body><remove></remove>"+e+"</body>";try{e=encodeURI(e)}catch(s){return null}const t=new XMLHttpRequest;t.responseType="document",t.open("GET","data:text/html;charset=utf-8,"+e,!1),t.send(void 0);const n=t.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(e){e="<body><remove></remove>"+e+"</body>";try{const t=(new window.DOMParser).parseFromString(e,"text/html").body;return t.removeChild(t.firstChild),t}catch(t){return null}}getInertBodyElement_InertDocument(e){const t=this.inertDocument.createElement("template");return"content"in t?(t.innerHTML=e,t):(this.inertBodyElement.innerHTML=e,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)}stripCustomNsAttrs(e){const t=e.attributes;for(let s=t.length-1;0<s;s--){const n=t.item(s).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||e.removeAttribute(n)}let n=e.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const ut=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,ht=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function dt(e){return(e=String(e)).match(ut)||e.match(ht)?e:(at()&&console.warn(`WARNING: sanitizing unsafe URL value ${e} (see http://g.co/ng/security#xss)`),"unsafe:"+e)}function pt(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function ft(...e){const t={};for(const n of e)for(const e in n)n.hasOwnProperty(e)&&(t[e]=!0);return t}const mt=pt("area,br,col,hr,img,wbr"),gt=pt("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),yt=pt("rp,rt"),_t=ft(yt,gt),vt=ft(mt,ft(gt,pt("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ft(yt,pt("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),_t),bt=pt("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),wt=pt("srcset"),Ct=ft(bt,wt,pt("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),pt("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),St=pt("script,style,template");class xt{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,n=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let e=this.checkClobberedElement(t,t.nextSibling);if(e){t=e;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!vt.hasOwnProperty(t))return this.sanitizedSomething=!0,!St.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const n=e.attributes;for(let r=0;r<n.length;r++){const e=n.item(r),t=e.name,i=t.toLowerCase();if(!Ct.hasOwnProperty(i)){this.sanitizedSomething=!0;continue}let o=e.value;bt[i]&&(o=dt(o)),wt[i]&&(s=o,o=(s=String(s)).split(",").map(e=>dt(e.trim())).join(", ")),this.buf.push(" ",t,'="',kt(o),'"')}var s;return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();vt.hasOwnProperty(t)&&!mt.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(kt(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const Et=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Tt=/([^\#-~ |!])/g;function kt(e){return e.replace(/&/g,"&amp;").replace(Et,(function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"})).replace(Tt,(function(e){return"&#"+e.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let It;function Ot(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}const At=function(){var e={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return e[e.NONE]="NONE",e[e.HTML]="HTML",e[e.STYLE]="STYLE",e[e.SCRIPT]="SCRIPT",e[e.URL]="URL",e[e.RESOURCE_URL]="RESOURCE_URL",e}();class Pt{}const Rt=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Nt=/^url\(([^)]+)\)$/,Dt=/([A-Z])/g;function Mt(e){try{return null!=e?e.toString().slice(0,30):e}catch(t){return"[ERROR] Exception while trying to serialize the value"}}let Ft=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Lt(),e})();const Lt=(...e)=>{},Vt=Function;function Ut(e){return"function"==typeof e}const jt=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*arguments\)/,$t=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,Ht=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,qt=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{\s+super\(\.\.\.arguments\)/;class zt{constructor(e){this._reflect=e||Oe.Reflect}isReflectionEnabled(){return!0}factory(e){return(...t)=>new e(...t)}_zipTypesAndAnnotations(e,t){let n;n=void 0===e?new Array(t.length):new Array(e.length);for(let s=0;s<n.length;s++)n[s]=void 0===e?[]:e[s]&&e[s]!=Object?[e[s]]:[],t&&null!=t[s]&&(n[s]=n[s].concat(t[s]));return n}_ownParameters(e,t){if(n=e.toString(),jt.test(n)||qt.test(n)||$t.test(n)&&!Ht.test(n))return null;var n;if(e.parameters&&e.parameters!==t.parameters)return e.parameters;const s=e.ctorParameters;if(s&&s!==t.ctorParameters){const e="function"==typeof s?s():s,t=e.map(e=>e&&e.type),n=e.map(e=>e&&Bt(e.decorators));return this._zipTypesAndAnnotations(t,n)}const r=e.hasOwnProperty(le)&&e[le],i=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",e);return i||r?this._zipTypesAndAnnotations(i,r):new Array(e.length).fill(void 0)}parameters(e){if(!Ut(e))return[];const t=Gt(e);let n=this._ownParameters(e,t);return n||t===Object||(n=this.parameters(t)),n||[]}_ownAnnotations(e,t){if(e.annotations&&e.annotations!==t.annotations){let t=e.annotations;return"function"==typeof t&&t.annotations&&(t=t.annotations),t}return e.decorators&&e.decorators!==t.decorators?Bt(e.decorators):e.hasOwnProperty(oe)?e[oe]:null}annotations(e){if(!Ut(e))return[];const t=Gt(e),n=this._ownAnnotations(e,t)||[];return(t!==Object?this.annotations(t):[]).concat(n)}_ownPropMetadata(e,t){if(e.propMetadata&&e.propMetadata!==t.propMetadata){let t=e.propMetadata;return"function"==typeof t&&t.propMetadata&&(t=t.propMetadata),t}if(e.propDecorators&&e.propDecorators!==t.propDecorators){const t=e.propDecorators,n={};return Object.keys(t).forEach(e=>{n[e]=Bt(t[e])}),n}return e.hasOwnProperty(ae)?e[ae]:null}propMetadata(e){if(!Ut(e))return{};const t=Gt(e),n={};if(t!==Object){const e=this.propMetadata(t);Object.keys(e).forEach(t=>{n[t]=e[t]})}const s=this._ownPropMetadata(e,t);return s&&Object.keys(s).forEach(e=>{const t=[];n.hasOwnProperty(e)&&t.push(...n[e]),t.push(...s[e]),n[e]=t}),n}ownPropMetadata(e){return Ut(e)&&this._ownPropMetadata(e,Gt(e))||{}}hasLifecycleHook(e,t){return e instanceof Vt&&t in e.prototype}guards(e){return{}}getter(e){return new Function("o","return o."+e+";")}setter(e){return new Function("o","v","return o."+e+" = v;")}method(e){return new Function("o","args",`if (!o.${e}) throw new Error('"${e}" is undefined');\n        return o.${e}.apply(o, args);`)}importUri(e){return"object"==typeof e&&e.filePath?e.filePath:`./${we(e)}`}resourceUri(e){return`./${we(e)}`}resolveIdentifier(e,t,n,s){return s}resolveEnum(e,t){return e[t]}}function Bt(e){return e?e.map(e=>new(0,e.type.annotationCls)(...e.args?e.args:[])):[]}function Gt(e){const t=e.prototype?Object.getPrototypeOf(e.prototype):null;return(t?t.constructor:null)||Object}const Qt=ye({provide:String,useValue:ye}),Kt=[];function Wt(e,t){if(!t){const t=(new zt).parameters(e);return()=>new e(...ze(t))}if(Qt in t){const e=t;return()=>e.useValue}if(t.useExisting){const e=t;return()=>qe(e.useExisting)}if(t.useFactory){const e=t;return()=>e.useFactory(...ze(e.deps||Kt))}if(t.useClass){const n=t;let s=t.deps;if(!s){const t=new zt;s=t.parameters(e)}return()=>new n.useClass(...ze(s))}{let n=t.deps;if(!n){const t=new zt;n=t.parameters(e)}return()=>new e(...ze(n))}}const Zt=ce("Injectable",void 0,void 0,void 0,(e,t)=>Jt(e,t)),Jt=function(e,t){t&&void 0!==t.providedIn&&!ve(e)&&(e.ngInjectableDef=_e({token:e,providedIn:t.providedIn,factory:Wt(e,t)}))},Yt=new Ae("The presence of this token marks an injector as being the root injector."),Xt=function(e,t,n){return new ln(e,t,n)};let en=(()=>{class e{static create(e,t){return Array.isArray(e)?Xt(e,t,""):Xt(e.providers,e.parent,e.name||"")}}return e.THROW_IF_NOT_FOUND=Re,e.NULL=new Be,e.ngInjectableDef=_e({token:e,providedIn:"any",factory:()=>qe(Pe)}),e.__NG_ELEMENT_ID__=-1,e})();const tn=function(e){return e},nn=[],sn=tn,rn=function(){return Array.prototype.slice.call(arguments)},on="\u0275";class ln{constructor(e,t=en.NULL,n=null){this.parent=t,this.source=n;const s=this._records=new Map;s.set(en,{token:en,fn:tn,deps:nn,value:this,useNew:!1}),s.set(Pe,{token:Pe,fn:tn,deps:nn,value:this,useNew:!1}),function e(t,n){if(n)if((n=xe(n))instanceof Array)for(let s=0;s<n.length;s++)e(t,n[s]);else{if("function"==typeof n)throw cn("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw cn("Unexpected provider",n);{let e=xe(n.provide);const s=function(e){const t=function(e){let t=nn;const n=e.deps;if(n&&n.length){t=[];for(let e=0;e<n.length;e++){let s=6,r=xe(n[e]);if(r instanceof Array)for(let e=0,t=r;e<t.length;e++){const n=t[e];n instanceof pe||n==pe?s|=1:n instanceof me||n==me?s&=-3:n instanceof fe||n==fe?s&=-5:r=n instanceof de?n.token:xe(n)}t.push({token:r,options:s})}}else if(e.useExisting)t=[{token:xe(e.useExisting),options:6}];else if(!(n||Ve in e))throw cn("'deps' required",e);return t}(e);let n=tn,s=nn,r=!1,i=xe(e.provide);if(Ve in e)s=e.useValue;else if(e.useFactory)n=e.useFactory;else if(e.useExisting);else if(e.useClass)r=!0,n=xe(e.useClass);else{if("function"!=typeof i)throw cn("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",e);r=!0,n=i}return{deps:t,fn:n,useNew:r,value:s}}(n);if(!0===n.multi){let s=t.get(e);if(s){if(s.fn!==rn)throw an(e)}else t.set(e,s={token:n.provide,deps:[],useNew:!1,fn:rn,value:nn});s.deps.push({token:e=n,options:6})}const r=t.get(e);if(r&&r.fn==rn)throw an(e);t.set(e,s)}}}(s,e)}get(e,t,n=ge.Default){const s=this._records.get(e);try{return function e(t,n,s,r,i,o){try{return function(t,n,s,r,i,o){let l;if(!n||o&ge.SkipSelf)o&ge.Self||(l=r.get(t,i,ge.Default));else{if((l=n.value)==sn)throw Error(on+"Circular dependency");if(l===nn){n.value=sn;let t=void 0,i=n.useNew,o=n.fn,a=n.deps,c=nn;if(a.length){c=[];for(let t=0;t<a.length;t++){const n=a[t],i=n.options,o=2&i?s.get(n.token):void 0;c.push(e(n.token,o,s,o||4&i?r:en.NULL,1&i?null:en.THROW_IF_NOT_FOUND,ge.Default))}}n.value=l=i?new o(...c):o.apply(t,c)}}return l}(t,n,s,r,i,o)}catch(l){throw l instanceof Error||(l=new Error(l)),(l[Ne]=l[Ne]||[]).unshift(t),n&&n.value==sn&&(n.value=nn),l}}(e,s,this._records,this.parent,t,n)}catch(r){return function(e,t,n,s){const r=e[Ne];throw t[Le]&&r.unshift(t[Le]),e.message=Ge("\n"+e.message,r,"StaticInjectorError",s),e[De]=r,e[Ne]=null,e}(r,e,0,this.source)}}toString(){const e=[];return this._records.forEach((t,n)=>e.push(we(n))),`StaticInjector[${e.join(", ")}]`}}function an(e){return cn("Cannot mix multi providers and regular providers",e)}function cn(e,t){return new Error(Ge(e,t,"StaticInjectorError"))}const un=new Ae("AnalyzeForEntryComponents");let hn=null;function dn(){if(!hn){const e=Oe.Symbol;if(e&&e.iterator)hn=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const n=e[t];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(hn=n)}}}return hn}function pn(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}function fn(e,t){const n=gn(e),s=gn(t);if(n&&s)return function(e,t,n){const s=e[dn()](),r=t[dn()]();for(;;){const e=s.next(),t=r.next();if(e.done&&t.done)return!0;if(e.done||t.done)return!1;if(!n(e.value,t.value))return!1}}(e,t,fn);{const r=e&&("object"==typeof e||"function"==typeof e),i=t&&("object"==typeof t||"function"==typeof t);return!(n||!r||s||!i)||pn(e,t)}}class mn{constructor(e){this.wrapped=e}static wrap(e){return new mn(e)}static unwrap(e){return mn.isWrapped(e)?e.wrapped:e}static isWrapped(e){return e instanceof mn}}function gn(e){return!!yn(e)&&(Array.isArray(e)||!(e instanceof Map)&&dn()in e)}function yn(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function _n(e){return!!e&&"function"==typeof e.then}function vn(e){return!!e&&"function"==typeof e.subscribe}class bn{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}class wn{}class Cn{}function Sn(e){const t=Error(`No component factory found for ${we(e)}. Did you add it to @NgModule.entryComponents?`);return t[xn]=e,t}const xn="ngComponent";class En{resolveComponentFactory(e){throw Sn(e)}}let Tn=(()=>{class e{}return e.NULL=new En,e})();class kn{constructor(e,t,n){this._parent=t,this._ngModule=n,this._factories=new Map;for(let s=0;s<e.length;s++){const t=e[s];this._factories.set(t.componentType,t)}}resolveComponentFactory(e){let t=this._factories.get(e);if(!t&&this._parent&&(t=this._parent.resolveComponentFactory(e)),!t)throw Sn(e);return new In(t,this._ngModule)}}class In extends Cn{constructor(e,t){super(),this.factory=e,this.ngModule=t,this.selector=e.selector,this.componentType=e.componentType,this.ngContentSelectors=e.ngContentSelectors,this.inputs=e.inputs,this.outputs=e.outputs}create(e,t,n,s){return this.factory.create(e,t,n,s||this.ngModule)}}function On(...e){}let An=(()=>{class e{constructor(e){this.nativeElement=e}}return e.__NG_ELEMENT_ID__=()=>Pn(e),e})();const Pn=On;class Rn{}class Nn{}const Dn=function(){var e={Important:1,DashCase:2};return e[e.Important]="Important",e[e.DashCase]="DashCase",e}();let Mn=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Fn(),e})();const Fn=On;class Ln{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Vn=new Ln("8.2.14");class Un{constructor(){}supports(e){return gn(e)}create(e){return new $n(e)}}const jn=(e,t)=>t;class $n{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||jn}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,n=this._removalsHead,s=0,r=null;for(;t||n;){const i=!n||t&&t.currentIndex<Bn(n,s,r)?t:n,o=Bn(i,s,r),l=i.currentIndex;if(i===n)s--,n=n._nextRemoved;else if(t=t._next,null==i.previousIndex)s++;else{r||(r=[]);const e=o-s,t=l-s;if(e!=t){for(let n=0;n<e;n++){const s=n<r.length?r[n]:r[n]=0,i=s+n;t<=i&&i<e&&(r[n]=s+1)}r[i.previousIndex]=t-e}}o!==l&&e(i,o,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!gn(e))throw new Error(`Error trying to diff '${we(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,n,s,r=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)s=this._trackByFn(t,n=e[t]),null!==r&&pn(r.trackById,s)?(i&&(r=this._verifyReinsertion(r,n,s,t)),pn(r.item,n)||this._addIdentityChange(r,n)):(r=this._mismatch(r,n,s,t),i=!0),r=r._next}else t=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[dn()]();let s;for(;!(s=n.next()).done;)t(s.value)}}(e,e=>{s=this._trackByFn(t,e),null!==r&&pn(r.trackById,s)?(i&&(r=this._verifyReinsertion(r,e,s,t)),pn(r.item,e)||this._addIdentityChange(r,e)):(r=this._mismatch(r,e,s,t),i=!0),r=r._next,t++}),this.length=t;return this._truncate(r),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e,t;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,n,s){let r;return null===e?r=this._itTail:(r=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,s))?(pn(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,r,s)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(pn(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,r,s)):e=this._addAfter(new Hn(t,n),r,s),e}_verifyReinsertion(e,t,n,s){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?e=this._reinsertAfter(r,e._prev,s):e.currentIndex!=s&&(e.currentIndex=s,this._addToMoves(e,s)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const s=e._prevRemoved,r=e._nextRemoved;return null===s?this._removalsHead=r:s._nextRemoved=r,null===r?this._removalsTail=s:r._prevRemoved=s,this._insertAfter(e,t,n),this._addToMoves(e,n),e}_moveAfter(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}_addAfter(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,n){const s=null===t?this._itHead:t._next;return e._next=s,e._prev=t,null===s?this._itTail=e:s._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new zn),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}_addToMoves(e,t){return e.previousIndex===t?e:(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e,e)}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new zn),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Hn{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class qn{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&pn(n.trackById,e))return n;return null}remove(e){const t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class zn{constructor(){this.map=new Map}put(e){const t=e.trackById;let n=this.map.get(t);n||(n=new qn,this.map.set(t,n)),n.add(e)}get(e,t){const n=this.map.get(e);return n?n.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Bn(e,t,n){const s=e.previousIndex;if(null===s)return s;let r=0;return n&&s<n.length&&(r=n[s]),s+t+r}class Gn{constructor(){}supports(e){return e instanceof Map||yn(e)}create(){return new Qn}}class Qn{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||yn(e)))throw new Error(`Error trying to diff '${we(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(e,n)=>{if(t&&t.key===n)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(n,e);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const n=this._records.get(e);this._maybeAddToChanges(n,t);const s=n._prev,r=n._next;return s&&(s._next=r),r&&(r._prev=s),n._next=null,n._prev=null,n}const n=new Kn(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){pn(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(n=>t(e[n],n))}}class Kn{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let Wn=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(null!=n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,n)},deps:[[e,new me,new pe]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(null!=t)return t;throw new Error(`Cannot find a differ supporting object '${e}' of type '${n=e,n.name||typeof n}'`);var n}}return e.ngInjectableDef=_e({token:e,providedIn:"root",factory:()=>new e([new Un])}),e})(),Zn=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,n)},deps:[[e,new me,new pe]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(t)return t;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return e.ngInjectableDef=_e({token:e,providedIn:"root",factory:()=>new e([new Gn])}),e})();const Jn=[new Gn],Yn=new Wn([new Un]),Xn=new Zn(Jn);let es=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>ts(e,An),e})();const ts=On;let ns=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>ss(e,An),e})();const ss=On;function rs(e,t,n,s){let r=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '${t}'. Current value: '${n}'.`;return s&&(r+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(e,t){const n=new Error(e);return is(n,t),n}(r,e)}function is(e,t){e[Xe]=t,e[tt]=t.logError.bind(t)}function os(e){return new Error(`ViewDestroyedError: Attempt to use a destroyed view: ${e}`)}function ls(e,t,n){const s=e.state,r=1792&s;return r===t?(e.state=-1793&s|n,e.initIndex=-1,!0):r===n}function as(e,t,n){return(1792&e.state)===t&&e.initIndex<=n&&(e.initIndex=n+1,!0)}function cs(e,t){return e.nodes[t]}function us(e,t){return e.nodes[t]}function hs(e,t){return e.nodes[t]}function ds(e,t){return e.nodes[t]}function ps(e,t){return e.nodes[t]}const fs={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},ms=()=>{},gs=new Map;function ys(e){let t=gs.get(e);return t||(t=we(e)+"_"+gs.size,gs.set(e,t)),t}function _s(e,t,n,s){if(mn.isWrapped(s)){s=mn.unwrap(s);const r=e.def.nodes[t].bindingIndex+n,i=mn.unwrap(e.oldValues[r]);e.oldValues[r]=new mn(i)}return s}const vs="$$undefined",bs="$$empty";function ws(e){return{id:vs,styles:e.styles,encapsulation:e.encapsulation,data:e.data}}let Cs=0;function Ss(e,t,n,s){return!(!(2&e.state)&&pn(e.oldValues[t.bindingIndex+n],s))}function xs(e,t,n,s){return!!Ss(e,t,n,s)&&(e.oldValues[t.bindingIndex+n]=s,!0)}function Es(e,t,n,s){const r=e.oldValues[t.bindingIndex+n];if(1&e.state||!fn(r,s)){const i=t.bindings[n].name;throw rs(fs.createDebugContext(e,t.nodeIndex),`${i}: ${r}`,`${i}: ${s}`,0!=(1&e.state))}}function Ts(e){let t=e;for(;t;)2&t.def.flags&&(t.state|=8),t=t.viewContainerParent||t.parent}function ks(e,t){let n=e;for(;n&&n!==t;)n.state|=64,n=n.viewContainerParent||n.parent}function Is(e,t,n,s){try{return Ts(33554432&e.def.nodes[t].flags?us(e,t).componentView:e),fs.handleEvent(e,t,n,s)}catch(r){e.root.errorHandler.handleError(r)}}function Os(e){return e.parent?us(e.parent,e.parentNodeDef.nodeIndex):null}function As(e){return e.parent?e.parentNodeDef.parent:null}function Ps(e,t){switch(201347067&t.flags){case 1:return us(e,t.nodeIndex).renderElement;case 2:return cs(e,t.nodeIndex).renderText}}function Rs(e){return!!e.parent&&!!(32768&e.parentNodeDef.flags)}function Ns(e){return!(!e.parent||32768&e.parentNodeDef.flags)}function Ds(e){return 1<<e%32}function Ms(e){const t={};let n=0;const s={};return e&&e.forEach(([e,r])=>{"number"==typeof e?(t[e]=r,n|=Ds(e)):s[e]=r}),{matchedQueries:t,references:s,matchedQueryIds:n}}function Fs(e,t){return e.map(e=>{let n,s;return Array.isArray(e)?[s,n]=e:(s=0,n=e),n&&("function"==typeof n||"object"==typeof n)&&t&&Object.defineProperty(n,Le,{value:t,configurable:!0}),{flags:s,token:n,tokenKey:ys(n)}})}function Ls(e,t,n){let s=n.renderParent;return s?0==(1&s.flags)||0==(33554432&s.flags)||s.element.componentRendererType&&s.element.componentRendererType.encapsulation===Je.Native?us(e,n.renderParent.nodeIndex).renderElement:void 0:t}const Vs=new WeakMap;function Us(e){let t=Vs.get(e);return t||((t=e(()=>ms)).factory=e,Vs.set(e,t)),t}function js(e,t,n,s,r){3===t&&(n=e.renderer.parentNode(Ps(e,e.def.lastRenderRootNode))),$s(e,t,0,e.def.nodes.length-1,n,s,r)}function $s(e,t,n,s,r,i,o){for(let l=n;l<=s;l++){const n=e.def.nodes[l];11&n.flags&&qs(e,n,t,r,i,o),l+=n.childCount}}function Hs(e,t,n,s,r,i){let o=e;for(;o&&!Rs(o);)o=o.parent;const l=o.parent,a=As(o),c=a.nodeIndex+a.childCount;for(let u=a.nodeIndex+1;u<=c;u++){const e=l.def.nodes[u];e.ngContentIndex===t&&qs(l,e,n,s,r,i),u+=e.childCount}if(!l.parent){const o=e.root.projectableNodes[t];if(o)for(let t=0;t<o.length;t++)zs(e,o[t],n,s,r,i)}}function qs(e,t,n,s,r,i){if(8&t.flags)Hs(e,t.ngContent.index,n,s,r,i);else{const o=Ps(e,t);if(3===n&&33554432&t.flags&&48&t.bindingFlags?(16&t.bindingFlags&&zs(e,o,n,s,r,i),32&t.bindingFlags&&zs(us(e,t.nodeIndex).componentView,o,n,s,r,i)):zs(e,o,n,s,r,i),16777216&t.flags){const o=us(e,t.nodeIndex).viewContainer._embeddedViews;for(let e=0;e<o.length;e++)js(o[e],n,s,r,i)}1&t.flags&&!t.element.name&&$s(e,n,t.nodeIndex+1,t.nodeIndex+t.childCount,s,r,i)}}function zs(e,t,n,s,r,i){const o=e.renderer;switch(n){case 1:o.appendChild(s,t);break;case 2:o.insertBefore(s,t,r);break;case 3:o.removeChild(s,t);break;case 0:i.push(t)}}const Bs=/^:([^:]+):(.+)$/;function Gs(e){if(":"===e[0]){const t=e.match(Bs);return[t[1],t[2]]}return["",e]}function Qs(e){let t=0;for(let n=0;n<e.length;n++)t|=e[n].flags;return t}function Ks(e,t,n,s,r,i,o,l,a,c,u,h,d,p,f,m,g,y,_,v){switch(e){case 1:return t+Ws(n)+s;case 2:return t+Ws(n)+s+Ws(r)+i;case 3:return t+Ws(n)+s+Ws(r)+i+Ws(o)+l;case 4:return t+Ws(n)+s+Ws(r)+i+Ws(o)+l+Ws(a)+c;case 5:return t+Ws(n)+s+Ws(r)+i+Ws(o)+l+Ws(a)+c+Ws(u)+h;case 6:return t+Ws(n)+s+Ws(r)+i+Ws(o)+l+Ws(a)+c+Ws(u)+h+Ws(d)+p;case 7:return t+Ws(n)+s+Ws(r)+i+Ws(o)+l+Ws(a)+c+Ws(u)+h+Ws(d)+p+Ws(f)+m;case 8:return t+Ws(n)+s+Ws(r)+i+Ws(o)+l+Ws(a)+c+Ws(u)+h+Ws(d)+p+Ws(f)+m+Ws(g)+y;case 9:return t+Ws(n)+s+Ws(r)+i+Ws(o)+l+Ws(a)+c+Ws(u)+h+Ws(d)+p+Ws(f)+m+Ws(g)+y+Ws(_)+v;default:throw new Error("Does not support more than 9 expressions")}}function Ws(e){return null!=e?e.toString():""}const Zs=new Object,Js=ys(en),Ys=ys(Pe),Xs=ys(Qe);function er(e,t,n,s){return n=xe(n),{index:-1,deps:Fs(s,we(t)),flags:e,token:t,value:n}}function tr(e,t,n=en.THROW_IF_NOT_FOUND){const s=$e(e);try{if(8&t.flags)return t.token;if(2&t.flags&&(n=null),1&t.flags)return e._parent.get(t.token,n);const o=t.tokenKey;switch(o){case Js:case Ys:case Xs:return e}const l=e._def.providersByKey[o];let a;if(l){let t=e._providers[l.index];return void 0===t&&(t=e._providers[l.index]=nr(e,l)),t===Zs?void 0:t}if((a=ve(t.token))&&(r=e,null!=(i=a).providedIn&&(function(e,t){return e._def.modules.indexOf(t)>-1}(r,i.providedIn)||"root"===i.providedIn&&r._def.isRoot))){const n=e._providers.length;return e._def.providers[n]=e._def.providersByKey[t.tokenKey]={flags:5120,value:a.factory,deps:[],index:n,token:t.token},e._providers[n]=Zs,e._providers[n]=nr(e,e._def.providersByKey[t.tokenKey])}return 4&t.flags?n:e._parent.get(t.token,n)}finally{$e(s)}var r,i}function nr(e,t){let n;switch(201347067&t.flags){case 512:n=function(e,t,n){const s=n.length;switch(s){case 0:return new t;case 1:return new t(tr(e,n[0]));case 2:return new t(tr(e,n[0]),tr(e,n[1]));case 3:return new t(tr(e,n[0]),tr(e,n[1]),tr(e,n[2]));default:const r=new Array(s);for(let t=0;t<s;t++)r[t]=tr(e,n[t]);return new t(...r)}}(e,t.value,t.deps);break;case 1024:n=function(e,t,n){const s=n.length;switch(s){case 0:return t();case 1:return t(tr(e,n[0]));case 2:return t(tr(e,n[0]),tr(e,n[1]));case 3:return t(tr(e,n[0]),tr(e,n[1]),tr(e,n[2]));default:const r=Array(s);for(let t=0;t<s;t++)r[t]=tr(e,n[t]);return t(...r)}}(e,t.value,t.deps);break;case 2048:n=tr(e,t.deps[0]);break;case 256:n=t.value}return n===Zs||null===n||"object"!=typeof n||131072&t.flags||"function"!=typeof n.ngOnDestroy||(t.flags|=131072),void 0===n?Zs:n}function sr(e,t){const n=e.viewContainer._embeddedViews;if((null==t||t>=n.length)&&(t=n.length-1),t<0)return null;const s=n[t];return s.viewContainerParent=null,Ze(n,t),fs.dirtyParentQueries(s),ir(s),s}function rr(e,t,n){const s=t?Ps(t,t.def.lastRenderRootNode):e.renderElement,r=n.renderer.parentNode(s),i=n.renderer.nextSibling(s);js(n,2,r,i,void 0)}function ir(e){js(e,3,null,null,void 0)}const or=new Object;function lr(e,t,n,s,r,i){return new ar(e,t,n,s,r,i)}class ar extends Cn{constructor(e,t,n,s,r,i){super(),this.selector=e,this.componentType=t,this._inputs=s,this._outputs=r,this.ngContentSelectors=i,this.viewDefFactory=n}get inputs(){const e=[],t=this._inputs;for(let n in t)e.push({propName:n,templateName:t[n]});return e}get outputs(){const e=[];for(let t in this._outputs)e.push({propName:t,templateName:this._outputs[t]});return e}create(e,t,n,s){if(!s)throw new Error("ngModule should be provided");const r=Us(this.viewDefFactory),i=r.nodes[0].element.componentProvider.nodeIndex,o=fs.createRootView(e,t||[],n,r,s,or),l=hs(o,i).instance;return n&&o.renderer.setAttribute(us(o,0).renderElement,"ng-version",Vn.full),new cr(o,new pr(o),l)}}class cr extends wn{constructor(e,t,n){super(),this._view=e,this._viewRef=t,this._component=n,this._elDef=this._view.def.nodes[0],this.hostView=t,this.changeDetectorRef=t,this.instance=n}get location(){return new An(us(this._view,this._elDef.nodeIndex).renderElement)}get injector(){return new yr(this._view,this._elDef)}get componentType(){return this._component.constructor}destroy(){this._viewRef.destroy()}onDestroy(e){this._viewRef.onDestroy(e)}}function ur(e,t,n){return new hr(e,t,n)}class hr{constructor(e,t,n){this._view=e,this._elDef=t,this._data=n,this._embeddedViews=[]}get element(){return new An(this._data.renderElement)}get injector(){return new yr(this._view,this._elDef)}get parentInjector(){let e=this._view,t=this._elDef.parent;for(;!t&&e;)t=As(e),e=e.parent;return e?new yr(e,t):new yr(this._view,null)}clear(){for(let e=this._embeddedViews.length-1;e>=0;e--){const t=sr(this._data,e);fs.destroyView(t)}}get(e){const t=this._embeddedViews[e];if(t){const e=new pr(t);return e.attachToViewContainerRef(this),e}return null}get length(){return this._embeddedViews.length}createEmbeddedView(e,t,n){const s=e.createEmbeddedView(t||{});return this.insert(s,n),s}createComponent(e,t,n,s,r){const i=n||this.parentInjector;r||e instanceof In||(r=i.get(Qe));const o=e.create(i,s,void 0,r);return this.insert(o.hostView,t),o}insert(e,t){if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");const n=e;return function(e,t,n,s){let r=t.viewContainer._embeddedViews;null==n&&(n=r.length),s.viewContainerParent=e,We(r,n,s),function(e,t){const n=Os(t);if(!n||n===e||16&t.state)return;t.state|=16;let s=n.template._projectedViews;s||(s=n.template._projectedViews=[]),s.push(t),function(e,t){if(4&t.flags)return;e.nodeFlags|=4,t.flags|=4;let n=t.parent;for(;n;)n.childFlags|=4,n=n.parent}(t.parent.def,t.parentNodeDef)}(t,s),fs.dirtyParentQueries(s),rr(t,n>0?r[n-1]:null,s)}(this._view,this._data,t,n._view),n.attachToViewContainerRef(this),e}move(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const n=this._embeddedViews.indexOf(e._view);return function(e,t,n){const s=e.viewContainer._embeddedViews,r=s[t];Ze(s,t),null==n&&(n=s.length),We(s,n,r),fs.dirtyParentQueries(r),ir(r),rr(e,n>0?s[n-1]:null,r)}(this._data,n,t),e}indexOf(e){return this._embeddedViews.indexOf(e._view)}remove(e){const t=sr(this._data,e);t&&fs.destroyView(t)}detach(e){const t=sr(this._data,e);return t?new pr(t):null}}function dr(e){return new pr(e)}class pr{constructor(e){this._view=e,this._viewContainerRef=null,this._appRef=null}get rootNodes(){return function(e){const t=[];return js(e,0,void 0,void 0,t),t}(this._view)}get context(){return this._view.context}get destroyed(){return 0!=(128&this._view.state)}markForCheck(){Ts(this._view)}detach(){this._view.state&=-5}detectChanges(){const e=this._view.root.rendererFactory;e.begin&&e.begin();try{fs.checkAndUpdateView(this._view)}finally{e.end&&e.end()}}checkNoChanges(){fs.checkNoChangesView(this._view)}reattach(){this._view.state|=4}onDestroy(e){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(e)}destroy(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),fs.destroyView(this._view)}detachFromAppRef(){this._appRef=null,ir(this._view),fs.dirtyParentQueries(this._view)}attachToAppRef(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}attachToViewContainerRef(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}}function fr(e,t){return new mr(e,t)}class mr extends es{constructor(e,t){super(),this._parentView=e,this._def=t}createEmbeddedView(e){return new pr(fs.createEmbeddedView(this._parentView,this._def,this._def.element.template,e))}get elementRef(){return new An(us(this._parentView,this._def.nodeIndex).renderElement)}}function gr(e,t){return new yr(e,t)}class yr{constructor(e,t){this.view=e,this.elDef=t}get(e,t=en.THROW_IF_NOT_FOUND){return fs.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:e,tokenKey:ys(e)},t)}}function _r(e,t){const n=e.def.nodes[t];if(1&n.flags){const t=us(e,n.nodeIndex);return n.element.template?t.template:t.renderElement}if(2&n.flags)return cs(e,n.nodeIndex).renderText;if(20240&n.flags)return hs(e,n.nodeIndex).instance;throw new Error(`Illegal state: read nodeValue for node index ${t}`)}function vr(e){return new br(e.renderer)}class br{constructor(e){this.delegate=e}selectRootElement(e){return this.delegate.selectRootElement(e)}createElement(e,t){const[n,s]=Gs(t),r=this.delegate.createElement(s,n);return e&&this.delegate.appendChild(e,r),r}createViewRoot(e){return e}createTemplateAnchor(e){const t=this.delegate.createComment("");return e&&this.delegate.appendChild(e,t),t}createText(e,t){const n=this.delegate.createText(t);return e&&this.delegate.appendChild(e,n),n}projectNodes(e,t){for(let n=0;n<t.length;n++)this.delegate.appendChild(e,t[n])}attachViewAfter(e,t){const n=this.delegate.parentNode(e),s=this.delegate.nextSibling(e);for(let r=0;r<t.length;r++)this.delegate.insertBefore(n,t[r],s)}detachView(e){for(let t=0;t<e.length;t++){const n=e[t],s=this.delegate.parentNode(n);this.delegate.removeChild(s,n)}}destroyView(e,t){for(let n=0;n<t.length;n++)this.delegate.destroyNode(t[n])}listen(e,t,n){return this.delegate.listen(e,t,n)}listenGlobal(e,t,n){return this.delegate.listen(e,t,n)}setElementProperty(e,t,n){this.delegate.setProperty(e,t,n)}setElementAttribute(e,t,n){const[s,r]=Gs(t);null!=n?this.delegate.setAttribute(e,r,n,s):this.delegate.removeAttribute(e,r,s)}setBindingDebugInfo(e,t,n){}setElementClass(e,t,n){n?this.delegate.addClass(e,t):this.delegate.removeClass(e,t)}setElementStyle(e,t,n){null!=n?this.delegate.setStyle(e,t,n):this.delegate.removeStyle(e,t)}invokeElementMethod(e,t,n){e[t].apply(e,n)}setText(e,t){this.delegate.setValue(e,t)}animate(){throw new Error("Renderer.animate is no longer supported!")}}function wr(e,t,n,s){return new Cr(e,t,n,s)}class Cr{constructor(e,t,n,s){this._moduleType=e,this._parent=t,this._bootstrapComponents=n,this._def=s,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(e){const t=e._def,n=e._providers=new Array(t.providers.length);for(let s=0;s<t.providers.length;s++){const r=t.providers[s];4096&r.flags||void 0===n[s]&&(n[s]=nr(e,r))}}(this)}get(e,t=en.THROW_IF_NOT_FOUND,n=ge.Default){let s=0;return n&ge.SkipSelf?s|=1:n&ge.Self&&(s|=4),tr(this,{token:e,tokenKey:ys(e),flags:s},t)}get instance(){return this.get(this._moduleType)}get componentFactoryResolver(){return this.get(Tn)}destroy(){if(this._destroyed)throw new Error(`The ng module ${we(this.instance.constructor)} has already been destroyed.`);this._destroyed=!0,function(e,t){const n=e._def,s=new Set;for(let r=0;r<n.providers.length;r++)if(131072&n.providers[r].flags){const t=e._providers[r];if(t&&t!==Zs){const e=t.ngOnDestroy;"function"!=typeof e||s.has(t)||(e.apply(t),s.add(t))}}}(this),this._destroyListeners.forEach(e=>e())}onDestroy(e){this._destroyListeners.push(e)}}const Sr=ys(Rn),xr=ys(Mn),Er=ys(An),Tr=ys(ns),kr=ys(es),Ir=ys(Ft),Or=ys(en),Ar=ys(Pe);function Pr(e,t,n,s,r,i,o,l){const a=[];if(o)for(let u in o){const[e,t]=o[u];a[e]={flags:8,name:u,nonMinifiedName:t,ns:null,securityContext:null,suffix:null}}const c=[];if(l)for(let u in l)c.push({type:1,propName:u,target:null,eventName:l[u]});return Dr(e,t|=16384,n,s,r,r,i,a,c)}function Rr(e,t,n){return Dr(-1,e|=16,null,0,t,t,n)}function Nr(e,t,n,s,r){return Dr(-1,e,t,0,n,s,r)}function Dr(e,t,n,s,r,i,o,l,a){const{matchedQueries:c,references:u,matchedQueryIds:h}=Ms(n);a||(a=[]),l||(l=[]),i=xe(i);const d=Fs(o,we(r));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:c,matchedQueryIds:h,references:u,ngContentIndex:-1,childCount:s,bindings:l,bindingFlags:Qs(l),outputs:a,element:null,provider:{token:r,value:i,deps:d},text:null,query:null,ngContent:null}}function Mr(e,t){return Ur(e,t)}function Fr(e,t){let n=e;for(;n.parent&&!Rs(n);)n=n.parent;return jr(n.parent,As(n),!0,t.provider.value,t.provider.deps)}function Lr(e,t){const n=jr(e,t.parent,(32768&t.flags)>0,t.provider.value,t.provider.deps);if(t.outputs.length)for(let s=0;s<t.outputs.length;s++){const r=t.outputs[s],i=n[r.propName];if(!vn(i))throw new Error(`@Output ${r.propName} not initialized in '${n.constructor.name}'.`);{const n=i.subscribe(Vr(e,t.parent.nodeIndex,r.eventName));e.disposables[t.outputIndex+s]=n.unsubscribe.bind(n)}}return n}function Vr(e,t,n){return s=>Is(e,t,n,s)}function Ur(e,t){const n=(8192&t.flags)>0,s=t.provider;switch(201347067&t.flags){case 512:return jr(e,t.parent,n,s.value,s.deps);case 1024:return function(e,t,n,s,r){const i=r.length;switch(i){case 0:return s();case 1:return s(Hr(e,t,n,r[0]));case 2:return s(Hr(e,t,n,r[0]),Hr(e,t,n,r[1]));case 3:return s(Hr(e,t,n,r[0]),Hr(e,t,n,r[1]),Hr(e,t,n,r[2]));default:const o=Array(i);for(let s=0;s<i;s++)o[s]=Hr(e,t,n,r[s]);return s(...o)}}(e,t.parent,n,s.value,s.deps);case 2048:return Hr(e,t.parent,n,s.deps[0]);case 256:return s.value}}function jr(e,t,n,s,r){const i=r.length;switch(i){case 0:return new s;case 1:return new s(Hr(e,t,n,r[0]));case 2:return new s(Hr(e,t,n,r[0]),Hr(e,t,n,r[1]));case 3:return new s(Hr(e,t,n,r[0]),Hr(e,t,n,r[1]),Hr(e,t,n,r[2]));default:const o=new Array(i);for(let s=0;s<i;s++)o[s]=Hr(e,t,n,r[s]);return new s(...o)}}const $r={};function Hr(e,t,n,s,r=en.THROW_IF_NOT_FOUND){if(8&s.flags)return s.token;const i=e;2&s.flags&&(r=null);const o=s.tokenKey;o===Ir&&(n=!(!t||!t.element.componentView)),t&&1&s.flags&&(n=!1,t=t.parent);let l=e;for(;l;){if(t)switch(o){case Sr:return vr(qr(l,t,n));case xr:return qr(l,t,n).renderer;case Er:return new An(us(l,t.nodeIndex).renderElement);case Tr:return us(l,t.nodeIndex).viewContainer;case kr:if(t.element.template)return us(l,t.nodeIndex).template;break;case Ir:return dr(qr(l,t,n));case Or:case Ar:return gr(l,t);default:const e=(n?t.element.allProviders:t.element.publicProviders)[o];if(e){let t=hs(l,e.nodeIndex);return t||(t={instance:Ur(l,e)},l.nodes[e.nodeIndex]=t),t.instance}}n=Rs(l),t=As(l),l=l.parent,4&s.flags&&(l=null)}const a=i.root.injector.get(s.token,$r);return a!==$r||r===$r?a:i.root.ngModule.injector.get(s.token,r)}function qr(e,t,n){let s;if(n)s=us(e,t.nodeIndex).componentView;else for(s=e;s.parent&&!Rs(s);)s=s.parent;return s}function zr(e,t,n,s,r,i){if(32768&n.flags){const t=us(e,n.parent.nodeIndex).componentView;2&t.def.flags&&(t.state|=8)}if(t.instance[n.bindings[s].name]=r,524288&n.flags){i=i||{};const t=mn.unwrap(e.oldValues[n.bindingIndex+s]);i[n.bindings[s].nonMinifiedName]=new bn(t,r,0!=(2&e.state))}return e.oldValues[n.bindingIndex+s]=r,i}function Br(e,t){if(!(e.def.nodeFlags&t))return;const n=e.def.nodes;let s=0;for(let r=0;r<n.length;r++){const i=n[r];let o=i.parent;for(!o&&i.flags&t&&Qr(e,r,i.flags&t,s++),0==(i.childFlags&t)&&(r+=i.childCount);o&&1&o.flags&&r===o.nodeIndex+o.childCount;)o.directChildFlags&t&&(s=Gr(e,o,t,s)),o=o.parent}}function Gr(e,t,n,s){for(let r=t.nodeIndex+1;r<=t.nodeIndex+t.childCount;r++){const t=e.def.nodes[r];t.flags&n&&Qr(e,r,t.flags&n,s++),r+=t.childCount}return s}function Qr(e,t,n,s){const r=hs(e,t);if(!r)return;const i=r.instance;i&&(fs.setCurrentNode(e,t),1048576&n&&as(e,512,s)&&i.ngAfterContentInit(),2097152&n&&i.ngAfterContentChecked(),4194304&n&&as(e,768,s)&&i.ngAfterViewInit(),8388608&n&&i.ngAfterViewChecked(),131072&n&&i.ngOnDestroy())}const Kr=new Ae("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Ye}),Wr={},Zr=function(){var e={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencySymbol:15,CurrencyName:16,Currencies:17,PluralCase:18,ExtraData:19};return e[e.LocaleId]="LocaleId",e[e.DayPeriodsFormat]="DayPeriodsFormat",e[e.DayPeriodsStandalone]="DayPeriodsStandalone",e[e.DaysFormat]="DaysFormat",e[e.DaysStandalone]="DaysStandalone",e[e.MonthsFormat]="MonthsFormat",e[e.MonthsStandalone]="MonthsStandalone",e[e.Eras]="Eras",e[e.FirstDayOfWeek]="FirstDayOfWeek",e[e.WeekendRange]="WeekendRange",e[e.DateFormat]="DateFormat",e[e.TimeFormat]="TimeFormat",e[e.DateTimeFormat]="DateTimeFormat",e[e.NumberSymbols]="NumberSymbols",e[e.NumberFormats]="NumberFormats",e[e.CurrencySymbol]="CurrencySymbol",e[e.CurrencyName]="CurrencyName",e[e.Currencies]="Currencies",e[e.PluralCase]="PluralCase",e[e.ExtraData]="ExtraData",e}(),Jr=void 0;var Yr=["en",[["a","p"],["AM","PM"],Jr],[["AM","PM"],Jr,Jr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Jr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Jr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Jr,"{1} 'at' {0}",Jr],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];const Xr="en-US";let ei=Xr;function ti(e){var t;t="Expected localeId to be defined",null==e&&function(e){throw new Error(`ASSERTION ERROR: ${e}`)}(t),"string"==typeof e&&(ei=e.toLowerCase().replace(/_/g,"-"))}class ni extends k{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){let s,r=e=>null,i=()=>null;e&&"object"==typeof e?(s=this.__isAsync?t=>{setTimeout(()=>e.next(t))}:t=>{e.next(t)},e.error&&(r=this.__isAsync?t=>{setTimeout(()=>e.error(t))}:t=>{e.error(t)}),e.complete&&(i=this.__isAsync?()=>{setTimeout(()=>e.complete())}:()=>{e.complete()})):(s=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)},t&&(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)}),n&&(i=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const o=super.subscribe(s,r,i);return e instanceof d&&e.add(o),o}}function si(){return this._results[dn()]()}class ri{constructor(){this.dirty=!0,this._results=[],this.changes=new ni,this.length=0;const e=dn(),t=ri.prototype;t[e]||(t[e]=si)}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e){this._results=function e(t,n){void 0===n&&(n=t);for(let s=0;s<t.length;s++){let r=t[s];Array.isArray(r)?(n===t&&(n=t.slice(0,s)),e(r,n)):n!==t&&n.push(r)}return n}(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}const ii=ce("NgModule",e=>e,void 0,void 0,(e,t)=>oi(e,t)),oi=function(e,t){let n=t&&t.imports||[];var s;t&&t.exports&&(n=[...n,t.exports]),e.ngInjectorDef={factory:(s={factory:Wt(e,{useClass:e}),providers:t&&t.providers,imports:n}).factory,providers:s.providers||[],imports:s.imports||[]}},li=new Ae("Application Initializer");class ai{constructor(e){this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const t=this.appInits[n]();_n(t)&&e.push(t)}Promise.all(e).then(()=>{t()}).catch(e=>{this.reject(e)}),0===e.length&&t(),this.initialized=!0}}const ci=new Ae("AppId");function ui(){return`${hi()}${hi()}${hi()}`}function hi(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const di=new Ae("Platform Initializer"),pi=new Ae("Platform ID"),fi=new Ae("appBootstrapListener");class mi{log(e){console.log(e)}warn(e){console.warn(e)}}const gi=new Ae("LocaleId"),yi=!1;function _i(){throw new Error("Runtime compiler is not loaded")}const vi=_i,bi=_i,wi=_i,Ci=_i;class Si{constructor(){this.compileModuleSync=vi,this.compileModuleAsync=bi,this.compileModuleAndAllComponentsSync=wi,this.compileModuleAndAllComponentsAsync=Ci}clearCache(){}clearCacheFor(e){}getModuleId(e){}}class xi{}let Ei,Ti;function ki(){const e=Oe.wtf;return!(!e||!(Ei=e.trace)||(Ti=Ei.events,0))}const Ii=ki();function Oi(e,t){return null}const Ai=Ii?function(e,t=null){return Ti.createScope(e,t)}:(e,t)=>Oi,Pi=Ii?function(e,t){return Ei.leaveScope(e,t),t}:(e,t)=>t,Ri=(()=>Promise.resolve(0))();function Ni(e){"undefined"==typeof Zone?Ri.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Di{constructor({enableLongStackTrace:e=!1}){if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ni(!1),this.onMicrotaskEmpty=new ni(!1),this.onStable=new ni(!1),this.onError=new ni(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");var t;Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(t=this)._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,n,s,r,i,o)=>{try{return Vi(t),e.invokeTask(s,r,i,o)}finally{Ui(t)}},onInvoke:(e,n,s,r,i,o,l)=>{try{return Vi(t),e.invoke(s,r,i,o,l)}finally{Ui(t)}},onHasTask:(e,n,s,r)=>{e.hasTask(s,r),n===s&&("microTask"==r.change?(t.hasPendingMicrotasks=r.microTask,Li(t)):"macroTask"==r.change&&(t.hasPendingMacrotasks=r.macroTask))},onHandleError:(e,n,s,r)=>(e.handleError(s,r),t.runOutsideAngular(()=>t.onError.emit(r)),!1)})}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Di.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Di.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,s){const r=this._inner,i=r.scheduleEventTask("NgZoneEvent: "+s,e,Fi,Mi,Mi);try{return r.runTask(i,t,n)}finally{r.cancelTask(i)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}}function Mi(){}const Fi={};function Li(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Vi(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Ui(e){e._nesting--,Li(e)}class ji{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ni,this.onMicrotaskEmpty=new ni,this.onStable=new ni,this.onError=new ni}run(e){return e()}runGuarded(e){return e()}runOutsideAngular(e){return e()}runTask(e){return e()}}class $i{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Di.assertNotInAngularZone(),Ni(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ni(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,n){let s=-1;t&&t>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(e=>e.timeoutId!==s),e(this._didWork,this.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:s,updateCb:n})}whenStable(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,n){return[]}}class Hi{constructor(){this._applications=new Map,Bi.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return Bi.findTestabilityInTree(this,e,t)}}class qi{addToWindow(e){}findTestabilityInTree(e,t,n){return null}}let zi,Bi=new qi,Gi=function(e,t,n){return e.get(xi).createCompiler([t]).compileModuleAsync(n)},Qi=function(e){return e instanceof In};const Ki=new Ae("AllowMultipleToken");class Wi{constructor(e,t){this.name=e,this.token=t}}function Zi(e,t,n=[]){const s=`Platform: ${t}`,r=new Ae(s);return(t=[])=>{let i=Ji();if(!i||i.injector.get(Ki,!1))if(e)e(n.concat(t).concat({provide:r,useValue:!0}));else{const e=n.concat(t).concat({provide:r,useValue:!0});!function(e){if(zi&&!zi.destroyed&&!zi.injector.get(Ki,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");zi=e.get(Yi);const t=e.get(di,null);t&&t.forEach(e=>e())}(en.create({providers:e,name:s}))}return function(e){const t=Ji();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(r)}}function Ji(){return zi&&!zi.destroyed?zi:null}class Yi{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const n="noop"===(r=t?t.ngZone:void 0)?new ji:("zone.js"===r?void 0:r)||new Di({enableLongStackTrace:at()}),s=[{provide:Di,useValue:n}];var r;return n.run(()=>{const t=en.create({providers:s,parent:this.injector,name:e.moduleType.name}),r=e.create(t),i=r.injector.get(it,null);if(!i)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return yi&&ti(r.injector.get(gi,Xr)||Xr),r.onDestroy(()=>to(this._modules,r)),n.runOutsideAngular(()=>n.onError.subscribe({next:e=>{i.handleError(e)}})),function(e,t,n){try{const s=n();return _n(s)?s.catch(n=>{throw t.runOutsideAngular(()=>e.handleError(n)),n}):s}catch(s){throw t.runOutsideAngular(()=>e.handleError(s)),s}}(i,n,()=>{const e=r.injector.get(ai);return e.runInitializers(),e.donePromise.then(()=>(this._moduleDoBootstrap(r),r))})})}bootstrapModule(e,t=[]){const n=Xi({},t);return Gi(this.injector,n,e).then(e=>this.bootstrapModuleFactory(e,n))}_moduleDoBootstrap(e){const t=e.injector.get(eo);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(e=>t.bootstrap(e));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${we(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. `+"Please define one of these.");e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}function Xi(e,t){return Array.isArray(t)?t.reduce(Xi,e):Object.assign({},e,t)}let eo=(()=>{class e{constructor(e,t,n,s,r,i){this._zone=e,this._console=t,this._injector=n,this._exceptionHandler=s,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=at(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new w(e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{e.next(this._stable),e.complete()})}),l=new w(e=>{let t;this._zone.runOutsideAngular(()=>{t=this._zone.onStable.subscribe(()=>{Di.assertNotInAngularZone(),Ni(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,e.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Di.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{e.next(!1)}))});return()=>{t.unsubscribe(),n.unsubscribe()}});this.isStable=Y(o,l.pipe(e=>X()(function(e,t){return function(t){let n;n="function"==typeof e?e:function(){return e};const s=Object.create(t,se);return s.source=t,s.subjectFactory=n,s}}(ie)(e))))}bootstrap(e,t){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=e instanceof Cn?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);const s=Qi(n)?null:this._injector.get(Qe),r=n.create(en.NULL,[],t||n.selector,s);r.onDestroy(()=>{this._unloadComponent(r)});const i=r.injector.get($i,null);return i&&r.injector.get(Hi).registerApplication(r.location.nativeElement,i),this._loadComponent(r),at()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),r}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");const t=e._tickScope();try{this._runningTick=!0;for(let e of this._views)e.detectChanges();if(this._enforceNoNewChanges)for(let e of this._views)e.checkNoChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1,Pi(t)}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;to(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(fi,[]).concat(this._bootstrapListeners).forEach(t=>t(e))}_unloadComponent(e){this.detachView(e.hostView),to(this.components,e)}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy())}get viewCount(){return this._views.length}}return e._tickScope=Ai("ApplicationRef#tick()"),e})();function to(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class no{}const so="#",ro="NgFactory";class io{}const oo={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};class lo{constructor(e,t){this._compiler=e,this._config=t||oo}load(e){return!yi&&this._compiler instanceof Si?this.loadFactory(e):this.loadAndCompile(e)}loadAndCompile(e){let[t,s]=e.split(so);return void 0===s&&(s="default"),n("zn8P")(t).then(e=>e[s]).then(e=>ao(e,t,s)).then(e=>this._compiler.compileModuleAsync(e))}loadFactory(e){let[t,s]=e.split(so),r=ro;return void 0===s&&(s="default",r=""),n("zn8P")(this._config.factoryPathPrefix+t+this._config.factoryPathSuffix).then(e=>e[s+r]).then(e=>ao(e,t,s))}}function ao(e,t,n){if(!e)throw new Error(`Cannot find '${n}' in '${t}'`);return e}class co{constructor(e,t){this.name=e,this.callback=t}}class uo{constructor(e,t,n){this.listeners=[],this.parent=null,this._debugContext=n,this.nativeNode=e,t&&t instanceof ho&&t.addChild(this)}get injector(){return this._debugContext.injector}get componentInstance(){return this._debugContext.component}get context(){return this._debugContext.context}get references(){return this._debugContext.references}get providerTokens(){return this._debugContext.providerTokens}}class ho extends uo{constructor(e,t,n){super(e,t,n),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=e}addChild(e){e&&(this.childNodes.push(e),e.parent=this)}removeChild(e){const t=this.childNodes.indexOf(e);-1!==t&&(e.parent=null,this.childNodes.splice(t,1))}insertChildrenAfter(e,t){const n=this.childNodes.indexOf(e);-1!==n&&(this.childNodes.splice(n+1,0,...t),t.forEach(t=>{t.parent&&t.parent.removeChild(t),e.parent=this}))}insertBefore(e,t){const n=this.childNodes.indexOf(e);-1===n?this.addChild(t):(t.parent&&t.parent.removeChild(t),t.parent=this,this.childNodes.splice(n,0,t))}query(e){return this.queryAll(e)[0]||null}queryAll(e){const t=[];return function e(t,n,s){t.childNodes.forEach(t=>{t instanceof ho&&(n(t)&&s.push(t),e(t,n,s))})}(this,e,t),t}queryAllNodes(e){const t=[];return function e(t,n,s){t instanceof ho&&t.childNodes.forEach(t=>{n(t)&&s.push(t),t instanceof ho&&e(t,n,s)})}(this,e,t),t}get children(){return this.childNodes.filter(e=>e instanceof ho)}triggerEventHandler(e,t){this.listeners.forEach(n=>{n.name==e&&n.callback(t)})}}const po=new Map,fo=function(e){return po.get(e)||null};function mo(e){po.set(e.nativeNode,e)}const go=Zi(null,"core",[{provide:pi,useValue:"unknown"},{provide:Yi,deps:[en]},{provide:Hi,deps:[]},{provide:mi,deps:[]}]);function yo(){return Yn}function _o(){return Xn}function vo(e){return e?(yi&&ti(e),e):Xr}function bo(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}class wo{constructor(e){}}function Co(e,t,n,s,r,i){e|=1;const{matchedQueries:o,references:l,matchedQueryIds:a}=Ms(t);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:e,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:o,matchedQueryIds:a,references:l,ngContentIndex:n,childCount:s,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:i?Us(i):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:r||ms},provider:null,text:null,query:null,ngContent:null}}function So(e,t,n,s,r,i,o=[],l,a,c,u,h){c||(c=ms);const{matchedQueries:d,references:p,matchedQueryIds:f}=Ms(n);let m=null,g=null;i&&([m,g]=Gs(i)),l=l||[];const y=new Array(l.length);for(let b=0;b<l.length;b++){const[e,t,n]=l[b],[s,r]=Gs(t);let i=void 0,o=void 0;switch(15&e){case 4:o=n;break;case 1:case 8:i=n}y[b]={flags:e,ns:s,name:r,nonMinifiedName:r,securityContext:i,suffix:o}}a=a||[];const _=new Array(a.length);for(let b=0;b<a.length;b++){const[e,t]=a[b];_[b]={type:0,target:e,eventName:t,propName:null}}const v=(o=o||[]).map(([e,t])=>{const[n,s]=Gs(e);return[n,s,t]});return h=function(e){if(e&&e.id===vs){const t=null!=e.encapsulation&&e.encapsulation!==Je.None||e.styles.length||Object.keys(e.data).length;e.id=t?`c${Cs++}`:bs}return e&&e.id===bs&&(e=null),e||null}(h),u&&(t|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:d,matchedQueryIds:f,references:p,ngContentIndex:s,childCount:r,bindings:y,bindingFlags:Qs(y),outputs:_,element:{ns:m,name:g,attrs:v,template:null,componentProvider:null,componentView:u||null,componentRendererType:h,publicProviders:null,allProviders:null,handleEvent:c||ms},provider:null,text:null,query:null,ngContent:null}}function xo(e,t,n){const s=n.element,r=e.root.selectorOrNode,i=e.renderer;let o;if(e.parent||!r){o=s.name?i.createElement(s.name,s.ns):i.createComment("");const r=Ls(e,t,n);r&&i.appendChild(r,o)}else o=i.selectRootElement(r,!!s.componentRendererType&&s.componentRendererType.encapsulation===Je.ShadowDom);if(s.attrs)for(let l=0;l<s.attrs.length;l++){const[e,t,n]=s.attrs[l];i.setAttribute(o,t,n,e)}return o}function Eo(e,t,n,s){for(let o=0;o<n.outputs.length;o++){const l=n.outputs[o],a=To(e,n.nodeIndex,(i=l.eventName,(r=l.target)?`${r}:${i}`:i));let c=l.target,u=e;"component"===l.target&&(c=null,u=t);const h=u.renderer.listen(c||s,l.eventName,a);e.disposables[n.outputIndex+o]=h}var r,i}function To(e,t,n){return s=>Is(e,t,n,s)}function ko(e,t,n,s){if(!xs(e,t,n,s))return!1;const r=t.bindings[n],i=us(e,t.nodeIndex),o=i.renderElement,l=r.name;switch(15&r.flags){case 1:!function(e,t,n,s,r,i){const o=t.securityContext;let l=o?e.root.sanitizer.sanitize(o,i):i;l=null!=l?l.toString():null;const a=e.renderer;null!=i?a.setAttribute(n,r,l,s):a.removeAttribute(n,r,s)}(e,r,o,r.ns,l,s);break;case 2:!function(e,t,n,s){const r=e.renderer;s?r.addClass(t,n):r.removeClass(t,n)}(e,o,l,s);break;case 4:!function(e,t,n,s,r){let i=e.root.sanitizer.sanitize(At.STYLE,r);if(null!=i){i=i.toString();const e=t.suffix;null!=e&&(i+=e)}else i=null;const o=e.renderer;null!=i?o.setStyle(n,s,i):o.removeStyle(n,s)}(e,r,o,l,s);break;case 8:!function(e,t,n,s,r){const i=t.securityContext;let o=i?e.root.sanitizer.sanitize(i,r):r;e.renderer.setProperty(n,s,o)}(33554432&t.flags&&32&r.flags?i.componentView:e,r,o,l,s)}return!0}function Io(e,t,n){let s=[];for(let r in n)s.push({propName:r,bindingType:n[r]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:t,filterId:Ds(t),bindings:s},ngContent:null}}function Oo(e){const t=e.def.nodeMatchedQueries;for(;e.parent&&Ns(e);){let n=e.parentNodeDef;e=e.parent;const s=n.nodeIndex+n.childCount;for(let r=0;r<=s;r++){const s=e.def.nodes[r];67108864&s.flags&&536870912&s.flags&&(s.query.filterId&t)===s.query.filterId&&ps(e,r).setDirty(),!(1&s.flags&&r+s.childCount<n.nodeIndex)&&67108864&s.childFlags&&536870912&s.childFlags||(r+=s.childCount)}}if(134217728&e.def.nodeFlags)for(let n=0;n<e.def.nodes.length;n++){const t=e.def.nodes[n];134217728&t.flags&&536870912&t.flags&&ps(e,n).setDirty(),n+=t.childCount}}function Ao(e,t){const n=ps(e,t.nodeIndex);if(!n.dirty)return;let s,r=void 0;if(67108864&t.flags){const n=t.parent.parent;r=Po(e,n.nodeIndex,n.nodeIndex+n.childCount,t.query,[]),s=hs(e,t.parent.nodeIndex).instance}else 134217728&t.flags&&(r=Po(e,0,e.def.nodes.length-1,t.query,[]),s=e.component);n.reset(r);const i=t.query.bindings;let o=!1;for(let l=0;l<i.length;l++){const e=i[l];let t;switch(e.bindingType){case 0:t=n.first;break;case 1:t=n,o=!0}s[e.propName]=t}o&&n.notifyOnChanges()}function Po(e,t,n,s,r){for(let i=t;i<=n;i++){const t=e.def.nodes[i],n=t.matchedQueries[s.id];if(null!=n&&r.push(Ro(e,t,n)),1&t.flags&&t.element.template&&(t.element.template.nodeMatchedQueries&s.filterId)===s.filterId){const n=us(e,i);if((t.childMatchedQueries&s.filterId)===s.filterId&&(Po(e,i+1,i+t.childCount,s,r),i+=t.childCount),16777216&t.flags){const e=n.viewContainer._embeddedViews;for(let t=0;t<e.length;t++){const i=e[t],o=Os(i);o&&o===n&&Po(i,0,i.def.nodes.length-1,s,r)}}const o=n.template._projectedViews;if(o)for(let e=0;e<o.length;e++){const t=o[e];Po(t,0,t.def.nodes.length-1,s,r)}}(t.childMatchedQueries&s.filterId)!==s.filterId&&(i+=t.childCount)}return r}function Ro(e,t,n){if(null!=n)switch(n){case 1:return us(e,t.nodeIndex).renderElement;case 0:return new An(us(e,t.nodeIndex).renderElement);case 2:return us(e,t.nodeIndex).template;case 3:return us(e,t.nodeIndex).viewContainer;case 4:return hs(e,t.nodeIndex).instance}}function No(e,t){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:t}}}function Do(e,t,n){const s=Ls(e,t,n);s&&Hs(e,n.ngContent.index,1,s,null,void 0)}function Mo(e,t){return Lo(128,e,new Array(t+1))}function Fo(e,t){const n=Object.keys(t),s=n.length,r=new Array(s);for(let i=0;i<s;i++){const e=n[i];r[t[e]]=e}return Lo(64,e,r)}function Lo(e,t,n){const s=new Array(n.length);for(let r=0;r<n.length;r++){const e=n[r];s[r]={flags:8,name:e,ns:null,nonMinifiedName:e,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:s,bindingFlags:Qs(s),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function Vo(e,t,n){const s=new Array(n.length-1);for(let r=1;r<n.length;r++)s[r-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[r]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:s,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function Uo(e,t,n){let s;const r=e.renderer;s=r.createText(n.text.prefix);const i=Ls(e,t,n);return i&&r.appendChild(i,s),{renderText:s}}function jo(e,t){return(null!=e?e.toString():"")+t.suffix}function $o(e,t,n,s){let r=0,i=0,o=0,l=0,a=0,c=null,u=null,h=!1,d=!1,p=null;for(let f=0;f<t.length;f++){const e=t[f];if(e.nodeIndex=f,e.parent=c,e.bindingIndex=r,e.outputIndex=i,e.renderParent=u,o|=e.flags,a|=e.matchedQueryIds,e.element){const t=e.element;t.publicProviders=c?c.element.publicProviders:Object.create(null),t.allProviders=t.publicProviders,h=!1,d=!1,e.element.template&&(a|=e.element.template.nodeMatchedQueries)}if(qo(c,e,t.length),r+=e.bindings.length,i+=e.outputs.length,!u&&3&e.flags&&(p=e),20224&e.flags){h||(h=!0,c.element.publicProviders=Object.create(c.element.publicProviders),c.element.allProviders=c.element.publicProviders);const t=0!=(32768&e.flags);0==(8192&e.flags)||t?c.element.publicProviders[ys(e.provider.token)]=e:(d||(d=!0,c.element.allProviders=Object.create(c.element.publicProviders)),c.element.allProviders[ys(e.provider.token)]=e),t&&(c.element.componentProvider=e)}if(c?(c.childFlags|=e.flags,c.directChildFlags|=e.flags,c.childMatchedQueries|=e.matchedQueryIds,e.element&&e.element.template&&(c.childMatchedQueries|=e.element.template.nodeMatchedQueries)):l|=e.flags,e.childCount>0)c=e,Ho(e)||(u=e);else for(;c&&f===c.nodeIndex+c.childCount;){const e=c.parent;e&&(e.childFlags|=c.childFlags,e.childMatchedQueries|=c.childMatchedQueries),u=(c=e)&&Ho(c)?c.renderParent:c}}return{factory:null,nodeFlags:o,rootNodeFlags:l,nodeMatchedQueries:a,flags:e,nodes:t,updateDirectives:n||ms,updateRenderer:s||ms,handleEvent:(e,n,s,r)=>t[n].element.handleEvent(e,s,r),bindingCount:r,outputCount:i,lastRenderRootNode:p}}function Ho(e){return 0!=(1&e.flags)&&null===e.element.name}function qo(e,t,n){const s=t.element&&t.element.template;if(s){if(!s.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(s.lastRenderRootNode&&16777216&s.lastRenderRootNode.flags)throw new Error(`Illegal State: Last root node of a template can't have embedded views, at index ${t.nodeIndex}!`)}if(20224&t.flags&&0==(1&(e?e.flags:0)))throw new Error(`Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ${t.nodeIndex}!`);if(t.query){if(67108864&t.flags&&(!e||0==(16384&e.flags)))throw new Error(`Illegal State: Content Query nodes need to be children of directives, at index ${t.nodeIndex}!`);if(134217728&t.flags&&e)throw new Error(`Illegal State: View Query nodes have to be top level nodes, at index ${t.nodeIndex}!`)}if(t.childCount){const s=e?e.nodeIndex+e.childCount:n-1;if(t.nodeIndex<=s&&t.nodeIndex+t.childCount>s)throw new Error(`Illegal State: childCount of node leads outside of parent, at index ${t.nodeIndex}!`)}}function zo(e,t,n,s){const r=Qo(e.root,e.renderer,e,t,n);return Ko(r,e.component,s),Wo(r),r}function Bo(e,t,n){const s=Qo(e,e.renderer,null,null,t);return Ko(s,n,n),Wo(s),s}function Go(e,t,n,s){const r=t.element.componentRendererType;let i;return i=r?e.root.rendererFactory.createRenderer(s,r):e.root.renderer,Qo(e.root,i,e,t.element.componentProvider,n)}function Qo(e,t,n,s,r){const i=new Array(r.nodes.length),o=r.outputCount?new Array(r.outputCount):null;return{def:r,parent:n,viewContainerParent:null,parentNodeDef:s,context:null,component:null,nodes:i,state:13,root:e,renderer:t,oldValues:new Array(r.bindingCount),disposables:o,initIndex:-1}}function Ko(e,t,n){e.component=t,e.context=n}function Wo(e){let t;Rs(e)&&(t=us(e.parent,e.parentNodeDef.parent.nodeIndex).renderElement);const n=e.def,s=e.nodes;for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];let o;switch(fs.setCurrentNode(e,r),201347067&i.flags){case 1:const n=xo(e,t,i);let l=void 0;if(33554432&i.flags){const t=Us(i.element.componentView);l=fs.createComponentView(e,i,t,n)}Eo(e,l,i,n),o={renderElement:n,componentView:l,viewContainer:null,template:i.element.template?fr(e,i):void 0},16777216&i.flags&&(o.viewContainer=ur(e,i,o));break;case 2:o=Uo(e,t,i);break;case 512:case 1024:case 2048:case 256:(o=s[r])||4096&i.flags||(o={instance:Mr(e,i)});break;case 16:o={instance:Fr(e,i)};break;case 16384:(o=s[r])||(o={instance:Lr(e,i)}),32768&i.flags&&Ko(us(e,i.parent.nodeIndex).componentView,o.instance,o.instance);break;case 32:case 64:case 128:o={value:void 0};break;case 67108864:case 134217728:o=new ri;break;case 8:Do(e,t,i),o=void 0}s[r]=o}rl(e,sl.CreateViewNodes),al(e,201326592,268435456,0)}function Zo(e){Xo(e),fs.updateDirectives(e,1),il(e,sl.CheckNoChanges),fs.updateRenderer(e,1),rl(e,sl.CheckNoChanges),e.state&=-97}function Jo(e){1&e.state?(e.state&=-2,e.state|=2):e.state&=-3,ls(e,0,256),Xo(e),fs.updateDirectives(e,0),il(e,sl.CheckAndUpdate),al(e,67108864,536870912,0);let t=ls(e,256,512);Br(e,2097152|(t?1048576:0)),fs.updateRenderer(e,0),rl(e,sl.CheckAndUpdate),al(e,134217728,536870912,0),Br(e,8388608|((t=ls(e,512,768))?4194304:0)),2&e.def.flags&&(e.state&=-9),e.state&=-97,ls(e,768,1024)}function Yo(e,t,n,s,r,i,o,l,a,c,u,h,d){return 0===n?function(e,t,n,s,r,i,o,l,a,c,u,h){switch(201347067&t.flags){case 1:return function(e,t,n,s,r,i,o,l,a,c,u,h){const d=t.bindings.length;let p=!1;return d>0&&ko(e,t,0,n)&&(p=!0),d>1&&ko(e,t,1,s)&&(p=!0),d>2&&ko(e,t,2,r)&&(p=!0),d>3&&ko(e,t,3,i)&&(p=!0),d>4&&ko(e,t,4,o)&&(p=!0),d>5&&ko(e,t,5,l)&&(p=!0),d>6&&ko(e,t,6,a)&&(p=!0),d>7&&ko(e,t,7,c)&&(p=!0),d>8&&ko(e,t,8,u)&&(p=!0),d>9&&ko(e,t,9,h)&&(p=!0),p}(e,t,n,s,r,i,o,l,a,c,u,h);case 2:return function(e,t,n,s,r,i,o,l,a,c,u,h){let d=!1;const p=t.bindings,f=p.length;if(f>0&&xs(e,t,0,n)&&(d=!0),f>1&&xs(e,t,1,s)&&(d=!0),f>2&&xs(e,t,2,r)&&(d=!0),f>3&&xs(e,t,3,i)&&(d=!0),f>4&&xs(e,t,4,o)&&(d=!0),f>5&&xs(e,t,5,l)&&(d=!0),f>6&&xs(e,t,6,a)&&(d=!0),f>7&&xs(e,t,7,c)&&(d=!0),f>8&&xs(e,t,8,u)&&(d=!0),f>9&&xs(e,t,9,h)&&(d=!0),d){let d=t.text.prefix;f>0&&(d+=jo(n,p[0])),f>1&&(d+=jo(s,p[1])),f>2&&(d+=jo(r,p[2])),f>3&&(d+=jo(i,p[3])),f>4&&(d+=jo(o,p[4])),f>5&&(d+=jo(l,p[5])),f>6&&(d+=jo(a,p[6])),f>7&&(d+=jo(c,p[7])),f>8&&(d+=jo(u,p[8])),f>9&&(d+=jo(h,p[9]));const m=cs(e,t.nodeIndex).renderText;e.renderer.setValue(m,d)}return d}(e,t,n,s,r,i,o,l,a,c,u,h);case 16384:return function(e,t,n,s,r,i,o,l,a,c,u,h){const d=hs(e,t.nodeIndex),p=d.instance;let f=!1,m=void 0;const g=t.bindings.length;return g>0&&Ss(e,t,0,n)&&(f=!0,m=zr(e,d,t,0,n,m)),g>1&&Ss(e,t,1,s)&&(f=!0,m=zr(e,d,t,1,s,m)),g>2&&Ss(e,t,2,r)&&(f=!0,m=zr(e,d,t,2,r,m)),g>3&&Ss(e,t,3,i)&&(f=!0,m=zr(e,d,t,3,i,m)),g>4&&Ss(e,t,4,o)&&(f=!0,m=zr(e,d,t,4,o,m)),g>5&&Ss(e,t,5,l)&&(f=!0,m=zr(e,d,t,5,l,m)),g>6&&Ss(e,t,6,a)&&(f=!0,m=zr(e,d,t,6,a,m)),g>7&&Ss(e,t,7,c)&&(f=!0,m=zr(e,d,t,7,c,m)),g>8&&Ss(e,t,8,u)&&(f=!0,m=zr(e,d,t,8,u,m)),g>9&&Ss(e,t,9,h)&&(f=!0,m=zr(e,d,t,9,h,m)),m&&p.ngOnChanges(m),65536&t.flags&&as(e,256,t.nodeIndex)&&p.ngOnInit(),262144&t.flags&&p.ngDoCheck(),f}(e,t,n,s,r,i,o,l,a,c,u,h);case 32:case 64:case 128:return function(e,t,n,s,r,i,o,l,a,c,u,h){const d=t.bindings;let p=!1;const f=d.length;if(f>0&&xs(e,t,0,n)&&(p=!0),f>1&&xs(e,t,1,s)&&(p=!0),f>2&&xs(e,t,2,r)&&(p=!0),f>3&&xs(e,t,3,i)&&(p=!0),f>4&&xs(e,t,4,o)&&(p=!0),f>5&&xs(e,t,5,l)&&(p=!0),f>6&&xs(e,t,6,a)&&(p=!0),f>7&&xs(e,t,7,c)&&(p=!0),f>8&&xs(e,t,8,u)&&(p=!0),f>9&&xs(e,t,9,h)&&(p=!0),p){const p=ds(e,t.nodeIndex);let m;switch(201347067&t.flags){case 32:m=new Array(d.length),f>0&&(m[0]=n),f>1&&(m[1]=s),f>2&&(m[2]=r),f>3&&(m[3]=i),f>4&&(m[4]=o),f>5&&(m[5]=l),f>6&&(m[6]=a),f>7&&(m[7]=c),f>8&&(m[8]=u),f>9&&(m[9]=h);break;case 64:m={},f>0&&(m[d[0].name]=n),f>1&&(m[d[1].name]=s),f>2&&(m[d[2].name]=r),f>3&&(m[d[3].name]=i),f>4&&(m[d[4].name]=o),f>5&&(m[d[5].name]=l),f>6&&(m[d[6].name]=a),f>7&&(m[d[7].name]=c),f>8&&(m[d[8].name]=u),f>9&&(m[d[9].name]=h);break;case 128:const e=n;switch(f){case 1:m=e.transform(n);break;case 2:m=e.transform(s);break;case 3:m=e.transform(s,r);break;case 4:m=e.transform(s,r,i);break;case 5:m=e.transform(s,r,i,o);break;case 6:m=e.transform(s,r,i,o,l);break;case 7:m=e.transform(s,r,i,o,l,a);break;case 8:m=e.transform(s,r,i,o,l,a,c);break;case 9:m=e.transform(s,r,i,o,l,a,c,u);break;case 10:m=e.transform(s,r,i,o,l,a,c,u,h)}}p.value=m}return p}(e,t,n,s,r,i,o,l,a,c,u,h);default:throw"unreachable"}}(e,t,s,r,i,o,l,a,c,u,h,d):function(e,t,n){switch(201347067&t.flags){case 1:return function(e,t,n){let s=!1;for(let r=0;r<n.length;r++)ko(e,t,r,n[r])&&(s=!0);return s}(e,t,n);case 2:return function(e,t,n){const s=t.bindings;let r=!1;for(let i=0;i<n.length;i++)xs(e,t,i,n[i])&&(r=!0);if(r){let r="";for(let e=0;e<n.length;e++)r+=jo(n[e],s[e]);r=t.text.prefix+r;const i=cs(e,t.nodeIndex).renderText;e.renderer.setValue(i,r)}return r}(e,t,n);case 16384:return function(e,t,n){const s=hs(e,t.nodeIndex),r=s.instance;let i=!1,o=void 0;for(let l=0;l<n.length;l++)Ss(e,t,l,n[l])&&(i=!0,o=zr(e,s,t,l,n[l],o));return o&&r.ngOnChanges(o),65536&t.flags&&as(e,256,t.nodeIndex)&&r.ngOnInit(),262144&t.flags&&r.ngDoCheck(),i}(e,t,n);case 32:case 64:case 128:return function(e,t,n){const s=t.bindings;let r=!1;for(let i=0;i<n.length;i++)xs(e,t,i,n[i])&&(r=!0);if(r){const r=ds(e,t.nodeIndex);let i;switch(201347067&t.flags){case 32:i=n;break;case 64:i={};for(let r=0;r<n.length;r++)i[s[r].name]=n[r];break;case 128:const e=n[0],t=n.slice(1);i=e.transform(...t)}r.value=i}return r}(e,t,n);default:throw"unreachable"}}(e,t,s)}function Xo(e){const t=e.def;if(4&t.nodeFlags)for(let n=0;n<t.nodes.length;n++){const s=t.nodes[n];if(4&s.flags){const t=us(e,n).template._projectedViews;if(t)for(let n=0;n<t.length;n++){const s=t[n];s.state|=32,ks(s,e)}}else 0==(4&s.childFlags)&&(n+=s.childCount)}}function el(e,t,n,s,r,i,o,l,a,c,u,h,d){return 0===n?function(e,t,n,s,r,i,o,l,a,c,u,h){const d=t.bindings.length;d>0&&Es(e,t,0,n),d>1&&Es(e,t,1,s),d>2&&Es(e,t,2,r),d>3&&Es(e,t,3,i),d>4&&Es(e,t,4,o),d>5&&Es(e,t,5,l),d>6&&Es(e,t,6,a),d>7&&Es(e,t,7,c),d>8&&Es(e,t,8,u),d>9&&Es(e,t,9,h)}(e,t,s,r,i,o,l,a,c,u,h,d):function(e,t,n){for(let s=0;s<n.length;s++)Es(e,t,s,n[s])}(e,t,s),!1}function tl(e,t){if(ps(e,t.nodeIndex).dirty)throw rs(fs.createDebugContext(e,t.nodeIndex),`Query ${t.query.id} not dirty`,`Query ${t.query.id} dirty`,0!=(1&e.state))}function nl(e){if(!(128&e.state)){if(il(e,sl.Destroy),rl(e,sl.Destroy),Br(e,131072),e.disposables)for(let t=0;t<e.disposables.length;t++)e.disposables[t]();!function(e){if(!(16&e.state))return;const t=Os(e);if(t){const n=t.template._projectedViews;n&&(Ze(n,n.indexOf(e)),fs.dirtyParentQueries(e))}}(e),e.renderer.destroyNode&&function(e){const t=e.def.nodes.length;for(let n=0;n<t;n++){const t=e.def.nodes[n];1&t.flags?e.renderer.destroyNode(us(e,n).renderElement):2&t.flags?e.renderer.destroyNode(cs(e,n).renderText):(67108864&t.flags||134217728&t.flags)&&ps(e,n).destroy()}}(e),Rs(e)&&e.renderer.destroy(),e.state|=128}}const sl=function(){var e={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return e[e.CreateViewNodes]="CreateViewNodes",e[e.CheckNoChanges]="CheckNoChanges",e[e.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",e[e.CheckAndUpdate]="CheckAndUpdate",e[e.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",e[e.Destroy]="Destroy",e}();function rl(e,t){const n=e.def;if(33554432&n.nodeFlags)for(let s=0;s<n.nodes.length;s++){const r=n.nodes[s];33554432&r.flags?ol(us(e,s).componentView,t):0==(33554432&r.childFlags)&&(s+=r.childCount)}}function il(e,t){const n=e.def;if(16777216&n.nodeFlags)for(let s=0;s<n.nodes.length;s++){const r=n.nodes[s];if(16777216&r.flags){const n=us(e,s).viewContainer._embeddedViews;for(let e=0;e<n.length;e++)ol(n[e],t)}else 0==(16777216&r.childFlags)&&(s+=r.childCount)}}function ol(e,t){const n=e.state;switch(t){case sl.CheckNoChanges:0==(128&n)&&(12==(12&n)?Zo(e):64&n&&ll(e,sl.CheckNoChangesProjectedViews));break;case sl.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?Zo(e):64&n&&ll(e,t));break;case sl.CheckAndUpdate:0==(128&n)&&(12==(12&n)?Jo(e):64&n&&ll(e,sl.CheckAndUpdateProjectedViews));break;case sl.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?Jo(e):64&n&&ll(e,t));break;case sl.Destroy:nl(e);break;case sl.CreateViewNodes:Wo(e)}}function ll(e,t){il(e,t),rl(e,t)}function al(e,t,n,s){if(!(e.def.nodeFlags&t&&e.def.nodeFlags&n))return;const r=e.def.nodes.length;for(let i=0;i<r;i++){const r=e.def.nodes[i];if(r.flags&t&&r.flags&n)switch(fs.setCurrentNode(e,r.nodeIndex),s){case 0:Ao(e,r);break;case 1:tl(e,r)}r.childFlags&t&&r.childFlags&n||(i+=r.childCount)}}let cl=!1;function ul(e,t,n,s,r,i){const o=r.injector.get(Nn);return Bo(dl(e,r,o,t,n),s,i)}function hl(e,t,n,s,r,i){const o=r.injector.get(Nn),l=dl(e,r,new zl(o),t,n),a=Cl(s);return Hl(Il.create,Bo,null,[l,a,i])}function dl(e,t,n,s,r){const i=t.injector.get(Pt),o=t.injector.get(it),l=n.createRenderer(null,null);return{ngModule:t,injector:e,projectableNodes:s,selectorOrNode:r,sanitizer:i,rendererFactory:n,renderer:l,errorHandler:o}}function pl(e,t,n,s){const r=Cl(n);return Hl(Il.create,zo,null,[e,t,r,s])}function fl(e,t,n,s){return n=_l.get(t.element.componentProvider.provider.token)||Cl(n),Hl(Il.create,Go,null,[e,t,n,s])}function ml(e,t,n,s){return wr(e,t,n,function(e){const{hasOverrides:t,hasDeprecatedOverrides:n}=function(e){let t=!1,n=!1;return 0===gl.size?{hasOverrides:t,hasDeprecatedOverrides:n}:(e.providers.forEach(e=>{const s=gl.get(e.token);3840&e.flags&&s&&(t=!0,n=n||s.deprecatedBehavior)}),e.modules.forEach(e=>{yl.forEach((s,r)=>{ve(r).providedIn===e&&(t=!0,n=n||s.deprecatedBehavior)})}),{hasOverrides:t,hasDeprecatedOverrides:n})}(e);return t?(function(e){for(let t=0;t<e.providers.length;t++){const s=e.providers[t];n&&(s.flags|=4096);const r=gl.get(s.token);r&&(s.flags=-3841&s.flags|r.flags,s.deps=Fs(r.deps),s.value=r.value)}if(yl.size>0){let t=new Set(e.modules);yl.forEach((s,r)=>{if(t.has(ve(r).providedIn)){let t={token:r,flags:s.flags|(n?4096:0),deps:Fs(s.deps),value:s.value,index:e.providers.length};e.providers.push(t),e.providersByKey[ys(r)]=t}})}}(e=e.factory(()=>ms)),e):e}(s))}const gl=new Map,yl=new Map,_l=new Map;function vl(e){let t;gl.set(e.token,e),"function"==typeof e.token&&(t=ve(e.token))&&"function"==typeof t.providedIn&&yl.set(e.token,e)}function bl(e,t){const n=Us(t.viewDefFactory),s=Us(n.nodes[0].element.componentView);_l.set(e,s)}function wl(){gl.clear(),yl.clear(),_l.clear()}function Cl(e){if(0===gl.size)return e;const t=function(e){const t=[];let n=null;for(let s=0;s<e.nodes.length;s++){const r=e.nodes[s];1&r.flags&&(n=r),n&&3840&r.flags&&gl.has(r.provider.token)&&(t.push(n.nodeIndex),n=null)}return t}(e);if(0===t.length)return e;e=e.factory(()=>ms);for(let s=0;s<t.length;s++)n(e,t[s]);return e;function n(e,t){for(let n=t+1;n<e.nodes.length;n++){const t=e.nodes[n];if(1&t.flags)return;if(3840&t.flags){const e=t.provider,n=gl.get(e.token);n&&(t.flags=-3841&t.flags|n.flags,e.deps=Fs(n.deps),e.value=n.value)}}}}function Sl(e,t,n,s,r,i,o,l,a,c,u,h,d){const p=e.def.nodes[t];return Yo(e,p,n,s,r,i,o,l,a,c,u,h,d),224&p.flags?ds(e,t).value:void 0}function xl(e,t,n,s,r,i,o,l,a,c,u,h,d){const p=e.def.nodes[t];return el(e,p,n,s,r,i,o,l,a,c,u,h,d),224&p.flags?ds(e,t).value:void 0}function El(e){return Hl(Il.detectChanges,Jo,null,[e])}function Tl(e){return Hl(Il.checkNoChanges,Zo,null,[e])}function kl(e){return Hl(Il.destroy,nl,null,[e])}const Il=function(){var e={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return e[e.create]="create",e[e.detectChanges]="detectChanges",e[e.checkNoChanges]="checkNoChanges",e[e.destroy]="destroy",e[e.handleEvent]="handleEvent",e}();let Ol,Al,Pl;function Rl(e,t){Al=e,Pl=t}function Nl(e,t,n,s){return Rl(e,t),Hl(Il.handleEvent,e.def.handleEvent,null,[e,t,n,s])}function Dl(e,t){if(128&e.state)throw os(Il[Ol]);return Rl(e,Vl(e,0)),e.def.updateDirectives((function(e,n,s,...r){const i=e.def.nodes[n];return 0===t?Fl(e,i,s,r):Ll(e,i,s,r),16384&i.flags&&Rl(e,Vl(e,n)),224&i.flags?ds(e,i.nodeIndex).value:void 0}),e)}function Ml(e,t){if(128&e.state)throw os(Il[Ol]);return Rl(e,Ul(e,0)),e.def.updateRenderer((function(e,n,s,...r){const i=e.def.nodes[n];return 0===t?Fl(e,i,s,r):Ll(e,i,s,r),3&i.flags&&Rl(e,Ul(e,n)),224&i.flags?ds(e,i.nodeIndex).value:void 0}),e)}function Fl(e,t,n,s){if(Yo(e,t,n,...s)){const o=1===n?s[0]:s;if(16384&t.flags){const n={};for(let e=0;e<t.bindings.length;e++){const s=t.bindings[e],l=o[e];8&s.flags&&(n[(r=s.nonMinifiedName,i=void 0,i=r.replace(/[$@]/g,"_"),`ng-reflect-${r=i.replace(Dt,(...e)=>"-"+e[1].toLowerCase())}`)]=Mt(l))}const s=t.parent,l=us(e,s.nodeIndex).renderElement;if(s.element.name)for(let t in n){const s=n[t];null!=s?e.renderer.setAttribute(l,t,s):e.renderer.removeAttribute(l,t)}else e.renderer.setValue(l,`bindings=${JSON.stringify(n,null,2)}`)}}var r,i}function Ll(e,t,n,s){el(e,t,n,...s)}function Vl(e,t){for(let n=t;n<e.def.nodes.length;n++){const t=e.def.nodes[n];if(16384&t.flags&&t.bindings&&t.bindings.length)return n}return null}function Ul(e,t){for(let n=t;n<e.def.nodes.length;n++){const t=e.def.nodes[n];if(3&t.flags&&t.bindings&&t.bindings.length)return n}return null}class jl{constructor(e,t){this.view=e,this.nodeIndex=t,null==t&&(this.nodeIndex=t=0),this.nodeDef=e.def.nodes[t];let n=this.nodeDef,s=e;for(;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&s;)n=As(s),s=s.parent;this.elDef=n,this.elView=s}get elOrCompView(){return us(this.elView,this.elDef.nodeIndex).componentView||this.view}get injector(){return gr(this.elView,this.elDef)}get component(){return this.elOrCompView.component}get context(){return this.elOrCompView.context}get providerTokens(){const e=[];if(this.elDef)for(let t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){const n=this.elView.def.nodes[t];20224&n.flags&&e.push(n.provider.token),t+=n.childCount}return e}get references(){const e={};if(this.elDef){$l(this.elView,this.elDef,e);for(let t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){const n=this.elView.def.nodes[t];20224&n.flags&&$l(this.elView,n,e),t+=n.childCount}}return e}get componentRenderElement(){const e=function(e){for(;e&&!Rs(e);)e=e.parent;return e.parent?us(e.parent,As(e).nodeIndex):null}(this.elOrCompView);return e?e.renderElement:void 0}get renderNode(){return 2&this.nodeDef.flags?Ps(this.view,this.nodeDef):Ps(this.elView,this.elDef)}logError(e,...t){let n,s;2&this.nodeDef.flags?(n=this.view.def,s=this.nodeDef.nodeIndex):(n=this.elView.def,s=this.elDef.nodeIndex);const r=function(e,t){let n=-1;for(let s=0;s<=t;s++)3&e.nodes[s].flags&&n++;return n}(n,s);let i=-1;n.factory(()=>++i===r?e.error.bind(e,...t):ms),i<r&&(e.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),e.error(...t))}}function $l(e,t,n){for(let s in t.references)n[s]=Ro(e,t,t.references[s])}function Hl(e,t,n,s){const r=Ol,i=Al,o=Pl;try{Ol=e;const l=t.apply(n,s);return Al=i,Pl=o,Ol=r,l}catch(c){if(nt(c)||!Al)throw c;throw l=c,a=ql(),l instanceof Error||(l=new Error(l.toString())),is(l,a),l}var l,a}function ql(){return Al?new jl(Al,Pl):null}class zl{constructor(e){this.delegate=e}createRenderer(e,t){return new Bl(this.delegate.createRenderer(e,t))}begin(){this.delegate.begin&&this.delegate.begin()}end(){this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}class Bl{constructor(e){this.delegate=e,this.debugContextFactory=ql,this.data=this.delegate.data}createDebugContext(e){return this.debugContextFactory(e)}destroyNode(e){const t=fo(e);!function(e){po.delete(e.nativeNode)}(t),t instanceof uo&&(t.listeners.length=0),this.delegate.destroyNode&&this.delegate.destroyNode(e)}destroy(){this.delegate.destroy()}createElement(e,t){const n=this.delegate.createElement(e,t),s=this.createDebugContext(n);if(s){const t=new ho(n,null,s);t.name=e,mo(t)}return n}createComment(e){const t=this.delegate.createComment(e),n=this.createDebugContext(t);return n&&mo(new uo(t,null,n)),t}createText(e){const t=this.delegate.createText(e),n=this.createDebugContext(t);return n&&mo(new uo(t,null,n)),t}appendChild(e,t){const n=fo(e),s=fo(t);n&&s&&n instanceof ho&&n.addChild(s),this.delegate.appendChild(e,t)}insertBefore(e,t,n){const s=fo(e),r=fo(t),i=fo(n);s&&r&&s instanceof ho&&s.insertBefore(i,r),this.delegate.insertBefore(e,t,n)}removeChild(e,t){const n=fo(e),s=fo(t);n&&s&&n instanceof ho&&n.removeChild(s),this.delegate.removeChild(e,t)}selectRootElement(e,t){const n=this.delegate.selectRootElement(e,t),s=ql();return s&&mo(new ho(n,null,s)),n}setAttribute(e,t,n,s){const r=fo(e);r&&r instanceof ho&&(r.attributes[s?s+":"+t:t]=n),this.delegate.setAttribute(e,t,n,s)}removeAttribute(e,t,n){const s=fo(e);s&&s instanceof ho&&(s.attributes[n?n+":"+t:t]=null),this.delegate.removeAttribute(e,t,n)}addClass(e,t){const n=fo(e);n&&n instanceof ho&&(n.classes[t]=!0),this.delegate.addClass(e,t)}removeClass(e,t){const n=fo(e);n&&n instanceof ho&&(n.classes[t]=!1),this.delegate.removeClass(e,t)}setStyle(e,t,n,s){const r=fo(e);r&&r instanceof ho&&(r.styles[t]=n),this.delegate.setStyle(e,t,n,s)}removeStyle(e,t,n){const s=fo(e);s&&s instanceof ho&&(s.styles[t]=null),this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){const s=fo(e);s&&s instanceof ho&&(s.properties[t]=n),this.delegate.setProperty(e,t,n)}listen(e,t,n){if("string"!=typeof e){const s=fo(e);s&&s.listeners.push(new co(t,n))}return this.delegate.listen(e,t,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setValue(e,t){return this.delegate.setValue(e,t)}}function Gl(e,t,n){return new Ql(e,t,n)}class Ql extends Ke{constructor(e,t,n){super(),this.moduleType=e,this._bootstrapComponents=t,this._ngModuleDefFactory=n}create(e){!function(){if(cl)return;cl=!0;const e=at()?{setCurrentNode:Rl,createRootView:hl,createEmbeddedView:pl,createComponentView:fl,createNgModuleRef:ml,overrideProvider:vl,overrideComponentView:bl,clearOverrides:wl,checkAndUpdateView:El,checkNoChangesView:Tl,destroyView:kl,createDebugContext:(e,t)=>new jl(e,t),handleEvent:Nl,updateDirectives:Dl,updateRenderer:Ml}:{setCurrentNode:()=>{},createRootView:ul,createEmbeddedView:zo,createComponentView:Go,createNgModuleRef:wr,overrideProvider:ms,overrideComponentView:ms,clearOverrides:ms,checkAndUpdateView:Jo,checkNoChangesView:Zo,destroyView:nl,createDebugContext:(e,t)=>new jl(e,t),handleEvent:(e,t,n,s)=>e.def.handleEvent(e,t,n,s),updateDirectives:(e,t)=>e.def.updateDirectives(0===t?Sl:xl,e),updateRenderer:(e,t)=>e.def.updateRenderer(0===t?Sl:xl,e)};fs.setCurrentNode=e.setCurrentNode,fs.createRootView=e.createRootView,fs.createEmbeddedView=e.createEmbeddedView,fs.createComponentView=e.createComponentView,fs.createNgModuleRef=e.createNgModuleRef,fs.overrideProvider=e.overrideProvider,fs.overrideComponentView=e.overrideComponentView,fs.clearOverrides=e.clearOverrides,fs.checkAndUpdateView=e.checkAndUpdateView,fs.checkNoChangesView=e.checkNoChangesView,fs.destroyView=e.destroyView,fs.resolveDep=Hr,fs.createDebugContext=e.createDebugContext,fs.handleEvent=e.handleEvent,fs.updateDirectives=e.updateDirectives,fs.updateRenderer=e.updateRenderer,fs.dirtyParentQueries=Oo}();const t=function(e){const t=Array.from(e.providers),n=Array.from(e.modules),s={};for(const r in e.providersByKey)s[r]=e.providersByKey[r];return{factory:e.factory,isRoot:e.isRoot,providers:t,modules:n,providersByKey:s}}(Us(this._ngModuleDefFactory));return fs.createNgModuleRef(this.moduleType,e||en.NULL,this._bootstrapComponents,t)}}class Kl{}class Wl{constructor(){this.title="movie-picker"}}class Zl{}const Jl=new Ae("Location Initialized");class Yl{}const Xl=new Ae("appBaseHref");class ea{constructor(e,t){this._subject=new ni,this._urlChangeListeners=[],this._platformStrategy=e;const n=this._platformStrategy.getBaseHref();this._platformLocation=t,this._baseHref=ea.stripTrailingSlash(ta(n)),this._platformStrategy.onPopState(e=>{this._subject.emit({url:this.path(!0),pop:!0,state:e.state,type:e.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,t=""){return this.path()==this.normalize(e+ea.normalizeQueryParams(t))}normalize(e){return ea.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,ta(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,t="",n=null){this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ea.normalizeQueryParams(t)),n)}replaceState(e,t="",n=null){this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ea.normalizeQueryParams(t)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(e){this._urlChangeListeners.push(e),this.subscribe(e=>{this._notifyUrlChangeListeners(e.url,e.state)})}_notifyUrlChangeListeners(e="",t){this._urlChangeListeners.forEach(n=>n(e,t))}subscribe(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}static normalizeQueryParams(e){return e&&"?"!==e[0]?"?"+e:e}static joinWithSlash(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}static stripTrailingSlash(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}}function ta(e){return e.replace(/\/index.html$/,"")}class na extends Yl{constructor(e,t){super(),this._platformLocation=e,this._baseHref="",null!=t&&(this._baseHref=t)}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}path(e=!1){let t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}prepareExternalUrl(e){const t=ea.joinWithSlash(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,n,s){let r=this.prepareExternalUrl(n+ea.normalizeQueryParams(s));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(e,t,r)}replaceState(e,t,n,s){let r=this.prepareExternalUrl(n+ea.normalizeQueryParams(s));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}class sa extends Yl{constructor(e,t){if(super(),this._platformLocation=e,null==t&&(t=this._platformLocation.getBaseHrefFromDOM()),null==t)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=t}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return ea.joinWithSlash(this._baseHref,e)}path(e=!1){const t=this._platformLocation.pathname+ea.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?`${t}${n}`:t}pushState(e,t,n,s){const r=this.prepareExternalUrl(n+ea.normalizeQueryParams(s));this._platformLocation.pushState(e,t,r)}replaceState(e,t,n,s){const r=this.prepareExternalUrl(n+ea.normalizeQueryParams(s));this._platformLocation.replaceState(e,t,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}const ra=function(){var e={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return e[e.Zero]="Zero",e[e.One]="One",e[e.Two]="Two",e[e.Few]="Few",e[e.Many]="Many",e[e.Other]="Other",e}(),ia=function(e){return function(e){const t=e.toLowerCase().replace(/_/g,"-");let n=Wr[t];if(n)return n;const s=t.split("-")[0];if(n=Wr[s])return n;if("en"===s)return Yr;throw new Error(`Missing locale data for the locale "${e}".`)}(e)[Zr.PluralCase]},oa=new Ae("UseV4Plurals");class la{}class aa extends la{constructor(e,t){super(),this.locale=e,this.deprecatedPluralFn=t}getPluralCategory(e,t){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(t||this.locale,e):ia(t||this.locale)(e)){case ra.Zero:return"zero";case ra.One:return"one";case ra.Two:return"two";case ra.Few:return"few";case ra.Many:return"many";default:return"other"}}}function ca(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const e=n.indexOf("="),[s,r]=-1==e?[n,""]:[n.slice(0,e),n.slice(e+1)];if(s.trim()===t)return decodeURIComponent(r)}return null}class ua{}class ha{constructor(e,t,n,s){this._iterableDiffers=e,this._keyValueDiffers=t,this._ngEl=n,this._renderer=s,this._initialClasses=[]}getValue(){return null}setClass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}setNgClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(gn(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}applyChanges(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachChangedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachRemovedItem(e=>{e.previousValue&&this._toggleClass(e.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(e=>{if("string"!=typeof e.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${we(e.item)}`);this._toggleClass(e.item,!0)}),e.forEachRemovedItem(e=>this._toggleClass(e.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!0)):Object.keys(e).forEach(t=>this._toggleClass(t,!!e[t])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!1)):Object.keys(e).forEach(e=>this._toggleClass(e,!1)))}_toggleClass(e,t){(e=e.trim())&&e.split(/\s+/g).forEach(e=>{t?this._renderer.addClass(this._ngEl.nativeElement,e):this._renderer.removeClass(this._ngEl.nativeElement,e)})}}let da=(()=>{class e{constructor(e){this._delegate=e}getValue(){return this._delegate.getValue()}}return e.ngDirectiveDef=void 0,e})();class pa extends da{constructor(e){super(e)}set klass(e){this._delegate.setClass(e)}set ngClass(e){this._delegate.setNgClass(e)}ngDoCheck(){this._delegate.applyChanges()}}class fa{constructor(e,t,n,s){this.$implicit=e,this.ngForOf=t,this.index=n,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}class ma{constructor(e,t,n){this._viewContainer=e,this._template=t,this._differs=n,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){at()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(e)}. `+"See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(t){throw new Error(`Cannot find a differ supporting object '${n}' of type '${e=n,e.name||typeof e}'. NgFor only supports binding to Iterables such as Arrays.`)}}var e;if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const t=[];e.forEachOperation((e,n,s)=>{if(null==e.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new fa(null,this._ngForOf,-1,-1),null===s?void 0:s),r=new ga(e,n);t.push(r)}else if(null==s)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const r=this._viewContainer.get(n);this._viewContainer.move(r,s);const i=new ga(e,r);t.push(i)}});for(let n=0;n<t.length;n++)this._perViewChange(t[n].view,t[n].record);for(let n=0,s=this._viewContainer.length;n<s;n++){const e=this._viewContainer.get(n);e.context.index=n,e.context.count=s,e.context.ngForOf=this._ngForOf}e.forEachIdentityChange(e=>{this._viewContainer.get(e.currentIndex).context.$implicit=e.item})}_perViewChange(e,t){e.context.$implicit=t.item}static ngTemplateContextGuard(e,t){return!0}}class ga{constructor(e,t){this.record=e,this.view=t}}class ya{constructor(e,t){this._viewContainer=e,this._context=new _a,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){va("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){va("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}class _a{constructor(){this.$implicit=null,this.ngIf=null}}function va(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${we(t)}'.`)}class ba{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){this._shouldRecreateView(e)?(this._viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._viewRef)),this.ngTemplateOutlet&&(this._viewRef=this._viewContainerRef.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext))):this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}_shouldRecreateView(e){const t=e.ngTemplateOutletContext;return!!e.ngTemplateOutlet||t&&this._hasContextShapeChanged(t)}_hasContextShapeChanged(e){const t=Object.keys(e.previousValue||{}),n=Object.keys(e.currentValue||{});if(t.length===n.length){for(let e of n)if(-1===t.indexOf(e))return!0;return!1}return!0}_updateExistingContext(e){for(let t of Object.keys(e))this._viewRef.context[t]=this.ngTemplateOutletContext[t]}}class wa{transform(e){if(!e)return e;if("string"!=typeof e)throw function(e,t){return Error(`InvalidPipeArgument: '${t}' for pipe '${we(e)}'`)}(wa,e);return e.toUpperCase()}}class Ca{}const Sa=new Ae("DocumentToken"),xa="server";let Ea=(()=>{class e{}return e.ngInjectableDef=_e({token:e,providedIn:"root",factory:()=>new Ta(qe(Sa),window,qe(it))}),e})();class Ta{constructor(e,t,n){this.document=e,this.window=t,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(e){this.supportScrollRestoration()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(this.supportScrollRestoration()){e=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(e):e.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const t=this.document.querySelector(`#${e}`);if(t)return void this.scrollToElement(t);const n=this.document.querySelector(`[name='${e}']`);if(n)return void this.scrollToElement(n)}catch(t){this.errorHandler.handleError(t)}}}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,s=t.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(n-r[0],s-r[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(e){return!1}}}const ka=new w(e=>e.complete());function Ia(e){return e?function(e){return new w(t=>e.schedule(()=>t.complete()))}(e):ka}function Oa(e){const t=new w(t=>{t.next(e),t.complete()});return t._isScalar=!0,t.value=e,t}function Aa(...e){let t=e[e.length-1];switch(O(t)?e.pop():t=void 0,e.length){case 0:return Ia(t);case 1:return t?B(e,t):Oa(e[0]);default:return B(e,t)}}class Pa extends k{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new x;return this._value}next(e){super.next(this._value=e)}}function Ra(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}Ra.prototype=Object.create(Error.prototype);const Na=Ra,Da={};class Ma{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new Fa(e,this.resultSelector))}}class Fa extends ${constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(Da),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let n=0;n<t;n++){const t=e[n];this.add(j(this,t,t,n))}}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,n,s,r){const i=this.values,o=this.toRespond?i[n]===Da?--this.toRespond:this.toRespond:0;i[n]=t,0===o&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}function La(e){return new w(t=>{let n;try{n=e()}catch(s){return void t.error(s)}return(n?G(n):Ia()).subscribe(t)})}function Va(){return J(1)}function Ua(e,t){return function(n){return n.lift(new ja(e,t))}}class ja{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new $a(e,this.predicate,this.thisArg))}}class $a extends m{constructor(e,t,n){super(e),this.predicate=t,this.thisArg=n,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}function Ha(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}Ha.prototype=Object.create(Error.prototype);const qa=Ha;function za(e){return function(t){return 0===e?Ia():t.lift(new Ba(e))}}class Ba{constructor(e){if(this.total=e,this.total<0)throw new qa}call(e,t){return t.subscribe(new Ga(e,this.total))}}class Ga extends m{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,n=this.total,s=this.count++;t.length<n?t.push(e):t[s%n]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const n=this.count>=this.total?this.total:this.count,s=this.ring;for(let r=0;r<n;r++){const r=t++%n;e.next(s[r])}}e.complete()}}function Qa(e,t,n){return function(s){return s.lift(new Ka(e,t,n))}}class Ka{constructor(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}call(e,t){return t.subscribe(new Wa(e,this.nextOrObserver,this.error,this.complete))}}class Wa extends m{constructor(e,t,n,r){super(e),this._tapNext=_,this._tapError=_,this._tapComplete=_,this._tapError=n||_,this._tapComplete=r||_,s(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||_,this._tapError=t.error||_,this._tapComplete=t.complete||_)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}const Za=(e=Ja)=>Qa({hasValue:!1,next(){this.hasValue=!0},complete(){if(!this.hasValue)throw e()}});function Ja(){return new Na}function Ya(e=null){return t=>t.lift(new Xa(e))}class Xa{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new ec(e,this.defaultValue))}}class ec extends m{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function tc(e,t){const n=arguments.length>=2;return s=>s.pipe(e?Ua((t,n)=>e(t,n,s)):Z,za(1),n?Ya(t):Za(()=>new Na))}function nc(e){return function(t){const n=new sc(e),s=t.lift(n);return n.caught=s}}class sc{constructor(e){this.selector=e}call(e,t){return t.subscribe(new rc(e,this.selector,this.caught))}}class rc extends ${constructor(e,t,n){super(e),this.selector=t,this.caught=n}error(e){if(!this.isStopped){let n;try{n=this.selector(e,this.caught)}catch(t){return void super.error(t)}this._unsubscribeAndRecycle();const s=new A(this,void 0,void 0);this.add(s),j(this,n,void 0,void 0,s)}}}function ic(e){return t=>0===e?Ia():t.lift(new oc(e))}class oc{constructor(e){if(this.total=e,this.total<0)throw new qa}call(e,t){return t.subscribe(new lc(e,this.total))}}class lc extends m{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}function ac(e,t){const n=arguments.length>=2;return s=>s.pipe(e?Ua((t,n)=>e(t,n,s)):Z,ic(1),n?Ya(t):Za(()=>new Na))}class cc{constructor(e,t,n){this.predicate=e,this.thisArg=t,this.source=n}call(e,t){return t.subscribe(new uc(e,this.predicate,this.thisArg,this.source))}}class uc extends m{constructor(e,t,n,s){super(e),this.predicate=t,this.thisArg=n,this.source=s,this.index=0,this.thisArg=n||this}notifyComplete(e){this.destination.next(e),this.destination.complete()}_next(e){let t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function hc(e,t){return"function"==typeof t?n=>n.pipe(hc((n,s)=>G(e(n,s)).pipe(H((e,r)=>t(n,e,s,r))))):t=>t.lift(new dc(e))}class dc{constructor(e){this.project=e}call(e,t){return t.subscribe(new pc(e,this.project))}}class pc extends ${constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(s){return void this.destination.error(s)}this._innerSub(t,e,n)}_innerSub(e,t,n){const s=this.innerSubscription;s&&s.unsubscribe();const r=new A(this,void 0,void 0);this.destination.add(r),this.innerSubscription=j(this,e,t,n,r)}_complete(){const{innerSubscription:e}=this;e&&!e.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(e,t,n,s,r){this.destination.next(t)}}function fc(...e){return t=>{let n=e[e.length-1];O(n)?e.pop():n=null;const s=e.length;return function(...e){return Va()(Aa(...e))}(1!==s||n?s>0?B(e,n):Ia(n):Oa(e[0]),t)}}function mc(e,t){let n=!1;return arguments.length>=2&&(n=!0),function(s){return s.lift(new gc(e,t,n))}}class gc{constructor(e,t,n=!1){this.accumulator=e,this.seed=t,this.hasSeed=n}call(e,t){return t.subscribe(new yc(e,this.accumulator,this.seed,this.hasSeed))}}class yc extends m{constructor(e,t,n,s){super(e),this.accumulator=t,this._seed=n,this.hasSeed=s,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let n;try{n=this.accumulator(this.seed,e,t)}catch(s){this.destination.error(s)}this.seed=n,this.destination.next(n)}}function _c(e,t){return Q(e,t,1)}class vc{constructor(e){this.callback=e}call(e,t){return t.subscribe(new bc(e,this.callback))}}class bc extends m{constructor(e,t){super(e),this.add(new d(t))}}let wc=null;function Cc(){return wc}class Sc{constructor(){this.resourceLoaderType=null}get attrToPropMap(){return this._attrToPropMap}set attrToPropMap(e){this._attrToPropMap=e}}class xc extends Sc{constructor(){super(),this._animationPrefix=null,this._transitionEnd=null;try{const e=this.createElement("div",document);if(null!=this.getStyle(e,"animationName"))this._animationPrefix="";else{const t=["Webkit","Moz","O","ms"];for(let n=0;n<t.length;n++)if(null!=this.getStyle(e,t[n]+"AnimationName")){this._animationPrefix="-"+t[n].toLowerCase()+"-";break}}const t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(t).forEach(n=>{null!=this.getStyle(e,n)&&(this._transitionEnd=t[n])})}catch(e){this._animationPrefix=null,this._transitionEnd=null}}getDistributedNodes(e){return e.getDistributedNodes()}resolveAndSetHref(e,t,n){e.href=null==n?t:t+"/../"+n}supportsDOMEvents(){return!0}supportsNativeShadowDOM(){return"function"==typeof document.body.createShadowRoot}getAnimationPrefix(){return this._animationPrefix?this._animationPrefix:""}getTransitionEnd(){return this._transitionEnd?this._transitionEnd:""}supportsAnimation(){return null!=this._animationPrefix&&null!=this._transitionEnd}}const Ec={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},Tc=3,kc={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ic={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Oc=(()=>{if(Oe.Node)return Oe.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))}})();class Ac extends xc{parse(e){throw new Error("parse not implemented")}static makeCurrent(){var e;e=new Ac,wc||(wc=e)}hasProperty(e,t){return t in e}setProperty(e,t,n){e[t]=n}getProperty(e,t){return e[t]}invoke(e,t,n){e[t](...n)}logError(e){window.console&&(console.error?console.error(e):console.log(e))}log(e){window.console&&window.console.log&&window.console.log(e)}logGroup(e){window.console&&window.console.group&&window.console.group(e)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}get attrToPropMap(){return Ec}contains(e,t){return Oc.call(e,t)}querySelector(e,t){return e.querySelector(t)}querySelectorAll(e,t){return e.querySelectorAll(t)}on(e,t,n){e.addEventListener(t,n,!1)}onAndCancel(e,t,n){return e.addEventListener(t,n,!1),()=>{e.removeEventListener(t,n,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}createMouseEvent(e){const t=this.getDefaultDocument().createEvent("MouseEvent");return t.initEvent(e,!0,!0),t}createEvent(e){const t=this.getDefaultDocument().createEvent("Event");return t.initEvent(e,!0,!0),t}preventDefault(e){e.preventDefault(),e.returnValue=!1}isPrevented(e){return e.defaultPrevented||null!=e.returnValue&&!e.returnValue}getInnerHTML(e){return e.innerHTML}getTemplateContent(e){return"content"in e&&this.isTemplateElement(e)?e.content:null}getOuterHTML(e){return e.outerHTML}nodeName(e){return e.nodeName}nodeValue(e){return e.nodeValue}type(e){return e.type}content(e){return this.hasProperty(e,"content")?e.content:e}firstChild(e){return e.firstChild}nextSibling(e){return e.nextSibling}parentElement(e){return e.parentNode}childNodes(e){return e.childNodes}childNodesAsList(e){const t=e.childNodes,n=new Array(t.length);for(let s=0;s<t.length;s++)n[s]=t[s];return n}clearNodes(e){for(;e.firstChild;)e.removeChild(e.firstChild)}appendChild(e,t){e.appendChild(t)}removeChild(e,t){e.removeChild(t)}replaceChild(e,t,n){e.replaceChild(t,n)}remove(e){return e.parentNode&&e.parentNode.removeChild(e),e}insertBefore(e,t,n){e.insertBefore(n,t)}insertAllBefore(e,t,n){n.forEach(n=>e.insertBefore(n,t))}insertAfter(e,t,n){e.insertBefore(n,t.nextSibling)}setInnerHTML(e,t){e.innerHTML=t}getText(e){return e.textContent}setText(e,t){e.textContent=t}getValue(e){return e.value}setValue(e,t){e.value=t}getChecked(e){return e.checked}setChecked(e,t){e.checked=t}createComment(e){return this.getDefaultDocument().createComment(e)}createTemplate(e){const t=this.getDefaultDocument().createElement("template");return t.innerHTML=e,t}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createElementNS(e,t,n){return(n=n||this.getDefaultDocument()).createElementNS(e,t)}createTextNode(e,t){return(t=t||this.getDefaultDocument()).createTextNode(e)}createScriptTag(e,t,n){const s=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return s.setAttribute(e,t),s}createStyleElement(e,t){const n=(t=t||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(e,t)),n}createShadowRoot(e){return e.createShadowRoot()}getShadowRoot(e){return e.shadowRoot}getHost(e){return e.host}clone(e){return e.cloneNode(!0)}getElementsByClassName(e,t){return e.getElementsByClassName(t)}getElementsByTagName(e,t){return e.getElementsByTagName(t)}classList(e){return Array.prototype.slice.call(e.classList,0)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}hasClass(e,t){return e.classList.contains(t)}setStyle(e,t,n){e.style[t]=n}removeStyle(e,t){e.style[t]=""}getStyle(e,t){return e.style[t]}hasStyle(e,t,n){const s=this.getStyle(e,t)||"";return n?s==n:s.length>0}tagName(e){return e.tagName}attributeMap(e){const t=new Map,n=e.attributes;for(let s=0;s<n.length;s++){const e=n.item(s);t.set(e.name,e.value)}return t}hasAttribute(e,t){return e.hasAttribute(t)}hasAttributeNS(e,t,n){return e.hasAttributeNS(t,n)}getAttribute(e,t){return e.getAttribute(t)}getAttributeNS(e,t,n){return e.getAttributeNS(t,n)}setAttribute(e,t,n){e.setAttribute(t,n)}setAttributeNS(e,t,n,s){e.setAttributeNS(t,n,s)}removeAttribute(e,t){e.removeAttribute(t)}removeAttributeNS(e,t,n){e.removeAttributeNS(t,n)}templateAwareRoot(e){return this.isTemplateElement(e)?this.content(e):e}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}getBoundingClientRect(e){try{return e.getBoundingClientRect()}catch(t){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}}getTitle(e){return e.title}setTitle(e,t){e.title=t||""}elementMatches(e,t){return!!this.isElementNode(e)&&(e.matches&&e.matches(t)||e.msMatchesSelector&&e.msMatchesSelector(t)||e.webkitMatchesSelector&&e.webkitMatchesSelector(t))}isTemplateElement(e){return this.isElementNode(e)&&"TEMPLATE"===e.nodeName}isTextNode(e){return e.nodeType===Node.TEXT_NODE}isCommentNode(e){return e.nodeType===Node.COMMENT_NODE}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}hasShadowRoot(e){return null!=e.shadowRoot&&e instanceof HTMLElement}isShadowRoot(e){return e instanceof DocumentFragment}importIntoDoc(e){return document.importNode(this.templateAwareRoot(e),!0)}adoptNode(e){return document.adoptNode(e)}getHref(e){return e.getAttribute("href")}getEventKey(e){let t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),e.location===Tc&&Ic.hasOwnProperty(t)&&(t=Ic[t]))}return kc[t]||t}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(e){const t=Rc||(Rc=document.querySelector("base"))?Rc.getAttribute("href"):null;return null==t?null:(n=t,Pc||(Pc=document.createElement("a")),Pc.setAttribute("href",n),"/"===Pc.pathname.charAt(0)?Pc.pathname:"/"+Pc.pathname);var n}resetBaseElement(){Rc=null}getUserAgent(){return window.navigator.userAgent}setData(e,t,n){this.setAttribute(e,"data-"+t,n)}getData(e,t){return this.getAttribute(e,"data-"+t)}getComputedStyle(e){return getComputedStyle(e)}supportsWebAnimation(){return"function"==typeof Element.prototype.animate}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(e){return ca(document.cookie,e)}setCookie(e,t){document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)}}let Pc,Rc=null;function Nc(){return!!window.history.pushState}const Dc=new Ae("TRANSITION_ID"),Mc=[{provide:li,useFactory:function(e,t,n){return()=>{n.get(ai).donePromise.then(()=>{const n=Cc();Array.prototype.slice.apply(n.querySelectorAll(t,"style[ng-transition]")).filter(t=>n.getAttribute(t,"ng-transition")===e).forEach(e=>n.remove(e))})}},deps:[Dc,Sa,en],multi:!0}];class Fc{static init(){var e;e=new Fc,Bi=e}addToWindow(e){Oe.getAngularTestability=(t,n=!0)=>{const s=e.findTestabilityInTree(t,n);if(null==s)throw new Error("Could not find testability for element.");return s},Oe.getAllAngularTestabilities=()=>e.getAllTestabilities(),Oe.getAllAngularRootElements=()=>e.getAllRootElements(),Oe.frameworkStabilizers||(Oe.frameworkStabilizers=[]),Oe.frameworkStabilizers.push(e=>{const t=Oe.getAllAngularTestabilities();let n=t.length,s=!1;const r=function(t){s=s||t,0==--n&&e(s)};t.forEach((function(e){e.whenStable(r)}))})}findTestabilityInTree(e,t,n){if(null==t)return null;const s=e.getTestability(t);return null!=s?s:n?Cc().isShadowRoot(t)?this.findTestabilityInTree(e,Cc().getHost(t),!0):this.findTestabilityInTree(e,Cc().parentElement(t),!0):null}}function Lc(e,t){"undefined"!=typeof COMPILED&&COMPILED||((Oe.ng=Oe.ng||{})[e]=t)}const Vc=(()=>({ApplicationRef:eo,NgZone:Di}))();function Uc(e){return fo(e)}const jc=new Ae("EventManagerPlugins");class $c{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(e=>e.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}addGlobalEventListener(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const n=this._plugins;for(let s=0;s<n.length;s++){const t=n[s];if(t.supports(e))return this._eventNameToPlugin.set(e,t),t}throw new Error(`No event manager plugin found for event ${e}`)}}class Hc{constructor(e){this._doc=e}addGlobalEventListener(e,t,n){const s=Cc().getGlobalEventTarget(this._doc,e);if(!s)throw new Error(`Unsupported event target ${s} for event ${t}`);return this.addEventListener(s,t,n)}}class qc{constructor(){this._stylesSet=new Set}addStyles(e){const t=new Set;e.forEach(e=>{this._stylesSet.has(e)||(this._stylesSet.add(e),t.add(e))}),this.onStylesAdded(t)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}class zc extends qc{constructor(e){super(),this._doc=e,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(e.head)}_addStylesToHost(e,t){e.forEach(e=>{const n=this._doc.createElement("style");n.textContent=e,this._styleNodes.add(t.appendChild(n))})}addHost(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}removeHost(e){this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach(t=>this._addStylesToHost(e,t))}ngOnDestroy(){this._styleNodes.forEach(e=>Cc().remove(e))}}const Bc={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Gc=/%COMP%/g,Qc="_nghost-%COMP%",Kc="_ngcontent-%COMP%";function Wc(e,t,n){for(let s=0;s<t.length;s++){let r=t[s];Array.isArray(r)?Wc(e,r,n):(r=r.replace(Gc,e),n.push(r))}return n}function Zc(e){return t=>{!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}class Jc{constructor(e,t,n){this.eventManager=e,this.sharedStylesHost=t,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Yc(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case Je.Emulated:{let n=this.rendererByCompId.get(t.id);return n||(n=new tu(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n}case Je.Native:case Je.ShadowDom:return new nu(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){const e=Wc(t.id,t.styles,[]);this.sharedStylesHost.addStyles(e),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}class Yc{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(Bc[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,n){e&&e.insertBefore(t,n)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error(`The selector "${e}" did not match any elements`);return t||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,s){if(s){t=s+":"+t;const r=Bc[s];r?e.setAttributeNS(r,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){const s=Bc[n];s?e.removeAttributeNS(s,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,s){s&Dn.DashCase?e.style.setProperty(t,n,s&Dn.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&Dn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){eu(t,"property"),e[t]=n}setValue(e,t){e.nodeValue=t}listen(e,t,n){return eu(t,"listener"),"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Zc(n)):this.eventManager.addEventListener(e,t,Zc(n))}}const Xc=(()=>"@".charCodeAt(0))();function eu(e,t){if(e.charCodeAt(0)===Xc)throw new Error(`Found the synthetic ${t} ${e}. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.`)}class tu extends Yc{constructor(e,t,n,s){super(e),this.component=n;const r=Wc(s+"-"+n.id,n.styles,[]);t.addStyles(r),this.contentAttr=Kc.replace(Gc,s+"-"+n.id),this.hostAttr=Qc.replace(Gc,s+"-"+n.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}}class nu extends Yc{constructor(e,t,n,s){super(e),this.sharedStylesHost=t,this.hostEl=n,this.component=s,this.shadowRoot=s.encapsulation===Je.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const r=Wc(s.id,s.styles,[]);for(let i=0;i<r.length;i++){const e=document.createElement("style");e.textContent=r[i],this.shadowRoot.appendChild(e)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}const su=(()=>"undefined"!=typeof Zone&&Zone.__symbol__||function(e){return"__zone_symbol__"+e})(),ru=su("addEventListener"),iu=su("removeEventListener"),ou={},lu="FALSE",au="ANGULAR",cu="addEventListener",uu="removeEventListener",hu="__zone_symbol__propagationStopped",du="__zone_symbol__stopImmediatePropagation",pu=(()=>{const e="undefined"!=typeof Zone&&Zone[su("BLACK_LISTED_EVENTS")];if(e){const t={};return e.forEach(e=>{t[e]=e}),t}})(),fu=function(e){return!!pu&&pu.hasOwnProperty(e)},mu=function(e){const t=ou[e.type];if(!t)return;const n=this[t];if(!n)return;const s=[e];if(1===n.length){const e=n[0];return e.zone!==Zone.current?e.zone.run(e.handler,this,s):e.handler.apply(this,s)}{const t=n.slice();for(let n=0;n<t.length&&!0!==e[hu];n++){const e=t[n];e.zone!==Zone.current?e.zone.run(e.handler,this,s):e.handler.apply(this,s)}}};class gu extends Hc{constructor(e,t,n){super(e),this.ngZone=t,n&&function(e){return e===xa}(n)||this.patchEvent()}patchEvent(){if("undefined"==typeof Event||!Event||!Event.prototype)return;if(Event.prototype[du])return;const e=Event.prototype[du]=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[hu]=!0),e&&e.apply(this,arguments)}}supports(e){return!0}addEventListener(e,t,n){let s=n;if(!e[ru]||Di.isInAngularZone()&&!fu(t))e[cu](t,s,!1);else{let n=ou[t];n||(n=ou[t]=su(au+t+lu));let r=e[n];const i=r&&r.length>0;r||(r=e[n]=[]);const o=fu(t)?Zone.root:Zone.current;if(0===r.length)r.push({zone:o,handler:s});else{let e=!1;for(let t=0;t<r.length;t++)if(r[t].handler===s){e=!0;break}e||r.push({zone:o,handler:s})}i||e[ru](t,mu,!1)}return()=>this.removeEventListener(e,t,s)}removeEventListener(e,t,n){let s=e[iu];if(!s)return e[uu].apply(e,[t,n,!1]);let r=ou[t],i=r&&e[r];if(!i)return e[uu].apply(e,[t,n,!1]);let o=!1;for(let l=0;l<i.length;l++)if(i[l].handler===n){o=!0,i.splice(l,1);break}o?0===i.length&&s.apply(e,[t,mu,!1]):e[uu].apply(e,[t,n,!1])}}const yu={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},_u=new Ae("HammerGestureConfig"),vu=new Ae("HammerLoader");class bu{constructor(){this.events=[],this.overrides={}}buildHammer(e){const t=new Hammer(e,this.options);t.get("pinch").set({enable:!0}),t.get("rotate").set({enable:!0});for(const n in this.overrides)t.get(n).set(this.overrides[n]);return t}}class wu extends Hc{constructor(e,t,n,s){super(e),this._config=t,this.console=n,this.loader=s}supports(e){return!(!yu.hasOwnProperty(e.toLowerCase())&&!this.isCustomEvent(e)||!window.Hammer&&!this.loader&&(this.console.warn(`The "${e}" event cannot be bound because Hammer.JS is not `+"loaded and no custom loader has been specified."),1))}addEventListener(e,t,n){const s=this.manager.getZone();if(t=t.toLowerCase(),!window.Hammer&&this.loader){let s=!1,r=()=>{s=!0};return this.loader().then(()=>{if(!window.Hammer)return this.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(r=()=>{});s||(r=this.addEventListener(e,t,n))}).catch(()=>{this.console.warn(`The "${t}" event cannot be bound because the custom `+"Hammer.JS loader failed."),r=()=>{}}),()=>{r()}}return s.runOutsideAngular(()=>{const r=this._config.buildHammer(e),i=function(e){s.runGuarded((function(){n(e)}))};return r.on(t,i),()=>{r.off(t,i),"function"==typeof r.destroy&&r.destroy()}})}isCustomEvent(e){return this._config.events.indexOf(e)>-1}}const Cu=["alt","control","meta","shift"],Su={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};class xu extends Hc{constructor(e){super(e)}supports(e){return null!=xu.parseEventName(e)}addEventListener(e,t,n){const s=xu.parseEventName(t),r=xu.eventCallback(s.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Cc().onAndCancel(e,s.domEventName,r))}static parseEventName(e){const t=e.toLowerCase().split("."),n=t.shift();if(0===t.length||"keydown"!==n&&"keyup"!==n)return null;const s=xu._normalizeKey(t.pop());let r="";if(Cu.forEach(e=>{const n=t.indexOf(e);n>-1&&(t.splice(n,1),r+=e+".")}),r+=s,0!=t.length||0===s.length)return null;const i={};return i.domEventName=n,i.fullKey=r,i}static getEventFullKey(e){let t="",n=Cc().getEventKey(e);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),Cu.forEach(s=>{s!=n&&(0,Su[s])(e)&&(t+=s+".")}),t+=n}static eventCallback(e,t,n){return s=>{xu.getEventFullKey(s)===e&&n.runGuarded(()=>t(s))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}class Eu{}class Tu extends Eu{constructor(e){super(),this._doc=e}sanitize(e,t){if(null==t)return null;switch(e){case At.NONE:return t;case At.HTML:return t instanceof Iu?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"HTML"),function(e,t){let n=null;try{It=It||new ct(e);let s=t?String(t):"";n=It.getInertBodyElement(s);let r=5,i=s;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,s=i,i=n.innerHTML,n=It.getInertBodyElement(s)}while(s!==i);const o=new xt,l=o.sanitizeChildren(Ot(n)||n);return at()&&o.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),l}finally{if(n){const e=Ot(n)||n;for(;e.firstChild;)e.removeChild(e.firstChild)}}}(this._doc,String(t)));case At.STYLE:return t instanceof Ou?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"Style"),function(e){if(!(e=String(e).trim()))return"";const t=e.match(Nt);return t&&dt(t[1])===t[1]||e.match(Rt)&&function(e){let t=!0,n=!0;for(let s=0;s<e.length;s++){const r=e.charAt(s);"'"===r&&n?t=!t:'"'===r&&t&&(n=!n)}return t&&n}(e)?e:(at()&&console.warn(`WARNING: sanitizing unsafe style value ${e} (see http://g.co/ng/security#xss).`),"unsafe")}(t));case At.SCRIPT:if(t instanceof Au)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"Script"),new Error("unsafe value used in a script context");case At.URL:return t instanceof Ru||t instanceof Pu?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"URL"),dt(String(t)));case At.RESOURCE_URL:if(t instanceof Ru)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see http://g.co/ng/security#xss)`)}}checkNotSafeValue(e,t){if(e instanceof ku)throw new Error(`Required a safe ${t}, got a ${e.getTypeName()} `+"(see http://g.co/ng/security#xss)")}bypassSecurityTrustHtml(e){return new Iu(e)}bypassSecurityTrustStyle(e){return new Ou(e)}bypassSecurityTrustScript(e){return new Au(e)}bypassSecurityTrustUrl(e){return new Pu(e)}bypassSecurityTrustResourceUrl(e){return new Ru(e)}}class ku{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity}`+" (see http://g.co/ng/security#xss)"}}class Iu extends ku{getTypeName(){return"HTML"}}class Ou extends ku{getTypeName(){return"Style"}}class Au extends ku{getTypeName(){return"Script"}}class Pu extends ku{getTypeName(){return"URL"}}class Ru extends ku{getTypeName(){return"ResourceURL"}}const Nu=Zi(go,"browser",[{provide:pi,useValue:"browser"},{provide:di,useValue:function(){Ac.makeCurrent(),Fc.init()},multi:!0},{provide:Zl,useClass:class extends Zl{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=Cc().getLocation(),this._history=Cc().getHistory()}getBaseHrefFromDOM(){return Cc().getBaseHref(this._doc)}onPopState(e){Cc().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}onHashChange(e){Cc().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,t,n){Nc()?this._history.pushState(e,t,n):this.location.hash=n}replaceState(e,t,n){Nc()?this._history.replaceState(e,t,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}},deps:[Sa]},{provide:Sa,useFactory:function(){return document},deps:[]}]);function Du(){return new it}class Mu{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:Mu,providers:[{provide:ci,useValue:e.appId},{provide:Dc,useExisting:ci},Mc]}}}"undefined"!=typeof window&&window;class Fu{constructor(e,t){this.id=e,this.url=t}}class Lu extends Fu{constructor(e,t,n="imperative",s=null){super(e,t),this.navigationTrigger=n,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Vu extends Fu{constructor(e,t,n){super(e,t),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Uu extends Fu{constructor(e,t,n){super(e,t),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ju extends Fu{constructor(e,t,n){super(e,t),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class $u extends Fu{constructor(e,t,n,s){super(e,t),this.urlAfterRedirects=n,this.state=s}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hu extends Fu{constructor(e,t,n,s){super(e,t),this.urlAfterRedirects=n,this.state=s}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qu extends Fu{constructor(e,t,n,s,r){super(e,t),this.urlAfterRedirects=n,this.state=s,this.shouldActivate=r}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class zu extends Fu{constructor(e,t,n,s){super(e,t),this.urlAfterRedirects=n,this.state=s}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bu extends Fu{constructor(e,t,n,s){super(e,t),this.urlAfterRedirects=n,this.state=s}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gu{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Qu{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ku{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wu{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zu{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ju{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yu{constructor(e,t,n){this.routerEvent=e,this.position=t,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Xu{}const eh="primary";class th{constructor(e){this.params=e||{}}has(e){return this.params.hasOwnProperty(e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function nh(e){return new th(e)}const sh="ngNavigationCancelingError";function rh(e){const t=Error("NavigationCancelingError: "+e);return t[sh]=!0,t}function ih(e,t,n){const s=n.path.split("/");if(s.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||s.length<e.length))return null;const r={};for(let i=0;i<s.length;i++){const t=s[i],n=e[i];if(t.startsWith(":"))r[t.substring(1)]=n;else if(t!==n.path)return null}return{consumed:e.slice(0,s.length),posParams:r}}class oh{constructor(e,t){this.routes=e,this.module=t}}function lh(e,t=""){for(let n=0;n<e.length;n++){const s=e[n];ah(s,ch(t,s))}}function ah(e,t){if(!e)throw new Error(`\n      Invalid configuration of route '${t}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(e))throw new Error(`Invalid configuration of route '${t}': Array cannot be specified`);if(!e.component&&!e.children&&!e.loadChildren&&e.outlet&&e.outlet!==eh)throw new Error(`Invalid configuration of route '${t}': a componentless route without children or loadChildren cannot have a named outlet set`);if(e.redirectTo&&e.children)throw new Error(`Invalid configuration of route '${t}': redirectTo and children cannot be used together`);if(e.redirectTo&&e.loadChildren)throw new Error(`Invalid configuration of route '${t}': redirectTo and loadChildren cannot be used together`);if(e.children&&e.loadChildren)throw new Error(`Invalid configuration of route '${t}': children and loadChildren cannot be used together`);if(e.redirectTo&&e.component)throw new Error(`Invalid configuration of route '${t}': redirectTo and component cannot be used together`);if(e.path&&e.matcher)throw new Error(`Invalid configuration of route '${t}': path and matcher cannot be used together`);if(void 0===e.redirectTo&&!e.component&&!e.children&&!e.loadChildren)throw new Error(`Invalid configuration of route '${t}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===e.path&&void 0===e.matcher)throw new Error(`Invalid configuration of route '${t}': routes must have either a path or a matcher specified`);if("string"==typeof e.path&&"/"===e.path.charAt(0))throw new Error(`Invalid configuration of route '${t}': path cannot start with a slash`);if(""===e.path&&void 0!==e.redirectTo&&void 0===e.pathMatch)throw new Error(`Invalid configuration of route '{path: "${t}", redirectTo: "${e.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==e.pathMatch&&"full"!==e.pathMatch&&"prefix"!==e.pathMatch)throw new Error(`Invalid configuration of route '${t}': pathMatch can only be set to 'prefix' or 'full'`);e.children&&lh(e.children,t)}function ch(e,t){return t?e||t.path?e&&!t.path?`${e}/`:!e&&t.path?t.path:`${e}/${t.path}`:"":e}function uh(e){const t=e.children&&e.children.map(uh),n=t?Object.assign({},e,{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&n.outlet!==eh&&(n.component=Xu),n}function hh(e,t){const n=Object.keys(e),s=Object.keys(t);if(!n||!s||n.length!=s.length)return!1;let r;for(let i=0;i<n.length;i++)if(e[r=n[i]]!==t[r])return!1;return!0}function dh(e){return Array.prototype.concat.apply([],e)}function ph(e){return e.length>0?e[e.length-1]:null}function fh(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function mh(e){return vn(e)?e:_n(e)?G(Promise.resolve(e)):Aa(e)}function gh(e,t,n){return n?function(e,t){return hh(e,t)}(e.queryParams,t.queryParams)&&function e(t,n){if(!bh(t.segments,n.segments))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(const s in n.children){if(!t.children[s])return!1;if(!e(t.children[s],n.children[s]))return!1}return!0}(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>t[n]===e[n])}(e.queryParams,t.queryParams)&&function e(t,n){return function t(n,s,r){if(n.segments.length>r.length)return!!bh(n.segments.slice(0,r.length),r)&&!s.hasChildren();if(n.segments.length===r.length){if(!bh(n.segments,r))return!1;for(const t in s.children){if(!n.children[t])return!1;if(!e(n.children[t],s.children[t]))return!1}return!0}{const e=r.slice(0,n.segments.length),i=r.slice(n.segments.length);return!!bh(n.segments,e)&&!!n.children[eh]&&t(n.children[eh],s,i)}}(t,n,n.segments)}(e.root,t.root)}class yh{constructor(e,t,n){this.root=e,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=nh(this.queryParams)),this._queryParamMap}toString(){return xh.serialize(this)}}class _h{constructor(e,t){this.segments=e,this.children=t,this.parent=null,fh(t,(e,t)=>e.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Eh(this)}}class vh{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=nh(this.parameters)),this._parameterMap}toString(){return Ph(this)}}function bh(e,t){return e.length===t.length&&e.every((e,n)=>e.path===t[n].path)}function wh(e,t){let n=[];return fh(e.children,(e,s)=>{s===eh&&(n=n.concat(t(e,s)))}),fh(e.children,(e,s)=>{s!==eh&&(n=n.concat(t(e,s)))}),n}class Ch{}class Sh{parse(e){const t=new Fh(e);return new yh(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){var t;return`${`/${function e(t,n){if(!t.hasChildren())return Eh(t);if(n){const n=t.children[eh]?e(t.children[eh],!1):"",s=[];return fh(t.children,(t,n)=>{n!==eh&&s.push(`${n}:${e(t,!1)}`)}),s.length>0?`${n}(${s.join("//")})`:n}{const n=wh(t,(n,s)=>s===eh?[e(t.children[eh],!1)]:[`${s}:${e(n,!1)}`]);return`${Eh(t)}/(${n.join("//")})`}}(e.root,!0)}`}${function(e){const t=Object.keys(e).map(t=>{const n=e[t];return Array.isArray(n)?n.map(e=>`${kh(t)}=${kh(e)}`).join("&"):`${kh(t)}=${kh(n)}`});return t.length?`?${t.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${t=e.fragment,encodeURI(t)}`:""}`}}const xh=new Sh;function Eh(e){return e.segments.map(e=>Ph(e)).join("/")}function Th(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function kh(e){return Th(e).replace(/%3B/gi,";")}function Ih(e){return Th(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Oh(e){return decodeURIComponent(e)}function Ah(e){return Oh(e.replace(/\+/g,"%20"))}function Ph(e){return`${Ih(e.path)}${t=e.parameters,Object.keys(t).map(e=>`;${Ih(e)}=${Ih(t[e])}`).join("")}`;var t}const Rh=/^[^\/()?;=#]+/;function Nh(e){const t=e.match(Rh);return t?t[0]:""}const Dh=/^[^=?&#]+/,Mh=/^[^?&#]+/;class Fh{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new _h([],{}):new _h([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n[eh]=new _h(e,t)),n}parseSegment(){const e=Nh(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new vh(Oh(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Nh(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=Nh(this.remaining);e&&this.capture(n=e)}e[Oh(t)]=Oh(n)}parseQueryParam(e){const t=function(e){const t=e.match(Dh);return t?t[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=function(e){const t=e.match(Mh);return t?t[0]:""}(this.remaining);e&&this.capture(n=e)}const s=Ah(t),r=Ah(n);if(e.hasOwnProperty(s)){let t=e[s];Array.isArray(t)||(e[s]=t=[t]),t.push(r)}else e[s]=r}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Nh(this.remaining),s=this.remaining[n.length];if("/"!==s&&")"!==s&&";"!==s)throw new Error(`Cannot parse url '${this.url}'`);let r=void 0;n.indexOf(":")>-1?(r=n.substr(0,n.indexOf(":")),this.capture(r),this.capture(":")):e&&(r=eh);const i=this.parseChildren();t[r]=1===Object.keys(i).length?i[eh]:new _h([],i),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Lh{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Vh(e,this._root);return t?t.children.map(e=>e.value):[]}firstChild(e){const t=Vh(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Uh(e,this._root);return t.length<2?[]:t[t.length-2].children.map(e=>e.value).filter(t=>t!==e)}pathFromRoot(e){return Uh(e,this._root).map(e=>e.value)}}function Vh(e,t){if(e===t.value)return t;for(const n of t.children){const t=Vh(e,n);if(t)return t}return null}function Uh(e,t){if(e===t.value)return[t];for(const n of t.children){const s=Uh(e,n);if(s.length)return s.unshift(t),s}return[]}class jh{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function $h(e){const t={};return e&&e.children.forEach(e=>t[e.value.outlet]=e),t}class Hh extends Lh{constructor(e,t){super(e),this.snapshot=t,Kh(this,e)}toString(){return this.snapshot.toString()}}function qh(e,t){const n=function(e,t){const n=new Gh([],{},{},"",{},eh,t,null,e.root,-1,{});return new Qh("",new jh(n,[]))}(e,t),s=new Pa([new vh("",{})]),r=new Pa({}),i=new Pa({}),o=new Pa({}),l=new Pa(""),a=new zh(s,r,o,l,i,eh,t,n.root);return a.snapshot=n.root,new Hh(new jh(a,[]),n)}class zh{constructor(e,t,n,s,r,i,o,l){this.url=e,this.params=t,this.queryParams=n,this.fragment=s,this.data=r,this.outlet=i,this.component=o,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(H(e=>nh(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(H(e=>nh(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Bh(e,t="emptyOnly"){const n=e.pathFromRoot;let s=0;if("always"!==t)for(s=n.length-1;s>=1;){const e=n[s],t=n[s-1];if(e.routeConfig&&""===e.routeConfig.path)s--;else{if(t.component)break;s--}}return function(e){return e.reduce((e,t)=>({params:Object.assign({},e.params,t.params),data:Object.assign({},e.data,t.data),resolve:Object.assign({},e.resolve,t._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(s))}class Gh{constructor(e,t,n,s,r,i,o,l,a,c,u){this.url=e,this.params=t,this.queryParams=n,this.fragment=s,this.data=r,this.outlet=i,this.component=o,this.routeConfig=l,this._urlSegment=a,this._lastPathIndex=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=nh(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=nh(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(e=>e.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Qh extends Lh{constructor(e,t){super(t),this.url=e,Kh(this,t)}toString(){return Wh(this._root)}}function Kh(e,t){t.value._routerState=e,t.children.forEach(t=>Kh(e,t))}function Wh(e){const t=e.children.length>0?` { ${e.children.map(Wh).join(", ")} } `:"";return`${e.value}${t}`}function Zh(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,hh(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),hh(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!hh(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),hh(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function Jh(e,t){var n,s;return hh(e.params,t.params)&&bh(n=e.url,s=t.url)&&n.every((e,t)=>hh(e.parameters,s[t].parameters))&&!(!e.parent!=!t.parent)&&(!e.parent||Jh(e.parent,t.parent))}function Yh(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Xh(e,t,n,s,r){let i={};return s&&fh(s,(e,t)=>{i[t]=Array.isArray(e)?e.map(e=>`${e}`):`${e}`}),new yh(n.root===e?t:function e(t,n,s){const r={};return fh(t.children,(t,i)=>{r[i]=t===n?s:e(t,n,s)}),new _h(t.segments,r)}(n.root,e,t),i,r)}class ed{constructor(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&Yh(n[0]))throw new Error("Root segment cannot have matrix parameters");const s=n.find(e=>"object"==typeof e&&null!=e&&e.outlets);if(s&&s!==ph(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class td{constructor(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}}function nd(e){return"object"==typeof e&&null!=e&&e.outlets?e.outlets[eh]:`${e}`}function sd(e,t,n){if(e||(e=new _h([],{})),0===e.segments.length&&e.hasChildren())return rd(e,t,n);const s=function(e,t,n){let s=0,r=t;const i={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(s>=n.length)return i;const t=e.segments[r],o=nd(n[s]),l=s<n.length-1?n[s+1]:null;if(r>0&&void 0===o)break;if(o&&l&&"object"==typeof l&&void 0===l.outlets){if(!ad(o,l,t))return i;s+=2}else{if(!ad(o,{},t))return i;s++}r++}return{match:!0,pathIndex:r,commandIndex:s}}(e,t,n),r=n.slice(s.commandIndex);if(s.match&&s.pathIndex<e.segments.length){const t=new _h(e.segments.slice(0,s.pathIndex),{});return t.children[eh]=new _h(e.segments.slice(s.pathIndex),e.children),rd(t,0,r)}return s.match&&0===r.length?new _h(e.segments,{}):s.match&&!e.hasChildren()?id(e,t,n):s.match?rd(e,0,r):id(e,t,n)}function rd(e,t,n){if(0===n.length)return new _h(e.segments,{});{const s=function(e){return"object"!=typeof e[0]?{[eh]:e}:void 0===e[0].outlets?{[eh]:e}:e[0].outlets}(n),r={};return fh(s,(n,s)=>{null!==n&&(r[s]=sd(e.children[s],t,n))}),fh(e.children,(e,t)=>{void 0===s[t]&&(r[t]=e)}),new _h(e.segments,r)}}function id(e,t,n){const s=e.segments.slice(0,t);let r=0;for(;r<n.length;){if("object"==typeof n[r]&&void 0!==n[r].outlets){const e=od(n[r].outlets);return new _h(s,e)}if(0===r&&Yh(n[0])){s.push(new vh(e.segments[t].path,n[0])),r++;continue}const i=nd(n[r]),o=r<n.length-1?n[r+1]:null;i&&o&&Yh(o)?(s.push(new vh(i,ld(o))),r+=2):(s.push(new vh(i,{})),r++)}return new _h(s,{})}function od(e){const t={};return fh(e,(e,n)=>{null!==e&&(t[n]=id(new _h([],{}),0,e))}),t}function ld(e){const t={};return fh(e,(e,n)=>t[n]=`${e}`),t}function ad(e,t,n){return e==n.path&&hh(t,n.parameters)}const cd=(e,t,n)=>H(s=>(new ud(t,s.targetRouterState,s.currentRouterState,n).activate(e),s));class ud{constructor(e,t,n,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=s}activate(e){const t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),Zh(this.futureState.root),this.activateChildRoutes(t,n,e)}deactivateChildRoutes(e,t,n){const s=$h(t);e.children.forEach(e=>{const t=e.value.outlet;this.deactivateRoutes(e,s[t],n),delete s[t]}),fh(s,(e,t)=>{this.deactivateRouteAndItsChildren(e,n)})}deactivateRoutes(e,t,n){const s=e.value,r=t?t.value:null;if(s===r)if(s.component){const r=n.getContext(s.outlet);r&&this.deactivateChildRoutes(e,t,r.children)}else this.deactivateChildRoutes(e,t,n);else r&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const n=t.getContext(e.value.outlet);if(n&&n.outlet){const t=n.outlet.detach(),s=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:t,route:e,contexts:s})}}deactivateRouteAndOutlet(e,t){const n=t.getContext(e.value.outlet);if(n){const s=$h(e),r=e.value.component?n.children:t;fh(s,(e,t)=>this.deactivateRouteAndItsChildren(e,r)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(e,t,n){const s=$h(t);e.children.forEach(e=>{this.activateRoutes(e,s[e.value.outlet],n),this.forwardEvent(new Ju(e.value.snapshot))}),e.children.length&&this.forwardEvent(new Wu(e.value.snapshot))}activateRoutes(e,t,n){const s=e.value,r=t?t.value:null;if(Zh(s),s===r)if(s.component){const r=n.getOrCreateContext(s.outlet);this.activateChildRoutes(e,t,r.children)}else this.activateChildRoutes(e,t,n);else if(s.component){const t=n.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const e=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),t.children.onOutletReAttached(e.contexts),t.attachRef=e.componentRef,t.route=e.route.value,t.outlet&&t.outlet.attach(e.componentRef,e.route.value),hd(e.route)}else{const n=function(e){for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(s.snapshot),r=n?n.module.componentFactoryResolver:null;t.attachRef=null,t.route=s,t.resolver=r,t.outlet&&t.outlet.activateWith(s,r),this.activateChildRoutes(e,null,t.children)}}else this.activateChildRoutes(e,null,n)}}function hd(e){Zh(e.value),e.children.forEach(hd)}function dd(e){return"function"==typeof e}function pd(e){return e instanceof yh}class fd{constructor(e){this.segmentGroup=e||null}}class md{constructor(e){this.urlTree=e}}function gd(e){return new w(t=>t.error(new fd(e)))}function yd(e){return new w(t=>t.error(new md(e)))}function _d(e){return new w(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class vd{constructor(e,t,n,s,r){this.configLoader=t,this.urlSerializer=n,this.urlTree=s,this.config=r,this.allowRedirects=!0,this.ngModule=e.get(Qe)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,eh).pipe(H(e=>this.createUrlTree(e,this.urlTree.queryParams,this.urlTree.fragment))).pipe(nc(e=>{if(e instanceof md)return this.allowRedirects=!1,this.match(e.urlTree);if(e instanceof fd)throw this.noMatchError(e);throw e}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,eh).pipe(H(t=>this.createUrlTree(t,e.queryParams,e.fragment))).pipe(nc(e=>{if(e instanceof fd)throw this.noMatchError(e);throw e}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,n){const s=e.segments.length>0?new _h([],{[eh]:e}):e;return new yh(s,t,n)}expandSegmentGroup(e,t,n,s){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(H(e=>new _h([],e))):this.expandSegment(e,n,t,n.segments,s,!0)}expandChildren(e,t,n){return function(e,t){if(0===Object.keys(e).length)return Aa({});const n=[],s=[],r={};return fh(e,(e,i)=>{const o=t(i,e).pipe(H(e=>r[i]=e));i===eh?n.push(o):s.push(o)}),Aa.apply(null,n.concat(s)).pipe(Va(),tc(),H(()=>r))}(n.children,(n,s)=>this.expandSegmentGroup(e,t,s,n))}expandSegment(e,t,n,s,r,i){return Aa(...n).pipe(H(o=>this.expandSegmentAgainstRoute(e,t,n,o,s,r,i).pipe(nc(e=>{if(e instanceof fd)return Aa(null);throw e}))),Va(),ac(e=>!!e),nc((e,n)=>{if(e instanceof Na||"EmptyError"===e.name){if(this.noLeftoversInUrl(t,s,r))return Aa(new _h([],{}));throw new fd(t)}throw e}))}noLeftoversInUrl(e,t,n){return 0===t.length&&!e.children[n]}expandSegmentAgainstRoute(e,t,n,s,r,i,o){return Sd(s)!==i?gd(t):void 0===s.redirectTo?this.matchSegmentAgainstRoute(e,t,s,r):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,s,r,i):gd(t)}expandSegmentAgainstRouteUsingRedirect(e,t,n,s,r,i){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,s,i):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,s,r,i)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,n,s){const r=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?yd(r):this.lineralizeSegments(n,r).pipe(Q(n=>{const r=new _h(n,{});return this.expandSegment(e,r,t,n,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,s,r,i){const{matched:o,consumedSegments:l,lastChild:a,positionalParamSegments:c}=bd(t,s,r);if(!o)return gd(t);const u=this.applyRedirectCommands(l,s.redirectTo,c);return s.redirectTo.startsWith("/")?yd(u):this.lineralizeSegments(s,u).pipe(Q(s=>this.expandSegment(e,t,n,s.concat(r.slice(a)),i,!1)))}matchSegmentAgainstRoute(e,t,n,s){if("**"===n.path)return n.loadChildren?this.configLoader.load(e.injector,n).pipe(H(e=>(n._loadedConfig=e,new _h(s,{})))):Aa(new _h(s,{}));const{matched:r,consumedSegments:i,lastChild:o}=bd(t,n,s);if(!r)return gd(t);const l=s.slice(o);return this.getChildConfig(e,n,s).pipe(Q(e=>{const n=e.module,s=e.routes,{segmentGroup:r,slicedSegments:o}=function(e,t,n,s){return n.length>0&&function(e,t,n){return n.some(n=>Cd(e,t,n)&&Sd(n)!==eh)}(e,n,s)?{segmentGroup:wd(new _h(t,function(e,t){const n={};n[eh]=t;for(const s of e)""===s.path&&Sd(s)!==eh&&(n[Sd(s)]=new _h([],{}));return n}(s,new _h(n,e.children)))),slicedSegments:[]}:0===n.length&&function(e,t,n){return n.some(n=>Cd(e,t,n))}(e,n,s)?{segmentGroup:wd(new _h(e.segments,function(e,t,n,s){const r={};for(const i of n)Cd(e,t,i)&&!s[Sd(i)]&&(r[Sd(i)]=new _h([],{}));return Object.assign({},s,r)}(e,n,s,e.children))),slicedSegments:n}:{segmentGroup:e,slicedSegments:n}}(t,i,l,s);return 0===o.length&&r.hasChildren()?this.expandChildren(n,s,r).pipe(H(e=>new _h(i,e))):0===s.length&&0===o.length?Aa(new _h(i,{})):this.expandSegment(n,r,s,o,eh,!0).pipe(H(e=>new _h(i.concat(e.segments),e.children)))}))}getChildConfig(e,t,n){return t.children?Aa(new oh(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Aa(t._loadedConfig):function(e,t,n){const s=t.canLoad;return s&&0!==s.length?G(s).pipe(H(s=>{const r=e.get(s);let i;if(function(e){return e&&dd(e.canLoad)}(r))i=r.canLoad(t,n);else{if(!dd(r))throw new Error("Invalid CanLoad guard");i=r(t,n)}return mh(i)})).pipe(Va(),(r=e=>!0===e,e=>e.lift(new cc(r,void 0,e)))):Aa(!0);var r}(e.injector,t,n).pipe(Q(n=>n?this.configLoader.load(e.injector,t).pipe(H(e=>(t._loadedConfig=e,e))):function(e){return new w(t=>t.error(rh(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`)))}(t))):Aa(new oh([],e))}lineralizeSegments(e,t){let n=[],s=t.root;for(;;){if(n=n.concat(s.segments),0===s.numberOfChildren)return Aa(n);if(s.numberOfChildren>1||!s.children[eh])return _d(e.redirectTo);s=s.children[eh]}}applyRedirectCommands(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}applyRedirectCreatreUrlTree(e,t,n,s){const r=this.createSegmentGroup(e,t.root,n,s);return new yh(r,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const n={};return fh(e,(e,s)=>{if("string"==typeof e&&e.startsWith(":")){const r=e.substring(1);n[s]=t[r]}else n[s]=e}),n}createSegmentGroup(e,t,n,s){const r=this.createSegments(e,t.segments,n,s);let i={};return fh(t.children,(t,r)=>{i[r]=this.createSegmentGroup(e,t,n,s)}),new _h(r,i)}createSegments(e,t,n,s){return t.map(t=>t.path.startsWith(":")?this.findPosParam(e,t,s):this.findOrReturn(t,n))}findPosParam(e,t,n){const s=n[t.path.substring(1)];if(!s)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return s}findOrReturn(e,t){let n=0;for(const s of t){if(s.path===e.path)return t.splice(n),s;n++}return e}}function bd(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const s=(t.matcher||ih)(n,e,t);return s?{matched:!0,consumedSegments:s.consumed,lastChild:s.consumed.length,positionalParamSegments:s.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function wd(e){if(1===e.numberOfChildren&&e.children[eh]){const t=e.children[eh];return new _h(e.segments.concat(t.segments),t.children)}return e}function Cd(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Sd(e){return e.outlet||eh}class xd{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Ed{constructor(e,t){this.component=e,this.route=t}}function Td(e,t,n){const s=e._root;return function e(t,n,s,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=$h(n);return t.children.forEach(t=>{!function(t,n,s,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,l=n?n.value:null,a=s?s.getContext(t.value.outlet):null;if(l&&o.routeConfig===l.routeConfig){const c=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!bh(e.url,t.url);case"pathParamsOrQueryParamsChange":return!bh(e.url,t.url)||!hh(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Jh(e,t)||!hh(e.queryParams,t.queryParams);case"paramsChange":default:return!Jh(e,t)}}(l,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new xd(r)):(o.data=l.data,o._resolvedData=l._resolvedData),e(t,n,o.component?a?a.children:null:s,r,i),c&&i.canDeactivateChecks.push(new Ed(a&&a.outlet&&a.outlet.component||null,l))}else l&&Id(n,a,i),i.canActivateChecks.push(new xd(r)),e(t,null,o.component?a?a.children:null:s,r,i)}(t,o[t.value.outlet],s,r.concat([t.value]),i),delete o[t.value.outlet]}),fh(o,(e,t)=>Id(e,s.getContext(t),i)),i}(s,t?t._root:null,n,[s.value])}function kd(e,t,n){const s=function(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(s?s.module.injector:n).get(e)}function Id(e,t,n){const s=$h(e),r=e.value;fh(s,(e,s)=>{Id(e,r.component?t?t.children.getContext(s):null:t,n)}),n.canDeactivateChecks.push(new Ed(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}const Od=Symbol("INITIAL_VALUE");function Ad(){return hc(e=>(function(...e){let t=null,n=null;return O(e[e.length-1])&&(n=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&a(e[0])&&(e=e[0]),B(e,n).lift(new Ma(t))})(...e.map(e=>e.pipe(ic(1),fc(Od)))).pipe(mc((e,t)=>{let n=!1;return t.reduce((e,s,r)=>{if(e!==Od)return e;if(s===Od&&(n=!0),!n){if(!1===s)return s;if(r===t.length-1||pd(s))return s}return e},e)},Od),Ua(e=>e!==Od),H(e=>pd(e)?e:!0===e),ic(1)))}function Pd(e,t){return null!==e&&t&&t(new Zu(e)),Aa(!0)}function Rd(e,t){return null!==e&&t&&t(new Ku(e)),Aa(!0)}function Nd(e,t,n){const s=t.routeConfig?t.routeConfig.canActivate:null;return s&&0!==s.length?Aa(s.map(s=>La(()=>{const r=kd(s,t,n);let i;if(function(e){return e&&dd(e.canActivate)}(r))i=mh(r.canActivate(t,e));else{if(!dd(r))throw new Error("Invalid CanActivate guard");i=mh(r(t,e))}return i.pipe(ac())}))).pipe(Ad()):Aa(!0)}function Dd(e,t,n){const s=t[t.length-1],r=t.slice(0,t.length-1).reverse().map(e=>(function(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null})(e)).filter(e=>null!==e).map(t=>La(()=>Aa(t.guards.map(r=>{const i=kd(r,t.node,n);let o;if(function(e){return e&&dd(e.canActivateChild)}(i))o=mh(i.canActivateChild(s,e));else{if(!dd(i))throw new Error("Invalid CanActivateChild guard");o=mh(i(s,e))}return o.pipe(ac())})).pipe(Ad())));return Aa(r).pipe(Ad())}class Md{}class Fd{constructor(e,t,n,s,r,i){this.rootComponentType=e,this.config=t,this.urlTree=n,this.url=s,this.paramsInheritanceStrategy=r,this.relativeLinkResolution=i}recognize(){try{const e=Ud(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,eh),n=new Gh([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},eh,this.rootComponentType,null,this.urlTree.root,-1,{}),s=new jh(n,t),r=new Qh(this.url,s);return this.inheritParamsAndData(r._root),Aa(r)}catch(e){return new w(t=>t.error(e))}}inheritParamsAndData(e){const t=e.value,n=Bh(t,this.paramsInheritanceStrategy);t.params=Object.freeze(n.params),t.data=Object.freeze(n.data),e.children.forEach(e=>this.inheritParamsAndData(e))}processSegmentGroup(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}processChildren(e,t){const n=wh(t,(t,n)=>this.processSegmentGroup(e,t,n));return function(e){const t={};e.forEach(e=>{const n=t[e.value.outlet];if(n){const t=n.url.map(e=>e.toString()).join("/"),s=e.value.url.map(e=>e.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${t}' and '${s}'.`)}t[e.value.outlet]=e.value})}(n),n.sort((e,t)=>e.value.outlet===eh?-1:t.value.outlet===eh?1:e.value.outlet.localeCompare(t.value.outlet)),n}processSegment(e,t,n,s){for(const i of e)try{return this.processSegmentAgainstRoute(i,t,n,s)}catch(r){if(!(r instanceof Md))throw r}if(this.noLeftoversInUrl(t,n,s))return[];throw new Md}noLeftoversInUrl(e,t,n){return 0===t.length&&!e.children[n]}processSegmentAgainstRoute(e,t,n,s){if(e.redirectTo)throw new Md;if((e.outlet||eh)!==s)throw new Md;let r,i=[],o=[];if("**"===e.path){const i=n.length>0?ph(n).parameters:{};r=new Gh(n,i,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Hd(e),s,e.component,e,Ld(t),Vd(t)+n.length,qd(e))}else{const l=function(e,t,n){if(""===t.path){if("full"===t.pathMatch&&(e.hasChildren()||n.length>0))throw new Md;return{consumedSegments:[],lastChild:0,parameters:{}}}const s=(t.matcher||ih)(n,e,t);if(!s)throw new Md;const r={};fh(s.posParams,(e,t)=>{r[t]=e.path});const i=s.consumed.length>0?Object.assign({},r,s.consumed[s.consumed.length-1].parameters):r;return{consumedSegments:s.consumed,lastChild:s.consumed.length,parameters:i}}(t,e,n);i=l.consumedSegments,o=n.slice(l.lastChild),r=new Gh(i,l.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Hd(e),s,e.component,e,Ld(t),Vd(t)+i.length,qd(e))}const l=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),{segmentGroup:a,slicedSegments:c}=Ud(t,i,o,l,this.relativeLinkResolution);if(0===c.length&&a.hasChildren()){const e=this.processChildren(l,a);return[new jh(r,e)]}if(0===l.length&&0===c.length)return[new jh(r,[])];const u=this.processSegment(l,a,c,eh);return[new jh(r,u)]}}function Ld(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Vd(e){let t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)n+=(t=t._sourceSegment)._segmentIndexShift?t._segmentIndexShift:0;return n-1}function Ud(e,t,n,s,r){if(n.length>0&&function(e,t,n){return n.some(n=>jd(e,t,n)&&$d(n)!==eh)}(e,n,s)){const r=new _h(t,function(e,t,n,s){const r={};r[eh]=s,s._sourceSegment=e,s._segmentIndexShift=t.length;for(const i of n)if(""===i.path&&$d(i)!==eh){const n=new _h([],{});n._sourceSegment=e,n._segmentIndexShift=t.length,r[$d(i)]=n}return r}(e,t,s,new _h(n,e.children)));return r._sourceSegment=e,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some(n=>jd(e,t,n))}(e,n,s)){const i=new _h(e.segments,function(e,t,n,s,r,i){const o={};for(const l of s)if(jd(e,n,l)&&!r[$d(l)]){const n=new _h([],{});n._sourceSegment=e,n._segmentIndexShift="legacy"===i?e.segments.length:t.length,o[$d(l)]=n}return Object.assign({},r,o)}(e,t,n,s,e.children,r));return i._sourceSegment=e,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:n}}const i=new _h(e.segments,e.children);return i._sourceSegment=e,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:n}}function jd(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function $d(e){return e.outlet||eh}function Hd(e){return e.data||{}}function qd(e){return e.resolve||{}}function zd(e,t,n,s){const r=kd(e,t,s);return mh(r.resolve?r.resolve(t,n):r(t,n))}function Bd(e){return function(t){return t.pipe(hc(t=>{const n=e(t);return n?G(n).pipe(H(()=>t)):G([t])}))}}class Gd{}class Qd{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}const Kd=new Ae("ROUTES");class Wd{constructor(e,t,n,s){this.loader=e,this.compiler=t,this.onLoadStartListener=n,this.onLoadEndListener=s}load(e,t){return this.onLoadStartListener&&this.onLoadStartListener(t),this.loadModuleFactory(t.loadChildren).pipe(H(n=>{this.onLoadEndListener&&this.onLoadEndListener(t);const s=n.create(e);return new oh(dh(s.injector.get(Kd)).map(uh),s)}))}loadModuleFactory(e){return"string"==typeof e?G(this.loader.load(e)):mh(e()).pipe(Q(e=>e instanceof Ke?Aa(e):G(this.compiler.compileModuleAsync(e))))}}class Zd{}class Jd{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Yd(e){throw e}function Xd(e,t,n){return t.parse("/")}function ep(e,t){return Aa(null)}class tp{constructor(e,t,n,s,r,i,o,l){this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=n,this.location=s,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new k,this.errorHandler=Yd,this.malformedUriErrorHandler=Xd,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ep,afterPreactivation:ep},this.urlHandlingStrategy=new Jd,this.routeReuseStrategy=new Qd,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=r.get(Qe),this.console=r.get(mi);const a=r.get(Di);this.isNgZoneEnabled=a instanceof Di,this.resetConfig(l),this.currentUrlTree=new yh(new _h([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Wd(i,o,e=>this.triggerEvent(new Gu(e)),e=>this.triggerEvent(new Qu(e))),this.routerState=qh(this.currentUrlTree,this.rootComponentType),this.transitions=new Pa({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(e){const t=this.events;return e.pipe(Ua(e=>0!==e.id),H(e=>Object.assign({},e,{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl)})),hc(e=>{let n=!1,s=!1;return Aa(e).pipe(Qa(e=>{this.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign({},this.lastSuccessfulNavigation,{previousNavigation:null}):null}}),hc(e=>{const n=!this.navigated||e.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return Aa(e).pipe(hc(e=>{const n=this.transitions.getValue();return t.next(new Lu(e.id,this.serializeUrl(e.extractedUrl),e.source,e.restoredState)),n!==this.transitions.getValue()?ka:[e]}),hc(e=>Promise.resolve(e)),function(e,t,n,s){return function(r){return r.pipe(hc(r=>(function(e,t,n,s,r){return new vd(e,t,n,s,r).apply()})(e,t,n,r.extractedUrl,s).pipe(H(e=>Object.assign({},r,{urlAfterRedirects:e})))))}}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Qa(e=>{this.currentNavigation=Object.assign({},this.currentNavigation,{finalUrl:e.urlAfterRedirects})}),function(e,t,n,s,r){return function(i){return i.pipe(Q(i=>(function(e,t,n,s,r="emptyOnly",i="legacy"){return new Fd(e,t,n,s,r,i).recognize()})(e,t,i.urlAfterRedirects,n(i.urlAfterRedirects),s,r).pipe(H(e=>Object.assign({},i,{targetSnapshot:e})))))}}(this.rootComponentType,this.config,e=>this.serializeUrl(e),this.paramsInheritanceStrategy,this.relativeLinkResolution),Qa(e=>{"eager"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects)}),Qa(e=>{const n=new $u(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.next(n)}));if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:s,source:r,restoredState:i,extras:o}=e,l=new Lu(n,this.serializeUrl(s),r,i);t.next(l);const a=qh(s,this.rootComponentType).snapshot;return Aa(Object.assign({},e,{targetSnapshot:a,urlAfterRedirects:s,extras:Object.assign({},o,{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=e.rawUrl,this.browserUrlTree=e.urlAfterRedirects,e.resolve(null),ka}),Bd(e=>{const{targetSnapshot:t,id:n,extractedUrl:s,rawUrl:r,extras:{skipLocationChange:i,replaceUrl:o}}=e;return this.hooks.beforePreactivation(t,{navigationId:n,appliedUrlTree:s,rawUrlTree:r,skipLocationChange:!!i,replaceUrl:!!o})}),Qa(e=>{const t=new Hu(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),H(e=>Object.assign({},e,{guards:Td(e.targetSnapshot,e.currentSnapshot,this.rootContexts)})),function(e,t){return function(n){return n.pipe(Q(n=>{const{targetSnapshot:s,currentSnapshot:r,guards:{canActivateChecks:i,canDeactivateChecks:o}}=n;return 0===o.length&&0===i.length?Aa(Object.assign({},n,{guardsResult:!0})):function(e,t,n,s){return G(e).pipe(Q(e=>(function(e,t,n,s,r){const i=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return i&&0!==i.length?Aa(i.map(i=>{const o=kd(i,t,r);let l;if(function(e){return e&&dd(e.canDeactivate)}(o))l=mh(o.canDeactivate(e,t,n,s));else{if(!dd(o))throw new Error("Invalid CanDeactivate guard");l=mh(o(e,t,n,s))}return l.pipe(ac())})).pipe(Ad()):Aa(!0)})(e.component,e.route,n,t,s)),ac(e=>!0!==e,!0))}(o,s,r,e).pipe(Q(n=>n&&function(e){return"boolean"==typeof e}(n)?function(e,t,n,s){return G(t).pipe(_c(t=>G([Rd(t.route.parent,s),Pd(t.route,s),Dd(e,t.path,n),Nd(e,t.route,n)]).pipe(Va(),ac(e=>!0!==e,!0))),ac(e=>!0!==e,!0))}(s,i,e,t):Aa(n)),H(e=>Object.assign({},n,{guardsResult:e})))}))}}(this.ngModule.injector,e=>this.triggerEvent(e)),Qa(e=>{if(pd(e.guardsResult)){const t=rh(`Redirecting to "${this.serializeUrl(e.guardsResult)}"`);throw t.url=e.guardsResult,t}}),Qa(e=>{const t=new qu(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);this.triggerEvent(t)}),Ua(e=>{if(!e.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Uu(e.id,this.serializeUrl(e.extractedUrl),"");return t.next(n),e.resolve(!1),!1}return!0}),Bd(e=>{if(e.guards.canActivateChecks.length)return Aa(e).pipe(Qa(e=>{const t=new zu(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),function(e,t){return function(n){return n.pipe(Q(n=>{const{targetSnapshot:s,guards:{canActivateChecks:r}}=n;return r.length?G(r).pipe(_c(n=>(function(e,t,n,s){return function(e,t,n,s){const r=Object.keys(e);if(0===r.length)return Aa({});if(1===r.length){const i=r[0];return zd(e[i],t,n,s).pipe(H(e=>({[i]:e})))}const i={};return G(r).pipe(Q(r=>zd(e[r],t,n,s).pipe(H(e=>(i[r]=e,e))))).pipe(tc(),H(()=>i))}(e._resolve,e,t,s).pipe(H(t=>(e._resolvedData=t,e.data=Object.assign({},e.data,Bh(e,n).resolve),null)))})(n.route,s,e,t)),function(e,t){return arguments.length>=2?function(n){return v(mc(e,t),za(1),Ya(t))(n)}:function(t){return v(mc((t,n,s)=>e(t,n,s+1)),za(1))(t)}}((e,t)=>e),H(e=>n)):Aa(n)}))}}(this.paramsInheritanceStrategy,this.ngModule.injector),Qa(e=>{const t=new Bu(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}))}),Bd(e=>{const{targetSnapshot:t,id:n,extractedUrl:s,rawUrl:r,extras:{skipLocationChange:i,replaceUrl:o}}=e;return this.hooks.afterPreactivation(t,{navigationId:n,appliedUrlTree:s,rawUrlTree:r,skipLocationChange:!!i,replaceUrl:!!o})}),H(e=>{const t=function(e,t,n){const s=function e(t,n,s){if(s&&t.shouldReuseRoute(n.value,s.value.snapshot)){const r=s.value;r._futureSnapshot=n.value;const i=function(t,n,s){return n.children.map(n=>{for(const r of s.children)if(t.shouldReuseRoute(r.value.snapshot,n.value))return e(t,n,r);return e(t,n)})}(t,n,s);return new jh(r,i)}{const s=t.retrieve(n.value);if(s){const e=s.route;return function e(t,n){if(t.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=t.value;for(let s=0;s<t.children.length;++s)e(t.children[s],n.children[s])}(n,e),e}{const s=new zh(new Pa((r=n.value).url),new Pa(r.params),new Pa(r.queryParams),new Pa(r.fragment),new Pa(r.data),r.outlet,r.component,r),i=n.children.map(n=>e(t,n));return new jh(s,i)}}var r}(e,t._root,n?n._root:void 0);return new Hh(s,t)}(this.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign({},e,{targetRouterState:t})}),Qa(e=>{this.currentUrlTree=e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl),this.routerState=e.targetRouterState,"deferred"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects)}),cd(this.rootContexts,this.routeReuseStrategy,e=>this.triggerEvent(e)),Qa({next(){n=!0},complete(){n=!0}}),function(e){return t=>t.lift(new vc(e))}(()=>{if(!n&&!s){this.resetUrlToCurrentUrlTree();const n=new Uu(e.id,this.serializeUrl(e.extractedUrl),`Navigation ID ${e.id} is not equal to the current navigation id ${this.navigationId}`);t.next(n),e.resolve(!1)}this.currentNavigation=null}),nc(n=>{if(s=!0,function(e){return e&&e[sh]}(n)){const s=pd(n.url);s||(this.navigated=!0,this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));const r=new Uu(e.id,this.serializeUrl(e.extractedUrl),n.message);t.next(r),e.resolve(!1),s&&this.navigateByUrl(n.url)}else{this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);const s=new ju(e.id,this.serializeUrl(e.extractedUrl),n);t.next(s);try{e.resolve(this.errorHandler(n))}catch(r){e.reject(r)}}return ka}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign({},this.getTransition(),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{let t=this.parseUrl(e.url);const n="popstate"===e.type?"popstate":"hashchange",s=e.state&&e.state.navigationId?e.state:null;setTimeout(()=>{this.scheduleNavigation(t,n,s,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){lh(e),this.config=e.map(uh),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(e,t={}){const{relativeTo:n,queryParams:s,fragment:r,preserveQueryParams:i,queryParamsHandling:o,preserveFragment:l}=t;at()&&i&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const a=n||this.routerState.root,c=l?this.currentUrlTree.fragment:r;let u=null;if(o)switch(o){case"merge":u=Object.assign({},this.currentUrlTree.queryParams,s);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}else u=i?this.currentUrlTree.queryParams:s||null;return null!==u&&(u=this.removeEmptyProps(u)),function(e,t,n,s,r){if(0===n.length)return Xh(t.root,t.root,t,s,r);const i=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new ed(!0,0,e);let t=0,n=!1;const s=e.reduce((e,s,r)=>{if("object"==typeof s&&null!=s){if(s.outlets){const t={};return fh(s.outlets,(e,n)=>{t[n]="string"==typeof e?e.split("/"):e}),[...e,{outlets:t}]}if(s.segmentPath)return[...e,s.segmentPath]}return"string"!=typeof s?[...e,s]:0===r?(s.split("/").forEach((s,r)=>{0==r&&"."===s||(0==r&&""===s?n=!0:".."===s?t++:""!=s&&e.push(s))}),e):[...e,s]},[]);return new ed(n,t,s)}(n);if(i.toRoot())return Xh(t.root,new _h([],{}),t,s,r);const o=function(e,t,n){if(e.isAbsolute)return new td(t.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new td(n.snapshot._urlSegment,!0,0);const s=Yh(e.commands[0])?0:1;return function(e,t,n){let s=e,r=t,i=n;for(;i>r;){if(i-=r,!(s=s.parent))throw new Error("Invalid number of '../'");r=s.segments.length}return new td(s,!1,r-i)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+s,e.numberOfDoubleDots)}(i,t,e),l=o.processChildren?rd(o.segmentGroup,o.index,i.commands):sd(o.segmentGroup,o.index,i.commands);return Xh(o.segmentGroup,l,t,s,r)}(a,this.currentUrlTree,e,u,c)}navigateByUrl(e,t={skipLocationChange:!1}){at()&&this.isNgZoneEnabled&&!Di.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=pd(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,t)}navigate(e,t={skipLocationChange:!1}){return function(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}isActive(e,t){if(pd(e))return gh(this.currentUrlTree,e,t);const n=this.parseUrl(e);return gh(this.currentUrlTree,n,t)}removeEmptyProps(e){return Object.keys(e).reduce((t,n)=>{const s=e[n];return null!=s&&(t[n]=s),t},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.events.next(new Vu(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,t,n,s){const r=this.getTransition();if(r&&"imperative"!==t&&"imperative"===r.source&&r.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(r&&"hashchange"==t&&"popstate"===r.source&&r.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(r&&"popstate"==t&&"hashchange"===r.source&&r.rawUrl.toString()===e.toString())return Promise.resolve(!0);let i=null,o=null;const l=new Promise((e,t)=>{i=e,o=t}),a=++this.navigationId;return this.setTransition({id:a,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:s,resolve:i,reject:o,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(e=>Promise.reject(e))}setBrowserUrl(e,t,n,s){const r=this.urlSerializer.serialize(e);s=s||{},this.location.isCurrentPathEqualTo(r)||t?this.location.replaceState(r,"",Object.assign({},s,{navigationId:n})):this.location.go(r,"",Object.assign({},s,{navigationId:n}))}resetStateAndUrl(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}class np{constructor(e,t,n){this.router=e,this.route=t,this.locationStrategy=n,this.commands=[],this.subscription=e.events.subscribe(e=>{e instanceof Vu&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}set preserveQueryParams(e){at()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=e}ngOnChanges(e){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,t,n,s){if(0!==e||t||n||s)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const r={skipLocationChange:sp(this.skipLocationChange),replaceUrl:sp(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,r),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:sp(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:sp(this.preserveFragment)})}}function sp(e){return""===e||!!e}class rp{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ip,this.attachRef=null}}class ip{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new rp,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class op{constructor(e,t,n,s,r){this.parentContexts=e,this.location=t,this.resolver=n,this.changeDetector=r,this.activated=null,this._activatedRoute=null,this.activateEvents=new ni,this.deactivateEvents=new ni,this.name=s||eh,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),s=this.parentContexts.getOrCreateContext(this.name).children,r=new lp(e,s,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,r),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}class lp{constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===zh?this.route:e===ip?this.childContexts:this.parent.get(e,t)}}class ap{}class cp{preload(e,t){return t().pipe(nc(()=>Aa(null)))}}class up{preload(e,t){return Aa(null)}}class hp{constructor(e,t,n,s,r){this.router=e,this.injector=s,this.preloadingStrategy=r,this.loader=new Wd(t,n,t=>e.triggerEvent(new Gu(t)),t=>e.triggerEvent(new Qu(t)))}setUpPreloading(){this.subscription=this.router.events.pipe(Ua(e=>e instanceof Vu),_c(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(Qe);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(e,t){const n=[];for(const s of t)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const e=s._loadedConfig;n.push(this.processRoutes(e.module,e.routes))}else s.loadChildren&&!s.canLoad?n.push(this.preloadConfig(e,s)):s.children&&n.push(this.processRoutes(e,s.children));return G(n).pipe(J(),H(e=>void 0))}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>this.loader.load(e.injector,t).pipe(Q(e=>(t._loadedConfig=e,this.processRoutes(e.module,e.routes)))))}}class dp{constructor(e,t,n={}){this.router=e,this.viewportScroller=t,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Lu?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Vu&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Yu&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,t){this.router.triggerEvent(new Yu(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}const pp=new Ae("ROUTER_CONFIGURATION"),fp=new Ae("ROUTER_FORROOT_GUARD"),mp=[ea,{provide:Ch,useClass:Sh},{provide:tp,useFactory:Cp,deps:[eo,Ch,ip,ea,en,no,Si,Kd,pp,[Zd,new pe],[Gd,new pe]]},ip,{provide:zh,useFactory:Sp,deps:[tp]},{provide:no,useClass:lo},hp,up,cp,{provide:pp,useValue:{enableTracing:!1}}];function gp(){return new Wi("Router",tp)}class yp{constructor(e,t){}static forRoot(e,t){return{ngModule:yp,providers:[mp,wp(e),{provide:fp,useFactory:bp,deps:[[tp,new pe,new me]]},{provide:pp,useValue:t||{}},{provide:Yl,useFactory:vp,deps:[Zl,[new de(Xl),new pe],pp]},{provide:dp,useFactory:_p,deps:[tp,Ea,pp]},{provide:ap,useExisting:t&&t.preloadingStrategy?t.preloadingStrategy:up},{provide:Wi,multi:!0,useFactory:gp},[xp,{provide:li,multi:!0,useFactory:Ep,deps:[xp]},{provide:kp,useFactory:Tp,deps:[xp]},{provide:fi,multi:!0,useExisting:kp}]]}}static forChild(e){return{ngModule:yp,providers:[wp(e)]}}}function _p(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new dp(e,t,n)}function vp(e,t,n={}){return n.useHash?new na(e,t):new sa(e,t)}function bp(e){if(e)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function wp(e){return[{provide:un,multi:!0,useValue:e},{provide:Kd,multi:!0,useValue:e}]}function Cp(e,t,n,s,r,i,o,l,a={},c,u){const h=new tp(null,t,n,s,r,i,o,dh(l));if(c&&(h.urlHandlingStrategy=c),u&&(h.routeReuseStrategy=u),a.errorHandler&&(h.errorHandler=a.errorHandler),a.malformedUriErrorHandler&&(h.malformedUriErrorHandler=a.malformedUriErrorHandler),a.enableTracing){const e=Cc();h.events.subscribe(t=>{e.logGroup(`Router Event: ${t.constructor.name}`),e.log(t.toString()),e.log(t),e.logGroupEnd()})}return a.onSameUrlNavigation&&(h.onSameUrlNavigation=a.onSameUrlNavigation),a.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=a.paramsInheritanceStrategy),a.urlUpdateStrategy&&(h.urlUpdateStrategy=a.urlUpdateStrategy),a.relativeLinkResolution&&(h.relativeLinkResolution=a.relativeLinkResolution),h}function Sp(e){return e.routerState.root}class xp{constructor(e){this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new k}appInitializer(){return this.injector.get(Jl,Promise.resolve(null)).then(()=>{let e=null;const t=new Promise(t=>e=t),n=this.injector.get(tp),s=this.injector.get(pp);if(this.isLegacyDisabled(s)||this.isLegacyEnabled(s))e(!0);else if("disabled"===s.initialNavigation)n.setUpLocationChangeListener(),e(!0);else{if("enabled"!==s.initialNavigation)throw new Error(`Invalid initialNavigation options: '${s.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?Aa(null):(this.initNavigation=!0,e(!0),this.resultOfPreactivationDone),n.initialNavigation()}return t})}bootstrapListener(e){const t=this.injector.get(pp),n=this.injector.get(hp),s=this.injector.get(dp),r=this.injector.get(tp),i=this.injector.get(eo);e===i.components[0]&&(this.isLegacyEnabled(t)?r.initialNavigation():this.isLegacyDisabled(t)&&r.setUpLocationChangeListener(),n.setUpPreloading(),s.init(),r.resetRootComponentType(i.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(e){return"legacy_enabled"===e.initialNavigation||!0===e.initialNavigation||void 0===e.initialNavigation}isLegacyDisabled(e){return"legacy_disabled"===e.initialNavigation||!1===e.initialNavigation}}function Ep(e){return e.appInitializer.bind(e)}function Tp(e){return e.bootstrapListener.bind(e)}const kp=new Ae("Router Initializer");var Ip=ws({encapsulation:2,styles:[],data:{}});function Op(e){return $o(0,[(e()(),So(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),Pr(1,212992,null,0,op,[ip,ns,Tn,[8,null],Ft],null,null)],(function(e,t){e(t,1,0)}),null)}function Ap(e){return $o(0,[(e()(),So(0,0,null,null,1,"ng-component",[],null,null,null,Op,Ip)),Pr(1,49152,null,0,Xu,[],null,null)],null,null)}var Pp=lr("ng-component",Xu,Ap,{},{},[]);function Rp(e){return t=>t.lift(new Np(e))}class Np{constructor(e){this.notifier=e}call(e,t){const n=new Dp(e),s=j(n,this.notifier);return s&&!n.seenValue?(n.add(s),t.subscribe(n)):n}}class Dp extends ${constructor(e){super(e),this.seenValue=!1}notifyNext(e,t,n,s,r){this.seenValue=!0,this.complete()}notifyComplete(){}}class Mp extends d{constructor(e,t){super()}schedule(e,t=0){return this}}class Fp extends Mp{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const n=this.id,s=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(s,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,n=0){return setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let n=!1,s=void 0;try{this.work(e)}catch(r){n=!0,s=!!r&&r||new Error(r)}if(n)return this.unsubscribe(),s}_unsubscribe(){const e=this.id,t=this.scheduler,n=t.actions,s=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==s&&n.splice(s,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}let Lp=(()=>{class e{constructor(t,n=e.now){this.SchedulerAction=t,this.now=n}schedule(e,t=0,n){return new this.SchedulerAction(this,e).schedule(n,t)}}return e.now=()=>Date.now(),e})();class Vp extends Lp{constructor(e,t=Lp.now){super(e,()=>Vp.delegate&&Vp.delegate!==this?Vp.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,n){return Vp.delegate&&Vp.delegate!==this?Vp.delegate.schedule(e,t,n):super.schedule(e,t,n)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}const Up=new Vp(Fp);class jp{constructor(e){this.durationSelector=e}call(e,t){return t.subscribe(new $p(e,this.durationSelector))}}class $p extends ${constructor(e,t){super(e),this.durationSelector=t,this.hasValue=!1}_next(e){if(this.value=e,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:t}=this;n=t(e)}catch(t){return this.destination.error(t)}const s=j(this,n);!s||s.closed?this.clearThrottle():this.add(this.throttled=s)}}clearThrottle(){const{value:e,hasValue:t,throttled:n}=this;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),t&&(this.value=null,this.hasValue=!1,this.destination.next(e))}notifyNext(e,t,n,s){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function Hp(e){return!a(e)&&e-parseFloat(e)+1>=0}function qp(e){const{index:t,period:n,subscriber:s}=e;if(s.next(t),!s.closed){if(-1===n)return s.complete();e.index=t+1,this.schedule(e,n)}}function zp(e,t=Up){return n=>n.lift(new Bp(e,t))}class Bp{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new Gp(e,this.dueTime,this.scheduler))}}class Gp extends m{constructor(e,t,n){super(e),this.dueTime=t,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Qp,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function Qp(e){e.debouncedNext()}class Kp extends Fp{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,n=0){return null!==n&&n>0?super.requestAsyncId(e,t,n):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(()=>e.flush(null))))}recycleAsyncId(e,t,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(e,t,n);0===e.actions.length&&(cancelAnimationFrame(t),e.scheduled=void 0)}}class Wp extends Vp{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let n,s=-1,r=t.length;e=e||t.shift();do{if(n=e.execute(e.state,e.delay))break}while(++s<r&&(e=t.shift()));if(this.active=!1,n){for(;++s<r&&(e=t.shift());)e.unsubscribe();throw n}}}const Zp=new Wp(Kp);let Jp=1;const Yp={},Xp={setImmediate(e){const t=Jp++;return Yp[t]=e,Promise.resolve().then(()=>(function(e){const t=Yp[e];t&&t()})(t)),t},clearImmediate(e){delete Yp[e]}};class ef extends Fp{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,n=0){return null!==n&&n>0?super.requestAsyncId(e,t,n):(e.actions.push(this),e.scheduled||(e.scheduled=Xp.setImmediate(e.flush.bind(e,null))))}recycleAsyncId(e,t,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(e,t,n);0===e.actions.length&&(Xp.clearImmediate(t),e.scheduled=void 0)}}class tf extends Vp{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let n,s=-1,r=t.length;e=e||t.shift();do{if(n=e.execute(e.state,e.delay))break}while(++s<r&&(e=t.shift()));if(this.active=!1,n){for(;++s<r&&(e=t.shift());)e.unsubscribe();throw n}}}const nf=new tf(ef);function sf(e,t,n,r){return s(n)&&(r=n,n=void 0),r?sf(e,t,n).pipe(H(e=>a(e)?r(...e):r(e))):new w(s=>{!function e(t,n,s,r,i){let o;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(t)){const e=t;t.addEventListener(n,s,i),o=()=>e.removeEventListener(n,s,i)}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(t)){const e=t;t.on(n,s),o=()=>e.off(n,s)}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(t)){const e=t;t.addListener(n,s),o=()=>e.removeListener(n,s)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let o=0,l=t.length;o<l;o++)e(t[o],n,s,r,i)}r.add(o)}(e,t,(function(e){s.next(arguments.length>1?Array.prototype.slice.call(arguments):e)}),s,n)})}const rf=/[&<>"']/g,of=RegExp(rf.source),lf={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function af(e){return null!=e}function cf(e){return"object"==typeof e&&af(e)}function uf(e){return e instanceof Function}class hf{constructor(e){this.element=e,this.escape=!0}ngOnChanges(e){var t;this.element.nativeElement.innerHTML=this.escape?(t=this.ngItemLabel)&&of.test(t)?t.replace(rf,e=>lf[e]):t:this.ngItemLabel}}let df=(()=>{class e{warn(e){console.warn(e)}}return e.ngInjectableDef=_e({factory:function(){return new e},token:e,providedIn:"root"}),e})();function pf(){return"axxxxxxxxxxx".replace(/[x]/g,(function(e){return(16*Math.random()|0).toString(16)}))}const ff={"\u24b6":"A","\uff21":"A","\xc0":"A","\xc1":"A","\xc2":"A","\u1ea6":"A","\u1ea4":"A","\u1eaa":"A","\u1ea8":"A","\xc3":"A","\u0100":"A","\u0102":"A","\u1eb0":"A","\u1eae":"A","\u1eb4":"A","\u1eb2":"A","\u0226":"A","\u01e0":"A","\xc4":"A","\u01de":"A","\u1ea2":"A","\xc5":"A","\u01fa":"A","\u01cd":"A","\u0200":"A","\u0202":"A","\u1ea0":"A","\u1eac":"A","\u1eb6":"A","\u1e00":"A","\u0104":"A","\u023a":"A","\u2c6f":"A","\ua732":"AA","\xc6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"AU","\ua738":"AV","\ua73a":"AV","\ua73c":"AY","\u24b7":"B","\uff22":"B","\u1e02":"B","\u1e04":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24b8":"C","\uff23":"C","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\xc7":"C","\u1e08":"C","\u0187":"C","\u023b":"C","\ua73e":"C","\u24b9":"D","\uff24":"D","\u1e0a":"D","\u010e":"D","\u1e0c":"D","\u1e10":"D","\u1e12":"D","\u1e0e":"D","\u0110":"D","\u018b":"D","\u018a":"D","\u0189":"D","\ua779":"D","\u01f1":"DZ","\u01c4":"DZ","\u01f2":"Dz","\u01c5":"Dz","\u24ba":"E","\uff25":"E","\xc8":"E","\xc9":"E","\xca":"E","\u1ec0":"E","\u1ebe":"E","\u1ec4":"E","\u1ec2":"E","\u1ebc":"E","\u0112":"E","\u1e14":"E","\u1e16":"E","\u0114":"E","\u0116":"E","\xcb":"E","\u1eba":"E","\u011a":"E","\u0204":"E","\u0206":"E","\u1eb8":"E","\u1ec6":"E","\u0228":"E","\u1e1c":"E","\u0118":"E","\u1e18":"E","\u1e1a":"E","\u0190":"E","\u018e":"E","\u24bb":"F","\uff26":"F","\u1e1e":"F","\u0191":"F","\ua77b":"F","\u24bc":"G","\uff27":"G","\u01f4":"G","\u011c":"G","\u1e20":"G","\u011e":"G","\u0120":"G","\u01e6":"G","\u0122":"G","\u01e4":"G","\u0193":"G","\ua7a0":"G","\ua77d":"G","\ua77e":"G","\u24bd":"H","\uff28":"H","\u0124":"H","\u1e22":"H","\u1e26":"H","\u021e":"H","\u1e24":"H","\u1e28":"H","\u1e2a":"H","\u0126":"H","\u2c67":"H","\u2c75":"H","\ua78d":"H","\u24be":"I","\uff29":"I","\xcc":"I","\xcd":"I","\xce":"I","\u0128":"I","\u012a":"I","\u012c":"I","\u0130":"I","\xcf":"I","\u1e2e":"I","\u1ec8":"I","\u01cf":"I","\u0208":"I","\u020a":"I","\u1eca":"I","\u012e":"I","\u1e2c":"I","\u0197":"I","\u24bf":"J","\uff2a":"J","\u0134":"J","\u0248":"J","\u24c0":"K","\uff2b":"K","\u1e30":"K","\u01e8":"K","\u1e32":"K","\u0136":"K","\u1e34":"K","\u0198":"K","\u2c69":"K","\ua740":"K","\ua742":"K","\ua744":"K","\ua7a2":"K","\u24c1":"L","\uff2c":"L","\u013f":"L","\u0139":"L","\u013d":"L","\u1e36":"L","\u1e38":"L","\u013b":"L","\u1e3c":"L","\u1e3a":"L","\u0141":"L","\u023d":"L","\u2c62":"L","\u2c60":"L","\ua748":"L","\ua746":"L","\ua780":"L","\u01c7":"LJ","\u01c8":"Lj","\u24c2":"M","\uff2d":"M","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u019c":"M","\u24c3":"N","\uff2e":"N","\u01f8":"N","\u0143":"N","\xd1":"N","\u1e44":"N","\u0147":"N","\u1e46":"N","\u0145":"N","\u1e4a":"N","\u1e48":"N","\u0220":"N","\u019d":"N","\ua790":"N","\ua7a4":"N","\u01ca":"NJ","\u01cb":"Nj","\u24c4":"O","\uff2f":"O","\xd2":"O","\xd3":"O","\xd4":"O","\u1ed2":"O","\u1ed0":"O","\u1ed6":"O","\u1ed4":"O","\xd5":"O","\u1e4c":"O","\u022c":"O","\u1e4e":"O","\u014c":"O","\u1e50":"O","\u1e52":"O","\u014e":"O","\u022e":"O","\u0230":"O","\xd6":"O","\u022a":"O","\u1ece":"O","\u0150":"O","\u01d1":"O","\u020c":"O","\u020e":"O","\u01a0":"O","\u1edc":"O","\u1eda":"O","\u1ee0":"O","\u1ede":"O","\u1ee2":"O","\u1ecc":"O","\u1ed8":"O","\u01ea":"O","\u01ec":"O","\xd8":"O","\u01fe":"O","\u0186":"O","\u019f":"O","\ua74a":"O","\ua74c":"O","\u01a2":"OI","\ua74e":"OO","\u0222":"OU","\u24c5":"P","\uff30":"P","\u1e54":"P","\u1e56":"P","\u01a4":"P","\u2c63":"P","\ua750":"P","\ua752":"P","\ua754":"P","\u24c6":"Q","\uff31":"Q","\ua756":"Q","\ua758":"Q","\u024a":"Q","\u24c7":"R","\uff32":"R","\u0154":"R","\u1e58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1e5a":"R","\u1e5c":"R","\u0156":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R","\ua75a":"R","\ua7a6":"R","\ua782":"R","\u24c8":"S","\uff33":"S","\u1e9e":"S","\u015a":"S","\u1e64":"S","\u015c":"S","\u1e60":"S","\u0160":"S","\u1e66":"S","\u1e62":"S","\u1e68":"S","\u0218":"S","\u015e":"S","\u2c7e":"S","\ua7a8":"S","\ua784":"S","\u24c9":"T","\uff34":"T","\u1e6a":"T","\u0164":"T","\u1e6c":"T","\u021a":"T","\u0162":"T","\u1e70":"T","\u1e6e":"T","\u0166":"T","\u01ac":"T","\u01ae":"T","\u023e":"T","\ua786":"T","\ua728":"TZ","\u24ca":"U","\uff35":"U","\xd9":"U","\xda":"U","\xdb":"U","\u0168":"U","\u1e78":"U","\u016a":"U","\u1e7a":"U","\u016c":"U","\xdc":"U","\u01db":"U","\u01d7":"U","\u01d5":"U","\u01d9":"U","\u1ee6":"U","\u016e":"U","\u0170":"U","\u01d3":"U","\u0214":"U","\u0216":"U","\u01af":"U","\u1eea":"U","\u1ee8":"U","\u1eee":"U","\u1eec":"U","\u1ef0":"U","\u1ee4":"U","\u1e72":"U","\u0172":"U","\u1e76":"U","\u1e74":"U","\u0244":"U","\u24cb":"V","\uff36":"V","\u1e7c":"V","\u1e7e":"V","\u01b2":"V","\ua75e":"V","\u0245":"V","\ua760":"VY","\u24cc":"W","\uff37":"W","\u1e80":"W","\u1e82":"W","\u0174":"W","\u1e86":"W","\u1e84":"W","\u1e88":"W","\u2c72":"W","\u24cd":"X","\uff38":"X","\u1e8a":"X","\u1e8c":"X","\u24ce":"Y","\uff39":"Y","\u1ef2":"Y","\xdd":"Y","\u0176":"Y","\u1ef8":"Y","\u0232":"Y","\u1e8e":"Y","\u0178":"Y","\u1ef6":"Y","\u1ef4":"Y","\u01b3":"Y","\u024e":"Y","\u1efe":"Y","\u24cf":"Z","\uff3a":"Z","\u0179":"Z","\u1e90":"Z","\u017b":"Z","\u017d":"Z","\u1e92":"Z","\u1e94":"Z","\u01b5":"Z","\u0224":"Z","\u2c7f":"Z","\u2c6b":"Z","\ua762":"Z","\u24d0":"a","\uff41":"a","\u1e9a":"a","\xe0":"a","\xe1":"a","\xe2":"a","\u1ea7":"a","\u1ea5":"a","\u1eab":"a","\u1ea9":"a","\xe3":"a","\u0101":"a","\u0103":"a","\u1eb1":"a","\u1eaf":"a","\u1eb5":"a","\u1eb3":"a","\u0227":"a","\u01e1":"a","\xe4":"a","\u01df":"a","\u1ea3":"a","\xe5":"a","\u01fb":"a","\u01ce":"a","\u0201":"a","\u0203":"a","\u1ea1":"a","\u1ead":"a","\u1eb7":"a","\u1e01":"a","\u0105":"a","\u2c65":"a","\u0250":"a","\ua733":"aa","\xe6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av","\ua73b":"av","\ua73d":"ay","\u24d1":"b","\uff42":"b","\u1e03":"b","\u1e05":"b","\u1e07":"b","\u0180":"b","\u0183":"b","\u0253":"b","\u24d2":"c","\uff43":"c","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\xe7":"c","\u1e09":"c","\u0188":"c","\u023c":"c","\ua73f":"c","\u2184":"c","\u24d3":"d","\uff44":"d","\u1e0b":"d","\u010f":"d","\u1e0d":"d","\u1e11":"d","\u1e13":"d","\u1e0f":"d","\u0111":"d","\u018c":"d","\u0256":"d","\u0257":"d","\ua77a":"d","\u01f3":"dz","\u01c6":"dz","\u24d4":"e","\uff45":"e","\xe8":"e","\xe9":"e","\xea":"e","\u1ec1":"e","\u1ebf":"e","\u1ec5":"e","\u1ec3":"e","\u1ebd":"e","\u0113":"e","\u1e15":"e","\u1e17":"e","\u0115":"e","\u0117":"e","\xeb":"e","\u1ebb":"e","\u011b":"e","\u0205":"e","\u0207":"e","\u1eb9":"e","\u1ec7":"e","\u0229":"e","\u1e1d":"e","\u0119":"e","\u1e19":"e","\u1e1b":"e","\u0247":"e","\u025b":"e","\u01dd":"e","\u24d5":"f","\uff46":"f","\u1e1f":"f","\u0192":"f","\ua77c":"f","\u24d6":"g","\uff47":"g","\u01f5":"g","\u011d":"g","\u1e21":"g","\u011f":"g","\u0121":"g","\u01e7":"g","\u0123":"g","\u01e5":"g","\u0260":"g","\ua7a1":"g","\u1d79":"g","\ua77f":"g","\u24d7":"h","\uff48":"h","\u0125":"h","\u1e23":"h","\u1e27":"h","\u021f":"h","\u1e25":"h","\u1e29":"h","\u1e2b":"h","\u1e96":"h","\u0127":"h","\u2c68":"h","\u2c76":"h","\u0265":"h","\u0195":"hv","\u24d8":"i","\uff49":"i","\xec":"i","\xed":"i","\xee":"i","\u0129":"i","\u012b":"i","\u012d":"i","\xef":"i","\u1e2f":"i","\u1ec9":"i","\u01d0":"i","\u0209":"i","\u020b":"i","\u1ecb":"i","\u012f":"i","\u1e2d":"i","\u0268":"i","\u0131":"i","\u24d9":"j","\uff4a":"j","\u0135":"j","\u01f0":"j","\u0249":"j","\u24da":"k","\uff4b":"k","\u1e31":"k","\u01e9":"k","\u1e33":"k","\u0137":"k","\u1e35":"k","\u0199":"k","\u2c6a":"k","\ua741":"k","\ua743":"k","\ua745":"k","\ua7a3":"k","\u24db":"l","\uff4c":"l","\u0140":"l","\u013a":"l","\u013e":"l","\u1e37":"l","\u1e39":"l","\u013c":"l","\u1e3d":"l","\u1e3b":"l","\u017f":"l","\u0142":"l","\u019a":"l","\u026b":"l","\u2c61":"l","\ua749":"l","\ua781":"l","\ua747":"l","\u01c9":"lj","\u24dc":"m","\uff4d":"m","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u026f":"m","\u24dd":"n","\uff4e":"n","\u01f9":"n","\u0144":"n","\xf1":"n","\u1e45":"n","\u0148":"n","\u1e47":"n","\u0146":"n","\u1e4b":"n","\u1e49":"n","\u019e":"n","\u0272":"n","\u0149":"n","\ua791":"n","\ua7a5":"n","\u01cc":"nj","\u24de":"o","\uff4f":"o","\xf2":"o","\xf3":"o","\xf4":"o","\u1ed3":"o","\u1ed1":"o","\u1ed7":"o","\u1ed5":"o","\xf5":"o","\u1e4d":"o","\u022d":"o","\u1e4f":"o","\u014d":"o","\u1e51":"o","\u1e53":"o","\u014f":"o","\u022f":"o","\u0231":"o","\xf6":"o","\u022b":"o","\u1ecf":"o","\u0151":"o","\u01d2":"o","\u020d":"o","\u020f":"o","\u01a1":"o","\u1edd":"o","\u1edb":"o","\u1ee1":"o","\u1edf":"o","\u1ee3":"o","\u1ecd":"o","\u1ed9":"o","\u01eb":"o","\u01ed":"o","\xf8":"o","\u01ff":"o","\u0254":"o","\ua74b":"o","\ua74d":"o","\u0275":"o","\u01a3":"oi","\u0223":"ou","\ua74f":"oo","\u24df":"p","\uff50":"p","\u1e55":"p","\u1e57":"p","\u01a5":"p","\u1d7d":"p","\ua751":"p","\ua753":"p","\ua755":"p","\u24e0":"q","\uff51":"q","\u024b":"q","\ua757":"q","\ua759":"q","\u24e1":"r","\uff52":"r","\u0155":"r","\u1e59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1e5b":"r","\u1e5d":"r","\u0157":"r","\u1e5f":"r","\u024d":"r","\u027d":"r","\ua75b":"r","\ua7a7":"r","\ua783":"r","\u24e2":"s","\uff53":"s","\xdf":"s","\u015b":"s","\u1e65":"s","\u015d":"s","\u1e61":"s","\u0161":"s","\u1e67":"s","\u1e63":"s","\u1e69":"s","\u0219":"s","\u015f":"s","\u023f":"s","\ua7a9":"s","\ua785":"s","\u1e9b":"s","\u24e3":"t","\uff54":"t","\u1e6b":"t","\u1e97":"t","\u0165":"t","\u1e6d":"t","\u021b":"t","\u0163":"t","\u1e71":"t","\u1e6f":"t","\u0167":"t","\u01ad":"t","\u0288":"t","\u2c66":"t","\ua787":"t","\ua729":"tz","\u24e4":"u","\uff55":"u","\xf9":"u","\xfa":"u","\xfb":"u","\u0169":"u","\u1e79":"u","\u016b":"u","\u1e7b":"u","\u016d":"u","\xfc":"u","\u01dc":"u","\u01d8":"u","\u01d6":"u","\u01da":"u","\u1ee7":"u","\u016f":"u","\u0171":"u","\u01d4":"u","\u0215":"u","\u0217":"u","\u01b0":"u","\u1eeb":"u","\u1ee9":"u","\u1eef":"u","\u1eed":"u","\u1ef1":"u","\u1ee5":"u","\u1e73":"u","\u0173":"u","\u1e77":"u","\u1e75":"u","\u0289":"u","\u24e5":"v","\uff56":"v","\u1e7d":"v","\u1e7f":"v","\u028b":"v","\ua75f":"v","\u028c":"v","\ua761":"vy","\u24e6":"w","\uff57":"w","\u1e81":"w","\u1e83":"w","\u0175":"w","\u1e87":"w","\u1e85":"w","\u1e98":"w","\u1e89":"w","\u2c73":"w","\u24e7":"x","\uff58":"x","\u1e8b":"x","\u1e8d":"x","\u24e8":"y","\uff59":"y","\u1ef3":"y","\xfd":"y","\u0177":"y","\u1ef9":"y","\u0233":"y","\u1e8f":"y","\xff":"y","\u1ef7":"y","\u1e99":"y","\u1ef5":"y","\u01b4":"y","\u024f":"y","\u1eff":"y","\u24e9":"z","\uff5a":"z","\u017a":"z","\u1e91":"z","\u017c":"z","\u017e":"z","\u1e93":"z","\u1e95":"z","\u01b6":"z","\u0225":"z","\u0240":"z","\u2c6c":"z","\ua763":"z","\u0386":"\u0391","\u0388":"\u0395","\u0389":"\u0397","\u038a":"\u0399","\u03aa":"\u0399","\u038c":"\u039f","\u038e":"\u03a5","\u03ab":"\u03a5","\u038f":"\u03a9","\u03ac":"\u03b1","\u03ad":"\u03b5","\u03ae":"\u03b7","\u03af":"\u03b9","\u03ca":"\u03b9","\u0390":"\u03b9","\u03cc":"\u03bf","\u03cd":"\u03c5","\u03cb":"\u03c5","\u03b0":"\u03c5","\u03c9":"\u03c9","\u03c2":"\u03c3"};function mf(e){return e.replace(/[^\u0000-\u007E]/g,e=>ff[e]||e)}class gf{constructor(e,t){this._ngSelect=e,this._selectionModel=t,this._items=[],this._filteredItems=[],this._markedIndex=-1}get items(){return this._items}get filteredItems(){return this._filteredItems}get markedIndex(){return this._markedIndex}get selectedItems(){return this._selectionModel.value}get markedItem(){return this._filteredItems[this._markedIndex]}get noItemsToSelect(){return this._ngSelect.hideSelected&&this._items.length===this.selectedItems.length}get maxItemsSelected(){return this._ngSelect.multiple&&this._ngSelect.maxSelectedItems<=this.selectedItems.length}get lastSelectedItem(){let e=this.selectedItems.length-1;for(;e>=0;e--){let t=this.selectedItems[e];if(!t.disabled)return t}return null}setItems(e){this._items=e.map((e,t)=>this.mapItem(e,t)),this._ngSelect.groupBy?(this._groups=this._groupBy(this._items,this._ngSelect.groupBy),this._items=this._flatten(this._groups)):(this._groups=new Map,this._groups.set(void 0,this._items)),this._filteredItems=[...this._items]}select(e){if(e.selected||this.maxItemsSelected)return;const t=this._ngSelect.multiple;t||this.clearSelected(),this._selectionModel.select(e,t,this._ngSelect.selectableGroupAsModel),this._ngSelect.hideSelected&&this._hideSelected(e)}unselect(e){e.selected&&(this._selectionModel.unselect(e,this._ngSelect.multiple),this._ngSelect.hideSelected&&af(e.index)&&this._ngSelect.multiple&&this._showSelected(e))}findItem(e){let t;return t=this._ngSelect.compareWith?t=>this._ngSelect.compareWith(t.value,e):this._ngSelect.bindValue?t=>!t.children&&this.resolveNested(t.value,this._ngSelect.bindValue)===e:t=>t.value===e||!t.children&&t.label&&t.label===this.resolveNested(e,this._ngSelect.bindLabel),this._items.find(e=>t(e))}addItem(e){const t=this.mapItem(e,this._items.length);return this._items.push(t),this._filteredItems.push(t),t}clearSelected(e=!1){this._selectionModel.clear(e),this._items.forEach(t=>{t.selected=e&&t.selected&&t.disabled,t.marked=!1}),this._ngSelect.hideSelected&&this.resetFilteredItems()}findByLabel(e){return e=mf(e).toLocaleLowerCase(),this.filteredItems.find(t=>mf(t.label).toLocaleLowerCase().substr(0,e.length)===e)}filter(e){if(!e)return void this.resetFilteredItems();this._filteredItems=[],e=this._ngSelect.searchFn?e:mf(e).toLocaleLowerCase();const t=this._ngSelect.searchFn||this._defaultSearchFn,n=this._ngSelect.hideSelected;for(const s of Array.from(this._groups.keys())){const r=[];for(const i of this._groups.get(s))n&&(i.parent&&i.parent.selected||i.selected)||t(e,this._ngSelect.searchFn?i.value:i)&&r.push(i);if(r.length>0){const[e]=r.slice(-1);if(e.parent){const t=this._items.find(t=>t===e.parent);this._filteredItems.push(t)}this._filteredItems.push(...r)}}}resetFilteredItems(){this._filteredItems.length!==this._items.length&&(this._filteredItems=this._ngSelect.hideSelected&&this.selectedItems.length>0?this._items.filter(e=>!e.selected):this._items)}unmarkItem(){this._markedIndex=-1}markNextItem(){this._stepToItem(1)}markPreviousItem(){this._stepToItem(-1)}markItem(e){this._markedIndex=this._filteredItems.indexOf(e)}markSelectedOrDefault(e){if(0===this._filteredItems.length)return;const t=this._getLastMarkedIndex();this._markedIndex=t>-1?t:e?this.filteredItems.findIndex(e=>!e.disabled):-1}resolveNested(e,t){if(!cf(e))return e;if(-1===t.indexOf("."))return e[t];{let n=t.split("."),s=e;for(let e=0,t=n.length;e<t;++e){if(null==s)return null;s=s[n[e]]}return s}}mapItem(e,t){const n=af(e.$ngOptionLabel)?e.$ngOptionLabel:this.resolveNested(e,this._ngSelect.bindLabel),s=af(e.$ngOptionValue)?e.$ngOptionValue:e;return{index:t,label:af(n)?n.toString():"",value:s,disabled:e.disabled,htmlId:`${this._ngSelect.dropdownId}-${t}`}}mapSelectedItems(){const e=this._ngSelect.multiple;for(const t of this.selectedItems){const n=this._ngSelect.bindValue?this.resolveNested(t.value,this._ngSelect.bindValue):t.value,s=af(n)?this.findItem(n):null;this._selectionModel.unselect(t,e),this._selectionModel.select(s||t,e,this._ngSelect.selectableGroupAsModel)}this._ngSelect.hideSelected&&(this._filteredItems=this.filteredItems.filter(e=>-1===this.selectedItems.indexOf(e)))}_showSelected(e){if(this._filteredItems.push(e),e.parent){const t=e.parent;this._filteredItems.find(e=>e===t)||this._filteredItems.push(t)}else if(e.children)for(const t of e.children)t.selected=!1,this._filteredItems.push(t);this._filteredItems=[...this._filteredItems.sort((e,t)=>e.index-t.index)]}_hideSelected(e){this._filteredItems=this._filteredItems.filter(t=>t!==e),e.parent?e.parent.children.every(e=>e.selected)&&(this._filteredItems=this._filteredItems.filter(t=>t!==e.parent)):e.children&&(this._filteredItems=this.filteredItems.filter(t=>t.parent!==e))}_defaultSearchFn(e,t){return mf(t.label).toLocaleLowerCase().indexOf(e)>-1}_getNextItemIndex(e){return e>0?this._markedIndex===this._filteredItems.length-1?0:this._markedIndex+1:this._markedIndex<=0?this._filteredItems.length-1:this._markedIndex-1}_stepToItem(e){0===this._filteredItems.length||this._filteredItems.every(e=>e.disabled)||(this._markedIndex=this._getNextItemIndex(e),this.markedItem.disabled&&this._stepToItem(e))}_getLastMarkedIndex(){if(this._ngSelect.hideSelected)return-1;if(this._markedIndex>-1&&void 0===this.markedItem)return-1;const e=this._filteredItems.indexOf(this.lastSelectedItem);return this.lastSelectedItem&&e<0?-1:Math.max(this.markedIndex,e)}_groupBy(e,t){const n=new Map;if(0===e.length)return n;if(Array.isArray(e[0].value[t])){for(const s of e){const e=(s.value[t]||[]).map((e,t)=>this.mapItem(e,t));n.set(s,e)}return n}const s=uf(this._ngSelect.groupBy),r=e=>{let n=s?t(e.value):e.value[t];return af(n)?n:void 0};for(const i of e){let e=r(i);const t=n.get(e);t?t.push(i):n.set(e,[i])}return n}_flatten(e){const t=uf(this._ngSelect.groupBy),n=[];for(const s of Array.from(e.keys())){let r=n.length;if(void 0===s){const t=e.get(void 0)||[];n.push(...t.map(e=>Object.assign({},e,{index:r++})));continue}const i=cf(s),o={label:i?"":String(s),children:void 0,parent:null,index:r++,disabled:!this._ngSelect.selectableGroup,htmlId:pf()},l=t?this._ngSelect.bindLabel:this._ngSelect.groupBy,a=this._ngSelect.groupValue||(()=>i?s.value:{[l]:s}),c=e.get(s).map(e=>(e.parent=o,e.children=void 0,e.index=r++,e));o.children=c,o.value=a(s,c.map(e=>e.value)),n.push(o),n.push(...c)}return n}}const yf=function(){var e={Tab:9,Enter:13,Esc:27,Space:32,ArrowUp:38,ArrowDown:40,Backspace:8};return e[e.Tab]="Tab",e[e.Enter]="Enter",e[e.Esc]="Esc",e[e.Space]="Space",e[e.ArrowUp]="ArrowUp",e[e.ArrowDown]="ArrowDown",e[e.Backspace]="Backspace",e}();class _f{constructor(){this._dimensions={itemHeight:0,panelHeight:0,itemsPerViewport:0}}get dimensions(){return this._dimensions}calculateItems(e,t,n){const s=this._dimensions,r=s.itemHeight*t,i=Math.max(0,e)/r*t;let o=Math.min(t,Math.ceil(i)+(s.itemsPerViewport+1));const l=Math.max(0,o-s.itemsPerViewport);let a=Math.min(l,Math.floor(i)),c=s.itemHeight*Math.ceil(a)-s.itemHeight*Math.min(a,n);return c=isNaN(c)?0:c,a=isNaN(a)?-1:a,o=isNaN(o)?-1:o,a-=n,o+=n,{topPadding:c,scrollHeight:r,start:a=Math.max(0,a),end:o=Math.min(t,o)}}setDimensions(e,t){const n=Math.max(1,Math.floor(t/e));this._dimensions={itemHeight:e,panelHeight:t,itemsPerViewport:n}}getScrollTo(e,t,n){const{panelHeight:s}=this.dimensions,r=e+t,i=n+s;return s>=r&&n===e?null:r>i?n+r-i:e<=n?e:null}}const vf="ng-select-top",bf="ng-select-bottom",wf="undefined"!=typeof requestAnimationFrame?Zp:nf;class Cf{constructor(e,t,n,s,r){this._renderer=e,this._zone=t,this._panelService=n,this._document=r,this.items=[],this.position="auto",this.virtualScroll=!1,this.filterValue=null,this.update=new ni,this.scroll=new ni,this.scrollToEnd=new ni,this.outsideClick=new ni,this._destroy$=new k,this._scrollToEndFired=!1,this._updateScrollHeight=!1,this._lastScrollPosition=0,this._dropdown=s.nativeElement}get currentPosition(){return this._currentPosition}get itemsLength(){return this._itemsLength}set itemsLength(e){e!==this._itemsLength&&(this._itemsLength=e,this._onItemsLengthChanged())}get _startOffset(){if(this.markedItem){const{itemHeight:e,panelHeight:t}=this._panelService.dimensions,n=this.markedItem.index*e;return t>n?0:n}return 0}handleMousedown(e){"INPUT"!==e.target.tagName&&e.preventDefault()}ngOnInit(){this._select=this._dropdown.parentElement,this._virtualPadding=this.paddingElementRef.nativeElement,this._scrollablePanel=this.scrollElementRef.nativeElement,this._contentPanel=this.contentElementRef.nativeElement,this._handleScroll(),this._handleOutsideClick(),this._appendDropdown()}ngOnChanges(e){if(e.items){const t=e.items;this._onItemsChange(t.currentValue,t.firstChange)}}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete(),this._destroy$.unsubscribe(),this.appendTo&&this._renderer.removeChild(this._dropdown.parentNode,this._dropdown)}scrollTo(e,t=!1){if(!e)return;const n=this.items.indexOf(e);if(n<0||n>=this.itemsLength)return;let s;if(this.virtualScroll){const e=this._panelService.dimensions.itemHeight;s=this._panelService.getScrollTo(n*e,e,this._lastScrollPosition)}else{const n=this._dropdown.querySelector(`#${e.htmlId}`);s=this._panelService.getScrollTo(n.offsetTop,n.clientHeight,t?n.offsetTop:this._lastScrollPosition)}af(s)&&(this._scrollablePanel.scrollTop=s)}scrollToTag(){const e=this._scrollablePanel;e.scrollTop=e.scrollHeight-e.clientHeight}adjustPosition(){const e=this._parent.getBoundingClientRect(),t=this._select.getBoundingClientRect();this._setOffset(e,t)}_handleDropdownPosition(){this._currentPosition=this._calculateCurrentPosition(this._dropdown),"top"===this._currentPosition?(this._renderer.addClass(this._dropdown,vf),this._renderer.removeClass(this._dropdown,bf),this._renderer.addClass(this._select,vf),this._renderer.removeClass(this._select,bf)):(this._renderer.addClass(this._dropdown,bf),this._renderer.removeClass(this._dropdown,vf),this._renderer.addClass(this._select,bf),this._renderer.removeClass(this._select,vf)),this.appendTo&&this._updatePosition(),this._dropdown.style.opacity="1"}_handleScroll(){this._zone.runOutsideAngular(()=>{sf(this.scrollElementRef.nativeElement,"scroll").pipe(Rp(this._destroy$),function(e,t=Up){return n=()=>(function(e=0,t,n){let s=-1;return Hp(t)?s=Number(t)<1?1:Number(t):O(t)&&(n=t),O(n)||(n=Up),new w(t=>{const r=Hp(e)?e:+e-n.now();return n.schedule(qp,r,{index:0,period:s,subscriber:t})})})(e,t),function(e){return e.lift(new jp(n))};var n}(0,wf)).subscribe(e=>this._onContentScrolled(e.target.scrollTop))})}_handleOutsideClick(){this._document&&this._zone.runOutsideAngular(()=>{Y(sf(this._document,"touchstart",{capture:!0}),sf(this._document,"mousedown",{capture:!0})).pipe(Rp(this._destroy$)).subscribe(e=>this._checkToClose(e))})}_checkToClose(e){if(this._select.contains(e.target)||this._dropdown.contains(e.target))return;const t=e.path||e.composedPath&&e.composedPath();e.target&&e.target.shadowRoot&&t&&t[0]&&this._select.contains(t[0])||this._zone.run(()=>this.outsideClick.emit())}_onItemsChange(e,t){this.items=e||[],this._scrollToEndFired=!1,this.itemsLength=e.length,this.virtualScroll?this._updateItemsRange(t):this._updateItems(t)}_updateItems(e){this.update.emit(this.items),!1!==e&&this._zone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._panelService.setDimensions(0,this._scrollablePanel.clientHeight),this._handleDropdownPosition(),this.scrollTo(this.markedItem,e)})})}_updateItemsRange(e){this._zone.runOutsideAngular(()=>{this._measureDimensions().then(()=>{e?(this._renderItemsRange(this._startOffset),this._handleDropdownPosition()):this._renderItemsRange()})})}_onContentScrolled(e){this.virtualScroll&&this._renderItemsRange(e),this._lastScrollPosition=e,this._fireScrollToEnd(e)}_updateVirtualHeight(e){this._updateScrollHeight&&(this._virtualPadding.style.height=`${e}px`,this._updateScrollHeight=!1)}_onItemsLengthChanged(){this._updateScrollHeight=!0}_renderItemsRange(e=null){if(e&&this._lastScrollPosition===e)return;const t=this._panelService.calculateItems(e=e||this._scrollablePanel.scrollTop,this.itemsLength,this.bufferAmount);this._updateVirtualHeight(t.scrollHeight),this._contentPanel.style.transform=`translateY(${t.topPadding}px)`,this._zone.run(()=>{this.update.emit(this.items.slice(t.start,t.end)),this.scroll.emit({start:t.start,end:t.end})}),af(e)&&0===this._lastScrollPosition&&(this._scrollablePanel.scrollTop=e,this._lastScrollPosition=e)}_measureDimensions(){if(this._panelService.dimensions.itemHeight>0||0===this.itemsLength)return Promise.resolve(this._panelService.dimensions);const[e]=this.items;return this.update.emit([e]),Promise.resolve().then(()=>{const t=this._dropdown.querySelector(`#${e.htmlId}`).clientHeight;return this._virtualPadding.style.height=`${t*this.itemsLength}px`,this._panelService.setDimensions(t,this._scrollablePanel.clientHeight),this._panelService.dimensions})}_fireScrollToEnd(e){this._scrollToEndFired||0===e||e+this._dropdown.clientHeight>=(this.virtualScroll?this._virtualPadding:this._contentPanel).clientHeight&&(this._zone.run(()=>this.scrollToEnd.emit()),this._scrollToEndFired=!0)}_calculateCurrentPosition(e){if("auto"!==this.position)return this.position;const t=this._select.getBoundingClientRect(),n=document.documentElement.scrollTop||document.body.scrollTop;return t.top+window.pageYOffset+t.height+e.getBoundingClientRect().height>n+document.documentElement.clientHeight?"top":"bottom"}_appendDropdown(){if(this.appendTo){if(this._parent=document.querySelector(this.appendTo),!parent)throw new Error(`appendTo selector ${this.appendTo} did not found any parent element`);this._parent.appendChild(this._dropdown)}}_updatePosition(){const e=this._select.getBoundingClientRect(),t=this._parent.getBoundingClientRect(),n=e.left-t.left;this._setOffset(t,e),this._dropdown.style.left=n+"px",this._dropdown.style.width=e.width+"px",this._dropdown.style.minWidth=e.width+"px"}_setOffset(e,t){const n=t.height;"top"===this._currentPosition?(this._dropdown.style.bottom=e.bottom-t.bottom+n+"px",this._dropdown.style.top="auto"):"bottom"===this._currentPosition&&(this._dropdown.style.top=t.top-e.top+n+"px",this._dropdown.style.bottom="auto")}}class Sf{constructor(e){this.elementRef=e,this.stateChange$=new k,this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=this._isDisabled(e)}get label(){return(this.elementRef.nativeElement.textContent||"").trim()}ngOnChanges(e){e.disabled&&this.stateChange$.next({value:this.value,disabled:this._disabled})}ngAfterViewChecked(){this.label!==this._previousLabel&&(this._previousLabel=this.label,this.stateChange$.next({value:this.value,disabled:this._disabled,label:this.elementRef.nativeElement.innerHTML}))}ngOnDestroy(){this.stateChange$.complete()}_isDisabled(e){return null!=e&&"false"!==`${e}`}}let xf=(()=>{class e{constructor(){this.notFoundText="No items found",this.typeToSearchText="Type to search",this.addTagText="Add item",this.loadingText="Loading...",this.clearAllText="Clear all",this.disableVirtualScroll=!0,this.openOnEnter=!0,this.appearance="underline"}}return e.ngInjectableDef=_e({factory:function(){return new e},token:e,providedIn:"root"}),e})();const Ef=new Ae("ng-select-selection-model");class Tf{constructor(e,t,n,s,r,i,o){this.classes=e,this.autoFocus=t,this._cd=i,this._console=o,this.markFirst=!0,this.dropdownPosition="auto",this.loading=!1,this.closeOnSelect=!0,this.hideSelected=!1,this.selectOnTab=!1,this.bufferAmount=4,this.selectableGroup=!1,this.selectableGroupAsModel=!0,this.searchFn=null,this.trackByFn=null,this.clearOnBackspace=!0,this.labelForId=null,this.inputAttrs={},this.readonly=!1,this.searchWhileComposing=!0,this.minTermLength=0,this.keyDownFn=e=>!0,this.multiple=!1,this.addTag=!1,this.searchable=!0,this.clearable=!0,this.isOpen=!1,this.blurEvent=new ni,this.focusEvent=new ni,this.changeEvent=new ni,this.openEvent=new ni,this.closeEvent=new ni,this.searchEvent=new ni,this.clearEvent=new ni,this.addEvent=new ni,this.removeEvent=new ni,this.scroll=new ni,this.scrollToEnd=new ni,this.viewPortItems=[],this.searchTerm=null,this.dropdownId=pf(),this.escapeHTML=!0,this._items=[],this._defaultLabel="label",this._pressedKeys=[],this._isComposing=!1,this._destroy$=new k,this._keyPress$=new k,this._onChange=e=>{},this._onTouched=()=>{},this.clearItem=e=>{const t=this.selectedItems.find(t=>t.value===e);this.unselect(t)},this.trackByOption=(e,t)=>this.trackByFn?this.trackByFn(t.value):t,this._mergeGlobalConfig(n),this.itemsList=new gf(this,s()),this.element=r.nativeElement}get items(){return this._items}set items(e){this._itemsAreUsed=!0,this._items=e}get compareWith(){return this._compareWith}set compareWith(e){if(!uf(e))throw Error("`compareWith` must be a function.");this._compareWith=e}get clearSearchOnAdd(){return af(this._clearSearchOnAdd)?this._clearSearchOnAdd:this.closeOnSelect}set clearSearchOnAdd(e){this._clearSearchOnAdd=e}get disabled(){return this.readonly||this._disabled}get filtered(){return!!this.searchTerm&&this.searchable||this._isComposing}get selectedItems(){return this.itemsList.selectedItems}get selectedValues(){return this.selectedItems.map(e=>e.value)}get hasValue(){return this.selectedItems.length>0}get currentPanelPosition(){if(this.dropdownPanel)return this.dropdownPanel.currentPosition}ngOnInit(){this._handleKeyPresses(),this._setInputAttributes()}ngOnChanges(e){e.multiple&&this.itemsList.clearSelected(),e.items&&this._setItems(e.items.currentValue||[]),e.isOpen&&(this._manualOpen=af(e.isOpen.currentValue))}ngAfterViewInit(){this._itemsAreUsed||(this.escapeHTML=!1,this._setItemsFromNgOptions()),af(this.autoFocus)&&this.focus()}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}handleKeyDown(e){if(yf[e.which]){if(!1===this.keyDownFn(e))return;this.handleKeyCode(e)}else e.key&&1===e.key.length&&this._keyPress$.next(e.key.toLocaleLowerCase())}handleKeyCode(e){switch(e.which){case yf.ArrowDown:this._handleArrowDown(e);break;case yf.ArrowUp:this._handleArrowUp(e);break;case yf.Space:this._handleSpace(e);break;case yf.Enter:this._handleEnter(e);break;case yf.Tab:this._handleTab(e);break;case yf.Esc:this.close(),e.preventDefault();break;case yf.Backspace:this._handleBackspace()}}handleMousedown(e){const t=e.target;"INPUT"!==t.tagName&&e.preventDefault(),t.classList.contains("ng-clear-wrapper")?this.handleClearClick():t.classList.contains("ng-arrow-wrapper")?this.handleArrowClick():t.classList.contains("ng-value-icon")||(this.focused||this.focus(),this.searchable?this.open():this.toggle())}handleArrowClick(){this.isOpen?this.close():this.open()}handleClearClick(){this.hasValue&&(this.itemsList.clearSelected(!0),this._updateNgModel()),this._clearSearch(),this.focus(),this.clearEvent.emit(),this._onSelectionChanged()}clearModel(){this.clearable&&(this.itemsList.clearSelected(),this._updateNgModel())}writeValue(e){this.itemsList.clearSelected(),this._handleWriteValue(e),this._cd.markForCheck()}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this._disabled=e,this._cd.markForCheck()}toggle(){this.isOpen?this.close():this.open()}open(){this.disabled||this.isOpen||this.itemsList.maxItemsSelected||this._manualOpen||(this._isTypeahead||this.addTag||!this.itemsList.noItemsToSelect)&&(this.isOpen=!0,this.itemsList.markSelectedOrDefault(this.markFirst),this.openEvent.emit(),this.searchTerm||this.focus(),this.detectChanges())}close(){this.isOpen&&!this._manualOpen&&(this.isOpen=!1,this._clearSearch(),this.itemsList.unmarkItem(),this._onTouched(),this.closeEvent.emit(),this._cd.markForCheck())}toggleItem(e){!e||e.disabled||this.disabled||(this.multiple&&e.selected?this.unselect(e):this.select(e),this._onSelectionChanged())}select(e){e.selected||(this.itemsList.select(e),this.clearSearchOnAdd&&this._clearSearch(),this._updateNgModel(),this.multiple&&this.addEvent.emit(e.value)),(this.closeOnSelect||this.itemsList.noItemsToSelect)&&this.close()}focus(){this.searchInput.nativeElement.focus()}blur(){this.searchInput.nativeElement.blur()}unselect(e){e&&(this.itemsList.unselect(e),this.focus(),this._updateNgModel(),this.removeEvent.emit(e))}selectTag(){let e;e=uf(this.addTag)?this.addTag(this.searchTerm):this._primitive?this.searchTerm:{[this.bindLabel]:this.searchTerm};const t=e=>this._isTypeahead||!this.isOpen?this.itemsList.mapItem(e,null):this.itemsList.addItem(e);e instanceof Promise?e.then(e=>this.select(t(e))).catch(()=>{}):e&&this.select(t(e))}showClear(){return this.clearable&&(this.hasValue||this.searchTerm)&&!this.disabled}get showAddTag(){if(!this._validTerm)return!1;const e=this.searchTerm.toLowerCase().trim();return this.addTag&&!this.itemsList.filteredItems.some(t=>t.label.toLowerCase()===e)&&(!this.hideSelected&&this.isOpen||!this.selectedItems.some(t=>t.label.toLowerCase()===e))&&!this.loading}showNoItemsFound(){const e=0===this.itemsList.filteredItems.length;return(e&&!this._isTypeahead&&!this.loading||e&&this._isTypeahead&&this._validTerm&&!this.loading)&&!this.showAddTag}showTypeToSearch(){return 0===this.itemsList.filteredItems.length&&this._isTypeahead&&!this._validTerm&&!this.loading}onCompositionStart(){this._isComposing=!0}onCompositionEnd(e){this._isComposing=!1,this.searchWhileComposing||this.filter(e)}filter(e){this._isComposing&&!this.searchWhileComposing||(this.searchTerm=e,this._isTypeahead&&this._validTerm&&this.typeahead.next(e),this._isTypeahead||(this.itemsList.filter(this.searchTerm),this.isOpen&&this.itemsList.markSelectedOrDefault(this.markFirst)),this.searchEvent.emit({term:e,items:this.itemsList.filteredItems.map(e=>e.value)}),this.open())}onInputFocus(e){this.focused||(this.element.classList.add("ng-select-focused"),this.focusEvent.emit(e),this.focused=!0)}onInputBlur(e){this.element.classList.remove("ng-select-focused"),this.blurEvent.emit(e),this.isOpen||this.disabled||this._onTouched(),this.focused=!1}onItemHover(e){e.disabled||this.itemsList.markItem(e)}detectChanges(){this._cd.destroyed||this._cd.detectChanges()}_setItems(e){const t=e[0];this.bindLabel=this.bindLabel||this._defaultLabel,this._primitive=af(t)?!cf(t):this._primitive||this.bindLabel===this._defaultLabel,this.itemsList.setItems(e),e.length>0&&this.hasValue&&this.itemsList.mapSelectedItems(),this.isOpen&&af(this.searchTerm)&&!this._isTypeahead&&this.itemsList.filter(this.searchTerm),(this._isTypeahead||this.isOpen)&&this.itemsList.markSelectedOrDefault(this.markFirst)}_setItemsFromNgOptions(){const e=e=>{this.items=e.map(e=>({$ngOptionValue:e.value,$ngOptionLabel:e.elementRef.nativeElement.innerHTML,disabled:e.disabled})),this.itemsList.setItems(this.items),this.hasValue&&this.itemsList.mapSelectedItems(),this.detectChanges()},t=()=>{const e=Y(this.ngOptions.changes,this._destroy$);Y(...this.ngOptions.map(e=>e.stateChange$)).pipe(Rp(e)).subscribe(e=>{const t=this.itemsList.findItem(e.value);t.disabled=e.disabled,t.label=e.label||t.label,this._cd.detectChanges()})};this.ngOptions.changes.pipe(fc(this.ngOptions),Rp(this._destroy$)).subscribe(n=>{this.bindLabel=this._defaultLabel,e(n),t()})}_isValidWriteValue(e){if(!af(e)||this.multiple&&""===e||Array.isArray(e)&&0===e.length)return!1;const t=e=>!(!af(this.compareWith)&&cf(e)&&this.bindValue&&(this._console.warn(`Binding object(${JSON.stringify(e)}) with bindValue is not allowed.`),1));return this.multiple?Array.isArray(e)?e.every(e=>t(e)):(this._console.warn("Multiple select ngModel should be array."),!1):t(e)}_handleWriteValue(e){if(!this._isValidWriteValue(e))return;const t=e=>{let t=this.itemsList.findItem(e);if(t)this.itemsList.select(t);else{const n=cf(e),s=!n&&!this.bindValue;n||s?this.itemsList.select(this.itemsList.mapItem(e,null)):this.bindValue&&this.itemsList.select(this.itemsList.mapItem(t={[this.bindLabel]:null,[this.bindValue]:e},null))}};this.multiple?e.forEach(e=>t(e)):t(e)}_handleKeyPresses(){this.searchable||this._keyPress$.pipe(Rp(this._destroy$),Qa(e=>this._pressedKeys.push(e)),zp(200),Ua(()=>this._pressedKeys.length>0),H(()=>this._pressedKeys.join(""))).subscribe(e=>{const t=this.itemsList.findByLabel(e);t&&(this.isOpen?(this.itemsList.markItem(t),this._cd.markForCheck()):this.select(t)),this._pressedKeys=[]})}_setInputAttributes(){const e=this.searchInput.nativeElement,t=Object.assign({type:"text",autocorrect:"off",autocapitalize:"off",autocomplete:this.labelForId?"off":this.dropdownId},this.inputAttrs);for(const n of Object.keys(t))e.setAttribute(n,t[n])}_updateNgModel(){const e=[];for(const n of this.selectedItems)if(this.bindValue){let t=null;t=n.children?n.value[(this.groupValue?this.bindValue:this.groupBy)||this.groupBy]:this.itemsList.resolveNested(n.value,this.bindValue),e.push(t)}else e.push(n.value);const t=this.selectedItems.map(e=>e.value);this.multiple?(this._onChange(e),this.changeEvent.emit(t)):(this._onChange(af(e[0])?e[0]:null),this.changeEvent.emit(t[0])),this._cd.markForCheck()}_clearSearch(){this.searchTerm&&(this._changeSearch(null),this.itemsList.resetFilteredItems())}_changeSearch(e){this.searchTerm=e,this._isTypeahead&&this.typeahead.next(e)}_scrollToMarked(){this.isOpen&&this.dropdownPanel&&this.dropdownPanel.scrollTo(this.itemsList.markedItem)}_scrollToTag(){this.isOpen&&this.dropdownPanel&&this.dropdownPanel.scrollToTag()}_onSelectionChanged(){this.isOpen&&this.multiple&&this.appendTo&&(this._cd.detectChanges(),this.dropdownPanel.adjustPosition())}_handleTab(e){(!1!==this.isOpen||this.addTag)&&(this.selectOnTab?this.itemsList.markedItem?(this.toggleItem(this.itemsList.markedItem),e.preventDefault()):this.showAddTag?(this.selectTag(),e.preventDefault()):this.close():this.close())}_handleEnter(e){if(this.isOpen||this._manualOpen)this.itemsList.markedItem?this.toggleItem(this.itemsList.markedItem):this.showAddTag&&this.selectTag();else{if(!this.openOnEnter)return;this.open()}e.preventDefault()}_handleSpace(e){this.isOpen||this._manualOpen||(this.open(),e.preventDefault())}_handleArrowDown(e){this._nextItemIsTag(1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markNextItem(),this._scrollToMarked()),this.open(),e.preventDefault()}_handleArrowUp(e){this.isOpen&&(this._nextItemIsTag(-1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markPreviousItem(),this._scrollToMarked()),e.preventDefault())}_nextItemIsTag(e){const t=this.itemsList.markedIndex+e;return this.addTag&&this.searchTerm&&this.itemsList.markedItem&&(t<0||t===this.itemsList.filteredItems.length)}_handleBackspace(){!this.searchTerm&&this.clearable&&this.clearOnBackspace&&this.hasValue&&(this.multiple?this.unselect(this.itemsList.lastSelectedItem):this.clearModel())}get _isTypeahead(){return this.typeahead&&this.typeahead.observers.length>0}get _validTerm(){const e=this.searchTerm&&this.searchTerm.trim();return e&&e.length>=this.minTermLength}_mergeGlobalConfig(e){this.placeholder=this.placeholder||e.placeholder,this.notFoundText=this.notFoundText||e.notFoundText,this.typeToSearchText=this.typeToSearchText||e.typeToSearchText,this.addTagText=this.addTagText||e.addTagText,this.loadingText=this.loadingText||e.loadingText,this.clearAllText=this.clearAllText||e.clearAllText,this.virtualScroll=af(this.virtualScroll)?this.virtualScroll:!!af(e.disableVirtualScroll)&&!e.disableVirtualScroll,this.openOnEnter=af(this.openOnEnter)?this.openOnEnter:e.openOnEnter,this.appendTo=this.appendTo||e.appendTo,this.bindValue=this.bindValue||e.bindValue,this.appearance=this.appearance||e.appearance}}function kf(){return new If}class If{constructor(){this._selected=[]}get value(){return this._selected}select(e,t,n){if(e.selected=!0,(!e.children||!t&&n)&&this._selected.push(e),t)if(e.parent){const t=e.parent.children.length,n=e.parent.children.filter(e=>e.selected).length;e.parent.selected=t===n}else e.children&&(this._setChildrenSelectedState(e.children,!0),this._removeChildren(e),this._selected=n&&this._activeChildren(e)?[...this._selected.filter(t=>t.parent!==e),e]:[...this._selected,...e.children.filter(e=>!e.disabled)])}unselect(e,t){if(this._selected=this._selected.filter(t=>t!==e),e.selected=!1,t)if(e.parent&&e.parent.selected){const t=e.parent.children;this._removeParent(e.parent),this._removeChildren(e.parent),this._selected.push(...t.filter(t=>t!==e&&!t.disabled)),e.parent.selected=!1}else e.children&&(this._setChildrenSelectedState(e.children,!1),this._removeChildren(e))}clear(e){this._selected=e?this._selected.filter(e=>e.disabled):[]}_setChildrenSelectedState(e,t){for(const n of e)n.disabled||(n.selected=t)}_removeChildren(e){this._selected=[...this._selected.filter(t=>t.parent!==e),...e.children.filter(t=>t.parent===e&&t.disabled&&t.selected)]}_removeParent(e){this._selected=this._selected.filter(t=>t!==e)}_activeChildren(e){return e.children.every(e=>!e.disabled||e.selected)}}class Of{}class Af extends ${constructor(e,t){super(e),this.sources=t,this.completed=0,this.haveValues=0;const n=t.length;this.values=new Array(n);for(let s=0;s<n;s++){const e=j(this,t[s],null,s);e&&this.add(e)}}notifyNext(e,t,n,s,r){this.values[n]=t,r._hasValue||(r._hasValue=!0,this.haveValues++)}notifyComplete(e){const{destination:t,haveValues:n,values:s}=this,r=s.length;e._hasValue?(this.completed++,this.completed===r&&(n===r&&t.next(s),t.complete())):t.complete()}}const Pf=new Ae("NgValueAccessor");class Rf{constructor(e,t,n){this._renderer=e,this._elementRef=t,this._compositionMode=n,this.onChange=e=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const e=Cc()?Cc().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}class Nf{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Df extends Nf{get formDirective(){return null}get path(){return null}}function Mf(){throw new Error("unimplemented")}class Ff extends Nf{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return Mf()}get asyncValidator(){return Mf()}}class Lf{constructor(e){this._cd=e}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}class Vf extends Lf{constructor(e){super(e)}}function Uf(e){return null==e||0===e.length}const jf=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class $f{static min(e){return t=>{if(Uf(t.value)||Uf(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}static max(e){return t=>{if(Uf(t.value)||Uf(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}static required(e){return Uf(e.value)?{required:!0}:null}static requiredTrue(e){return!0===e.value?null:{required:!0}}static email(e){return Uf(e.value)?null:jf.test(e.value)?null:{email:!0}}static minLength(e){return t=>{if(Uf(t.value))return null;const n=t.value?t.value.length:0;return n<e?{minlength:{requiredLength:e,actualLength:n}}:null}}static maxLength(e){return t=>{const n=t.value?t.value.length:0;return n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}}static pattern(e){if(!e)return $f.nullValidator;let t,n;return"string"==typeof e?(n="","^"!==e.charAt(0)&&(n+="^"),n+=e,"$"!==e.charAt(e.length-1)&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),e=>{if(Uf(e.value))return null;const s=e.value;return t.test(s)?null:{pattern:{requiredPattern:n,actualValue:s}}}}static nullValidator(e){return null}static compose(e){if(!e)return null;const t=e.filter(Hf);return 0==t.length?null:function(e){return zf(function(e,t){return t.map(t=>t(e))}(e,t))}}static composeAsync(e){if(!e)return null;const t=e.filter(Hf);return 0==t.length?null:function(e){return function e(...t){let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&a(t[0])&&(t=t[0]),0===t.length?ka:n?e(t).pipe(H(e=>n(...e))):new w(e=>new Af(e,t))}(function(e,t){return t.map(t=>t(e))}(e,t).map(qf)).pipe(H(zf))}}}function Hf(e){return null!=e}function qf(e){const t=_n(e)?G(e):e;if(!vn(t))throw new Error("Expected validator to return Promise or Observable.");return t}function zf(e){const t=e.reduce((e,t)=>null!=t?Object.assign({},e,t):e,{});return 0===Object.keys(t).length?null:t}function Bf(e){return e.validate?t=>e.validate(t):e}function Gf(e){return e.validate?t=>e.validate(t):e}class Qf{constructor(){this._accessors=[]}add(e,t){this._accessors.push([e,t])}remove(e){for(let t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}select(e){this._accessors.forEach(t=>{this._isSameGroup(t,e)&&t[1]!==e&&t[1].fireUncheck(e.value)})}_isSameGroup(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name}}const Kf={formControlName:'\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',formGroupName:'\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',formArrayName:'\n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });',ngModelGroup:'\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',ngModelWithFormGroup:'\n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  '};function Wf(e,t){return[...t.path,e]}function Zf(e,t){e||Yf(t,"Cannot find control with"),t.valueAccessor||Yf(t,"No value accessor for form control with"),e.validator=$f.compose([e.validator,t.validator]),e.asyncValidator=$f.composeAsync([e.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&Jf(e,t)})}(e,t),function(e,t){e.registerOnChange((e,n)=>{t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&Jf(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),t.valueAccessor.setDisabledState&&e.registerOnDisabledChange(e=>{t.valueAccessor.setDisabledState(e)}),t._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(()=>e.updateValueAndValidity())}),t._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(()=>e.updateValueAndValidity())})}function Jf(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Yf(e,t){let n;throw n=e.path.length>1?`path: '${e.path.join(" -> ")}'`:e.path[0]?`name: '${e.path}'`:"unspecified name attribute",new Error(`${t} ${n}`)}function Xf(e){return null!=e?$f.compose(e.map(Bf)):null}function em(e){return null!=e?$f.composeAsync(e.map(Gf)):null}const tm=[class{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},class{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},class{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},class{constructor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=e=>{},this.onTouched=()=>{},this._compareWith=pn}set compareWith(e){if("function"!=typeof e)throw new Error(`compareWith must be a function, but received ${JSON.stringify(e)}`);this._compareWith=e}writeValue(e){this.value=e;const t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(e,t){return null==e?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(e){this.onChange=t=>{this.value=this._getOptionValue(t),e(this.value)}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t),e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}},class{constructor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=e=>{},this.onTouched=()=>{},this._compareWith=pn}set compareWith(e){if("function"!=typeof e)throw new Error(`compareWith must be a function, but received ${JSON.stringify(e)}`);this._compareWith=e}writeValue(e){let t;if(this.value=e,Array.isArray(e)){const n=e.map(e=>this._getOptionId(e));t=(e,t)=>{e._setSelected(n.indexOf(t.toString())>-1)}}else t=(e,t)=>{e._setSelected(!1)};this._optionMap.forEach(t)}registerOnChange(e){this.onChange=t=>{const n=[];if(t.hasOwnProperty("selectedOptions")){const e=t.selectedOptions;for(let t=0;t<e.length;t++){const s=e.item(t),r=this._getOptionValue(s.value);n.push(r)}}else{const e=t.options;for(let t=0;t<e.length;t++){const s=e.item(t);if(s.selected){const e=this._getOptionValue(s.value);n.push(e)}}}this.value=n,e(n)}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(e){const t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t)._value,e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}},class{constructor(e,t,n,s){this._renderer=e,this._elementRef=t,this._registry=n,this._injector=s,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(Ff),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}fireUncheck(e){this.writeValue(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}],nm="VALID",sm="INVALID",rm="PENDING",im="DISABLED";function om(e){const t=am(e)?e.validators:e;return Array.isArray(t)?Xf(t):t||null}function lm(e,t){const n=am(t)?t.asyncValidators:e;return Array.isArray(n)?em(n):n||null}function am(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class cm{constructor(e,t){this.validator=e,this.asyncValidator=t,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return this.status===nm}get invalid(){return this.status===sm}get pending(){return this.status==rm}get disabled(){return this.status===im}get enabled(){return this.status!==im}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this.validator=om(e)}setAsyncValidators(e){this.asyncValidator=lm(e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=rm,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=im,this.errors=null,this._forEachChild(t=>{t.disable(Object.assign({},e,{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign({},e,{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=nm,this._forEachChild(t=>{t.enable(Object.assign({},e,{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign({},e,{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==nm&&this.status!==rm||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?im:nm}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=rm;const t=qf(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(t=>this.setErrors(t,{emitEvent:e}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(e,t,n){return null==t?null:(t instanceof Array||(t=t.split(".")),t instanceof Array&&0===t.length?null:t.reduce((e,t)=>e instanceof hm?e.controls.hasOwnProperty(t)?e.controls[t]:null:e instanceof dm&&e.at(t)||null,e))}(this,e)}getError(e,t){const n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new ni,this.statusChanges=new ni}_calculateStatus(){return this._allControlsDisabled()?im:this.errors?sm:this._anyControlsHaveStatus(rm)?rm:this._anyControlsHaveStatus(sm)?sm:nm}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){am(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class um extends cm{constructor(e=null,t,n){super(om(t),lm(n,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(e=>e(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class hm extends cm{constructor(e,t,n){super(om(t),lm(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()}setControl(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){Object.keys(e).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}reset(e={},t={}){this._forEachChild((n,s)=>{n.reset(e[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,n)=>(e[n]=t instanceof um?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(e,t)=>!!t._syncPendingControls()||e);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>e(this.controls[t],t))}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){let t=!1;return this._forEachChild((n,s)=>{t=t||this.contains(s)&&e(n)}),t}_reduceValue(){return this._reduceChildren({},(e,t,n)=>((t.enabled||this.disabled)&&(e[n]=t.value),e))}_reduceChildren(e,t){let n=e;return this._forEachChild((e,s)=>{n=t(n,e,s)}),n}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class dm extends cm{constructor(e,t,n){super(om(t),lm(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(e){return this.controls[e]}push(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}insert(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()}removeAt(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity()}setControl(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((e,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e.forEach((e,n)=>{this.at(n)&&this.at(n).patchValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}reset(e=[],t={}){this._forEachChild((n,s)=>{n.reset(e[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof um?e.value:e.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let e=this.controls.reduce((e,t)=>!!t._syncPendingControls()||e,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,n)=>{e(t,n)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const pm=(()=>Promise.resolve(null))();class fm extends Df{constructor(e,t){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new ni,this.form=new hm({},Xf(e),em(t))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){pm.then(()=>{const t=this._findContainer(e.path);e.control=t.registerControl(e.name,e.control),Zf(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){pm.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name),function(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}(this._directives,e)})}addFormGroup(e){pm.then(()=>{const t=this._findContainer(e.path),n=new hm({});(function(e,t){null==e&&Yf(t,"Cannot find control with"),e.validator=$f.compose([e.validator,t.validator]),e.asyncValidator=$f.composeAsync([e.asyncValidator,t.asyncValidator])})(n,e),t.registerControl(e.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){pm.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,t){pm.then(()=>{this.form.get(e.path).setValue(t)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,t=this._directives,this.form._syncPendingControls(),t.forEach(e=>{const t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)}),this.ngSubmit.emit(e),!1;var t}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}class mm{static modelParentException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup's partner directive "formControlName" instead.  Example:\n\n      ${Kf.formControlName}\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      ${Kf.ngModelWithFormGroup}`)}static formGroupNameException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ${Kf.formGroupName}\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ${Kf.ngModelGroup}`)}static missingNameException(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}static modelGroupParentException(){throw new Error(`\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ${Kf.formGroupName}\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ${Kf.ngModelGroup}`)}static ngFormWarning(){console.warn("\n    It looks like you're using 'ngForm'.\n\n    Support for using the 'ngForm' element selector has been deprecated in Angular v6 and will be removed\n    in Angular v9.\n\n    Use 'ng-form' instead.\n\n    Before:\n    <ngForm #myForm=\"ngForm\">\n\n    After:\n    <ng-form #myForm=\"ngForm\">\n    ")}}const gm=new Ae("NgFormSelectorWarning");class ym extends Df{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Wf(this.name,this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Xf(this._validators)}get asyncValidator(){return em(this._asyncValidators)}_checkParentType(){}}class _m extends ym{constructor(e,t,n){super(),this._parent=e,this._validators=t,this._asyncValidators=n}_checkParentType(){this._parent instanceof _m||this._parent instanceof fm||mm.modelGroupParentException()}}const vm=(()=>Promise.resolve(null))();class bm extends Ff{constructor(e,t,n,s){super(),this.control=new um,this._registered=!1,this.update=new ni,this._parent=e,this._rawValidators=t||[],this._rawAsyncValidators=n||[],this.valueAccessor=function(e,t){if(!t)return null;Array.isArray(t)||Yf(e,"Value accessor was not provided as an array for form control with");let n=void 0,s=void 0,r=void 0;return t.forEach(t=>{t.constructor===Rf?n=t:function(e){return tm.some(t=>e.constructor===t)}(t)?(s&&Yf(e,"More than one built-in value accessor matches form control with"),s=t):(r&&Yf(e,"More than one custom value accessor matches form control with"),r=t)}),r||s||n||(Yf(e,"No valid value accessor for form control with"),null)}(this,s)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),function(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!pn(t,n.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?Wf(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Xf(this._rawValidators)}get asyncValidator(){return em(this._rawAsyncValidators)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Zf(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){!(this._parent instanceof _m)&&this._parent instanceof ym?mm.formGroupNameException():this._parent instanceof _m||this._parent instanceof fm||mm.modelParentException()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||mm.missingNameException()}_updateValue(e){vm.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const t=e.isDisabled.currentValue,n=""===t||t&&"false"!==t;vm.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}class wm{}class Cm{static withConfig(e){return{ngModule:Cm,providers:[{provide:gm,useValue:e.warnOnDeprecatedNgFormSelector}]}}}var Sm=ws({encapsulation:2,styles:[".ng-select{position:relative;display:block;box-sizing:border-box}.ng-select div,.ng-select input,.ng-select span{box-sizing:border-box}.ng-select [hidden]{display:none}.ng-select.ng-select-searchable .ng-select-container .ng-value-container .ng-input{opacity:1}.ng-select.ng-select-opened .ng-select-container{z-index:1001}.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-placeholder,.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-value{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.ng-select.ng-select-disabled .ng-arrow-wrapper{cursor:default}.ng-select.ng-select-filtered .ng-placeholder{display:none}.ng-select .ng-select-container{color:#333;cursor:default;display:-webkit-box;display:flex;outline:0;overflow:hidden;position:relative;width:100%}.ng-select .ng-select-container .ng-value-container{display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1}.ng-select .ng-select-container .ng-value-container .ng-input{opacity:0}.ng-select .ng-select-container .ng-value-container .ng-input>input{box-sizing:content-box;background:none;border:0;box-shadow:none;outline:0;cursor:default;width:100%}.ng-select .ng-select-container .ng-value-container .ng-input>input::-ms-clear{display:none}.ng-select .ng-select-container .ng-value-container .ng-input>input[readonly]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:0;padding:0}.ng-select.ng-select-single.ng-select-filtered .ng-select-container .ng-value-container .ng-value{visibility:hidden}.ng-select.ng-select-single .ng-select-container .ng-value-container,.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{position:absolute;left:0;width:100%}.ng-select.ng-select-multiple.ng-select-disabled>.ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container{flex-wrap:wrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{white-space:nowrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value.ng-value-disabled .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value .ng-value-icon{cursor:pointer}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-input{-webkit-box-flex:1;flex:1;z-index:2}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{position:absolute;z-index:1}.ng-select .ng-clear-wrapper{cursor:pointer;position:relative;width:17px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ng-select .ng-clear-wrapper .ng-clear{display:inline-block;font-size:18px;line-height:1;pointer-events:none}.ng-select .ng-spinner-loader{border-radius:50%;width:17px;height:17px;margin-right:5px;font-size:10px;position:relative;text-indent:-9999em;border-top:2px solid rgba(66,66,66,.2);border-right:2px solid rgba(66,66,66,.2);border-bottom:2px solid rgba(66,66,66,.2);border-left:2px solid #424242;-webkit-transform:translateZ(0);transform:translateZ(0);-webkit-animation:.8s linear infinite load8;animation:.8s linear infinite load8}.ng-select .ng-spinner-loader:after{border-radius:50%;width:17px;height:17px}@-webkit-keyframes load8{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes load8{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.ng-select .ng-arrow-wrapper{cursor:pointer;position:relative;text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ng-select .ng-arrow-wrapper .ng-arrow{pointer-events:none;display:inline-block;height:0;width:0;position:relative}.ng-dropdown-panel{box-sizing:border-box;position:absolute;opacity:0;width:100%;z-index:1050;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .ng-dropdown-panel-items{display:block;height:auto;box-sizing:border-box;max-height:240px;overflow-y:auto}.ng-dropdown-panel .ng-dropdown-panel-items .ng-optgroup{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option{box-sizing:border-box;cursor:pointer;display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .highlighted{font-weight:700;text-decoration:underline}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option.disabled{cursor:default}.ng-dropdown-panel .scroll-host{overflow:hidden;overflow-y:auto;position:relative;display:block;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .scrollable-content{top:0;left:0;width:100%;height:100%;position:absolute}.ng-dropdown-panel .total-padding{width:1px;opacity:0}"],data:{}});function xm(e){return $o(0,[(e()(),So(0,0,null,null,1,"span",[["aria-hidden","true"],["class","ng-value-icon left"]],null,[[null,"click"]],(function(e,t,n){var s=!0;return"click"===t&&(s=!1!==e.component.unselect(e.parent.context.$implicit)&&s),s}),null,null)),(e()(),Vo(-1,null,["\xd7"])),(e()(),So(2,0,null,null,1,"span",[["class","ng-value-label"]],null,null,null,null,null)),Pr(3,540672,null,0,hf,[An],{ngItemLabel:[0,"ngItemLabel"],escape:[1,"escape"]},null)],(function(e,t){e(t,3,0,t.parent.context.$implicit.label,t.component.escapeHTML)}),null)}function Em(e){return $o(0,[(e()(),Co(0,null,null,0))],null,null)}function Tm(e){return $o(0,[(e()(),So(0,0,null,null,4,"div",[["class","ng-value"]],[[2,"ng-value-disabled",null]],null,null,null,null)),(e()(),Co(0,[["defaultLabelTemplate",2]],null,0,null,xm)),(e()(),Co(16777216,null,null,2,null,Em)),Pr(3,540672,null,0,ba,[ns],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Fo(4,{item:0,clear:1,label:2})],(function(e,t){var n=t.component,s=e(t,4,0,t.context.$implicit.value,n.clearItem,t.context.$implicit.label);e(t,3,0,s,n.labelTemplate||_r(t,1))}),(function(e,t){e(t,0,0,t.context.$implicit.disabled)}))}function km(e){return $o(0,[(e()(),So(0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),Co(16777216,null,null,1,null,Tm)),Pr(2,278528,null,0,ma,[ns,es,Wn],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),(e()(),Co(0,null,null,0))],(function(e,t){var n=t.component;e(t,2,0,n.selectedItems,n.trackByOption)}),null)}function Im(e){return $o(0,[(e()(),Co(0,null,null,0))],null,null)}function Om(e){return $o(0,[(e()(),Co(16777216,null,null,2,null,Im)),Pr(1,540672,null,0,ba,[ns],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Fo(2,{items:0,clear:1}),(e()(),Co(0,null,null,0))],(function(e,t){var n=t.component,s=e(t,2,0,n.selectedValues,n.clearItem);e(t,1,0,s,n.multiLabelTemplate)}),null)}function Am(e){return $o(0,[(e()(),So(0,0,null,null,0,"div",[["class","ng-spinner-loader"]],null,null,null,null,null))],null,null)}function Pm(e){return $o(0,[(e()(),Co(0,null,null,0))],null,null)}function Rm(e){return $o(0,[(e()(),So(0,0,null,null,3,null,null,null,null,null,null,null)),(e()(),Co(0,[["defaultLoadingSpinnerTemplate",2]],null,0,null,Am)),(e()(),Co(16777216,null,null,1,null,Pm)),Pr(3,540672,null,0,ba,[ns],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(e()(),Co(0,null,null,0))],(function(e,t){e(t,3,0,t.component.loadingSpinnerTemplate||_r(t,1))}),null)}function Nm(e){return $o(0,[(e()(),So(0,0,null,null,2,"span",[["class","ng-clear-wrapper"]],[[8,"title",0]],null,null,null,null)),(e()(),So(1,0,null,null,1,"span",[["aria-hidden","true"],["class","ng-clear"]],null,null,null,null,null)),(e()(),Vo(-1,null,["\xd7"]))],null,(function(e,t){e(t,0,0,Ks(1,"",t.component.clearAllText,""))}))}function Dm(e){return $o(0,[(e()(),So(0,0,null,null,1,"span",[["class","ng-option-label"]],null,null,null,null,null)),Pr(1,540672,null,0,hf,[An],{ngItemLabel:[0,"ngItemLabel"],escape:[1,"escape"]},null)],(function(e,t){e(t,1,0,t.parent.context.$implicit.label,t.component.escapeHTML)}),null)}function Mm(e){return $o(0,[(e()(),Co(0,null,null,0))],null,null)}function Fm(e){return $o(0,[(e()(),So(0,0,null,null,4,"div",[["class","ng-option"]],[[1,"role",0],[2,"ng-option-disabled",null],[2,"ng-option-selected",null],[2,"ng-optgroup",null],[2,"ng-option",null],[2,"ng-option-child",null],[2,"ng-option-marked",null],[1,"aria-selected",0],[1,"id",0]],[[null,"click"],[null,"mouseover"]],(function(e,t,n){var s=!0,r=e.component;return"click"===t&&(s=!1!==r.toggleItem(e.context.$implicit)&&s),"mouseover"===t&&(s=!1!==r.onItemHover(e.context.$implicit)&&s),s}),null,null)),(e()(),Co(0,[["defaultOptionTemplate",2]],null,0,null,Dm)),(e()(),Co(16777216,null,null,2,null,Mm)),Pr(3,540672,null,0,ba,[ns],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Fo(4,{item:0,item$:1,index:2,searchTerm:3})],(function(e,t){var n=t.component,s=e(t,4,0,t.context.$implicit.value,t.context.$implicit,t.context.$implicit.index,n.searchTerm);e(t,3,0,s,t.context.$implicit.children?n.optgroupTemplate||_r(t,1):n.optionTemplate||_r(t,1))}),(function(e,t){e(t,0,0,t.context.$implicit.children?"group":"option",t.context.$implicit.disabled,t.context.$implicit.selected,t.context.$implicit.children,!t.context.$implicit.children,!!t.context.$implicit.parent,t.context.$implicit===t.component.itemsList.markedItem,t.context.$implicit.selected,null==t.context.$implicit?null:t.context.$implicit.htmlId)}))}function Lm(e){return $o(0,[(e()(),So(0,0,null,null,3,"span",[],null,null,null,null,null)),(e()(),So(1,0,null,null,1,"span",[["class","ng-tag-label"]],null,null,null,null,null)),(e()(),Vo(2,null,["",""])),(e()(),Vo(3,null,['"','"']))],null,(function(e,t){var n=t.component;e(t,2,0,n.addTagText),e(t,3,0,n.searchTerm)}))}function Vm(e){return $o(0,[(e()(),Co(0,null,null,0))],null,null)}function Um(e){return $o(0,[(e()(),So(0,0,null,null,4,"div",[["class","ng-option"],["role","option"]],[[2,"ng-option-marked",null]],[[null,"mouseover"],[null,"click"]],(function(e,t,n){var s=!0,r=e.component;return"mouseover"===t&&(s=!1!==r.itemsList.unmarkItem()&&s),"click"===t&&(s=!1!==r.selectTag()&&s),s}),null,null)),(e()(),Co(0,[["defaultTagTemplate",2]],null,0,null,Lm)),(e()(),Co(16777216,null,null,2,null,Vm)),Pr(3,540672,null,0,ba,[ns],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Fo(4,{searchTerm:0})],(function(e,t){var n=t.component,s=e(t,4,0,n.searchTerm);e(t,3,0,s,n.tagTemplate||_r(t,1))}),(function(e,t){e(t,0,0,!t.component.itemsList.markedItem)}))}function jm(e){return $o(0,[(e()(),So(0,0,null,null,1,"div",[["class","ng-option ng-option-disabled"]],null,null,null,null,null)),(e()(),Vo(1,null,["",""]))],null,(function(e,t){e(t,1,0,t.component.notFoundText)}))}function $m(e){return $o(0,[(e()(),Co(0,null,null,0))],null,null)}function Hm(e){return $o(0,[(e()(),So(0,0,null,null,4,null,null,null,null,null,null,null)),(e()(),Co(0,[["defaultNotFoundTemplate",2]],null,0,null,jm)),(e()(),Co(16777216,null,null,2,null,$m)),Pr(3,540672,null,0,ba,[ns],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Fo(4,{searchTerm:0}),(e()(),Co(0,null,null,0))],(function(e,t){var n=t.component,s=e(t,4,0,n.searchTerm);e(t,3,0,s,n.notFoundTemplate||_r(t,1))}),null)}function qm(e){return $o(0,[(e()(),So(0,0,null,null,1,"div",[["class","ng-option ng-option-disabled"]],null,null,null,null,null)),(e()(),Vo(1,null,["",""]))],null,(function(e,t){e(t,1,0,t.component.typeToSearchText)}))}function zm(e){return $o(0,[(e()(),Co(0,null,null,0))],null,null)}function Bm(e){return $o(0,[(e()(),So(0,0,null,null,3,null,null,null,null,null,null,null)),(e()(),Co(0,[["defaultTypeToSearchTemplate",2]],null,0,null,qm)),(e()(),Co(16777216,null,null,1,null,zm)),Pr(3,540672,null,0,ba,[ns],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(e()(),Co(0,null,null,0))],(function(e,t){e(t,3,0,t.component.typeToSearchTemplate||_r(t,1))}),null)}function Gm(e){return $o(0,[(e()(),So(0,0,null,null,1,"div",[["class","ng-option ng-option-disabled"]],null,null,null,null,null)),(e()(),Vo(1,null,["",""]))],null,(function(e,t){e(t,1,0,t.component.loadingText)}))}function Qm(e){return $o(0,[(e()(),Co(0,null,null,0))],null,null)}function Km(e){return $o(0,[(e()(),So(0,0,null,null,4,null,null,null,null,null,null,null)),(e()(),Co(0,[["defaultLoadingTextTemplate",2]],null,0,null,Gm)),(e()(),Co(16777216,null,null,2,null,Qm)),Pr(3,540672,null,0,ba,[ns],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Fo(4,{searchTerm:0}),(e()(),Co(0,null,null,0))],(function(e,t){var n=t.component,s=e(t,4,0,n.searchTerm);e(t,3,0,s,n.loadingTextTemplate||_r(t,1))}),null)}function Wm(e){return $o(0,[(e()(),So(0,0,null,null,14,"ng-dropdown-panel",[["class","ng-dropdown-panel"]],[[2,"ng-select-multiple",null],[8,"id",0]],[[null,"update"],[null,"scroll"],[null,"scrollToEnd"],[null,"outsideClick"],[null,"mousedown"]],(function(e,t,n){var s=!0,r=e.component;return"mousedown"===t&&(s=!1!==_r(e,3).handleMousedown(n)&&s),"update"===t&&(s=!1!==(r.viewPortItems=n)&&s),"scroll"===t&&(s=!1!==r.scroll.emit(n)&&s),"scrollToEnd"===t&&(s=!1!==r.scrollToEnd.emit(n)&&s),"outsideClick"===t&&(s=!1!==r.close()&&s),s}),eg,Jm)),Nr(512,null,ua,ha,[Wn,Zn,An,Mn]),Pr(2,278528,null,0,pa,[ua],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Pr(3,770048,[[1,4]],0,Cf,[Mn,Di,_f,An,[2,Sa]],{items:[0,"items"],markedItem:[1,"markedItem"],position:[2,"position"],appendTo:[3,"appendTo"],bufferAmount:[4,"bufferAmount"],virtualScroll:[5,"virtualScroll"],headerTemplate:[6,"headerTemplate"],footerTemplate:[7,"footerTemplate"],filterValue:[8,"filterValue"]},{update:"update",scroll:"scroll",scrollToEnd:"scrollToEnd",outsideClick:"outsideClick"}),(e()(),So(4,0,null,0,4,null,null,null,null,null,null,null)),(e()(),Co(16777216,null,null,1,null,Fm)),Pr(6,278528,null,0,ma,[ns,es,Wn],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),(e()(),Co(16777216,null,null,1,null,Um)),Pr(8,16384,null,0,ya,[ns,es],{ngIf:[0,"ngIf"]},null),(e()(),Co(16777216,null,0,1,null,Hm)),Pr(10,16384,null,0,ya,[ns,es],{ngIf:[0,"ngIf"]},null),(e()(),Co(16777216,null,0,1,null,Bm)),Pr(12,16384,null,0,ya,[ns,es],{ngIf:[0,"ngIf"]},null),(e()(),Co(16777216,null,0,1,null,Km)),Pr(14,16384,null,0,ya,[ns,es],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,"ng-dropdown-panel",n.appendTo?n.classes:null),e(t,3,0,n.itemsList.filteredItems,n.itemsList.markedItem,n.dropdownPosition,n.appendTo,n.bufferAmount,n.virtualScroll,n.headerTemplate,n.footerTemplate,n.searchTerm),e(t,6,0,n.viewPortItems,n.trackByOption),e(t,8,0,n.showAddTag),e(t,10,0,n.showNoItemsFound()),e(t,12,0,n.showTypeToSearch()),e(t,14,0,n.loading&&0===n.itemsList.filteredItems.length)}),(function(e,t){var n=t.component;e(t,0,0,n.multiple,n.dropdownId)}))}function Zm(e){return $o(2,[Io(671088640,1,{dropdownPanel:0}),Io(402653184,2,{searchInput:0}),(e()(),So(2,0,null,null,15,"div",[["class","ng-select-container"]],[[2,"ng-appearance-outline",null],[2,"ng-has-value",null]],[[null,"mousedown"]],(function(e,t,n){var s=!0;return"mousedown"===t&&(s=!1!==e.component.handleMousedown(n)&&s),s}),null,null)),(e()(),So(3,0,null,null,8,"div",[["class","ng-value-container"]],null,null,null,null,null)),(e()(),So(4,0,null,null,1,"div",[["class","ng-placeholder"]],null,null,null,null,null)),(e()(),Vo(5,null,["",""])),(e()(),Co(16777216,null,null,1,null,km)),Pr(7,16384,null,0,ya,[ns,es],{ngIf:[0,"ngIf"]},null),(e()(),Co(16777216,null,null,1,null,Om)),Pr(9,16384,null,0,ya,[ns,es],{ngIf:[0,"ngIf"]},null),(e()(),So(10,0,null,null,1,"div",[["class","ng-input"]],null,null,null,null,null)),(e()(),So(11,0,[[2,0],["searchInput",1]],null,0,"input",[["role","combobox"]],[[1,"id",0],[1,"tabindex",0],[8,"readOnly",0],[8,"disabled",0],[8,"value",0],[1,"aria-expanded",0],[1,"aria-owns",0],[1,"aria-activedescendant",0]],[[null,"input"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"],[null,"blur"],[null,"change"]],(function(e,t,n){var s=!0,r=e.component;return"input"===t&&(s=!1!==r.filter(_r(e,11).value)&&s),"compositionstart"===t&&(s=!1!==r.onCompositionStart()&&s),"compositionend"===t&&(s=!1!==r.onCompositionEnd(_r(e,11).value)&&s),"focus"===t&&(s=!1!==r.onInputFocus(n)&&s),"blur"===t&&(s=!1!==r.onInputBlur(n)&&s),"change"===t&&(s=!1!==n.stopPropagation()&&s),s}),null,null)),(e()(),Co(16777216,null,null,1,null,Rm)),Pr(13,16384,null,0,ya,[ns,es],{ngIf:[0,"ngIf"]},null),(e()(),Co(16777216,null,null,1,null,Nm)),Pr(15,16384,null,0,ya,[ns,es],{ngIf:[0,"ngIf"]},null),(e()(),So(16,0,null,null,1,"span",[["class","ng-arrow-wrapper"]],null,null,null,null,null)),(e()(),So(17,0,null,null,0,"span",[["class","ng-arrow"]],null,null,null,null,null)),(e()(),Co(16777216,null,null,1,null,Wm)),Pr(19,16384,null,0,ya,[ns,es],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,7,0,!n.multiLabelTemplate&&n.selectedItems.length>0),e(t,9,0,n.multiLabelTemplate&&n.selectedValues.length>0),e(t,13,0,n.loading),e(t,15,0,n.showClear()),e(t,19,0,n.isOpen)}),(function(e,t){var n=t.component;e(t,2,0,"outline"===n.appearance,n.hasValue),e(t,5,0,n.placeholder),e(t,11,0,n.labelForId,n.tabIndex,!n.searchable||n.itemsList.maxItemsSelected,n.disabled,n.searchTerm?n.searchTerm:"",n.isOpen,n.isOpen?n.dropdownId:null,n.isOpen?null==n.itemsList?null:null==n.itemsList.markedItem?null:n.itemsList.markedItem.htmlId:null)}))}var Jm=ws({encapsulation:2,styles:[],data:{}});function Ym(e){return $o(0,[(e()(),So(0,0,null,null,3,"div",[["class","ng-dropdown-header"]],null,null,null,null,null)),(e()(),So(1,16777216,null,null,2,null,null,null,null,null,null,null)),Pr(2,540672,null,0,ba,[ns],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Fo(3,{searchTerm:0})],(function(e,t){var n=t.component,s=e(t,3,0,n.filterValue);e(t,2,0,s,n.headerTemplate)}),null)}function Xm(e){return $o(0,[(e()(),So(0,0,null,null,3,"div",[["class","ng-dropdown-footer"]],null,null,null,null,null)),(e()(),So(1,16777216,null,null,2,null,null,null,null,null,null,null)),Pr(2,540672,null,0,ba,[ns],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Fo(3,{searchTerm:0})],(function(e,t){var n=t.component,s=e(t,3,0,n.filterValue);e(t,2,0,s,n.footerTemplate)}),null)}function eg(e){return $o(2,[Io(402653184,1,{contentElementRef:0}),Io(402653184,2,{scrollElementRef:0}),Io(402653184,3,{paddingElementRef:0}),(e()(),Co(16777216,null,null,1,null,Ym)),Pr(4,16384,null,0,ya,[ns,es],{ngIf:[0,"ngIf"]},null),(e()(),So(5,0,[[2,0],["scroll",1]],null,3,"div",[["class","ng-dropdown-panel-items scroll-host"]],null,null,null,null,null)),(e()(),So(6,0,[[3,0],["padding",1]],null,0,"div",[],[[2,"total-padding",null]],null,null,null,null)),(e()(),So(7,0,[[1,0],["content",1]],null,1,"div",[],[[2,"scrollable-content",null]],null,null,null,null)),No(null,0),(e()(),Co(16777216,null,null,1,null,Xm)),Pr(10,16384,null,0,ya,[ns,es],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,4,0,n.headerTemplate),e(t,10,0,n.footerTemplate)}),(function(e,t){var n=t.component;e(t,6,0,n.virtualScroll),e(t,7,0,n.virtualScroll&&n.items.length)}))}var tg=ws({encapsulation:2,styles:[],data:{}});function ng(e){return $o(2,[No(null,0)],null,null)}class sg{constructor(e){this.moviesService=e,this.genres=[],this.selectorDisabled=!0}ngOnInit(){this.getGenres()}getGenres(){this.selectorDisabled=!0,this.moviesService.getGenres().subscribe(e=>{e&&(this.genres=e.sort((e,t)=>e.localeCompare(t)),this.selectorDisabled=!1)})}updateGenres(e){this.moviesService.updateGenres(this.moviesDataId,e)}}const rg={pages:{moviesHome:{path:{routePath:"movies",i18n:"All Movies"}},moviesSingleMovie:{path:{routePath:"movies/:id",linkPath:"/movies",i18n:"Find Out More"}}},api:{getMovies:{linkPath:"api/movies"},getGenres:{linkPath:"api/genres"},searchMovies:{linkPath:"api/movies?name="}}};class ig{}class og{}class lg{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(e=>{const t=e.indexOf(":");if(t>0){const n=e.slice(0,t),s=n.toLowerCase(),r=e.slice(t+1).trim();this.maybeSetNormalizedName(n,s),this.headers.has(s)?this.headers.get(s).push(r):this.headers.set(s,[r])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let n=e[t];const s=t.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(s,n),this.maybeSetNormalizedName(t,s))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof lg?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new lg;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof lg?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);const s=("a"===e.op?this.headers.get(t):void 0)||[];s.push(...n),this.headers.set(t,s);break;case"d":const r=e.value;if(r){let e=this.headers.get(t);if(!e)return;0===(e=e.filter(e=>-1===r.indexOf(e))).length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,e)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class ag{encodeKey(e){return cg(e)}encodeValue(e){return cg(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}function cg(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class ug{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new ag,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,t){const n=new Map;return e.length>0&&e.split("&").forEach(e=>{const s=e.indexOf("="),[r,i]=-1==s?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,s)),t.decodeValue(e.slice(s+1))],o=n.get(r)||[];o.push(i),n.set(r,o)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const n=e.fromObject[t];this.map.set(t,Array.isArray(n)?n:[n])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(e=>t+"="+this.encoder.encodeValue(e)).join("&")}).join("&")}clone(e){const t=new ug({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat([e]),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(e.value),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let t=this.map.get(e.param)||[];const n=t.indexOf(e.value);-1!==n&&t.splice(n,1),t.length>0?this.map.set(e.param,t):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}function hg(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function dg(e){return"undefined"!=typeof Blob&&e instanceof Blob}function pg(e){return"undefined"!=typeof FormData&&e instanceof FormData}class fg{constructor(e,t,n,s){let r;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||s?(this.body=void 0!==n?n:null,r=s):r=n,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.params&&(this.params=r.params)),this.headers||(this.headers=new lg),this.params){const e=this.params.toString();if(0===e.length)this.urlWithParams=t;else{const n=t.indexOf("?");this.urlWithParams=t+(-1===n?"?":n<t.length-1?"&":"")+e}}else this.params=new ug,this.urlWithParams=t}serializeBody(){return null===this.body?null:hg(this.body)||dg(this.body)||pg(this.body)||"string"==typeof this.body?this.body:this.body instanceof ug?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body?null:pg(this.body)?null:dg(this.body)?this.body.type||null:hg(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ug?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(e={}){const t=e.method||this.method,n=e.url||this.url,s=e.responseType||this.responseType,r=void 0!==e.body?e.body:this.body,i=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,o=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let l=e.headers||this.headers,a=e.params||this.params;return void 0!==e.setHeaders&&(l=Object.keys(e.setHeaders).reduce((t,n)=>t.set(n,e.setHeaders[n]),l)),e.setParams&&(a=Object.keys(e.setParams).reduce((t,n)=>t.set(n,e.setParams[n]),a)),new fg(t,n,r,{params:a,headers:l,reportProgress:o,responseType:s,withCredentials:i})}}const mg=function(){var e={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return e[e.Sent]="Sent",e[e.UploadProgress]="UploadProgress",e[e.ResponseHeader]="ResponseHeader",e[e.DownloadProgress]="DownloadProgress",e[e.Response]="Response",e[e.User]="User",e}();class gg{constructor(e,t=200,n="OK"){this.headers=e.headers||new lg,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class yg extends gg{constructor(e={}){super(e),this.type=mg.ResponseHeader}clone(e={}){return new yg({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class _g extends gg{constructor(e={}){super(e),this.type=mg.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new _g({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class vg extends gg{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function bg(e,t){return{body:t,headers:e.headers,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}class wg{constructor(e){this.handler=e}request(e,t,n={}){let s;if(e instanceof fg)s=e;else{let r=void 0;r=n.headers instanceof lg?n.headers:new lg(n.headers);let i=void 0;n.params&&(i=n.params instanceof ug?n.params:new ug({fromObject:n.params})),s=new fg(e,t,void 0!==n.body?n.body:null,{headers:r,params:i,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const r=Aa(s).pipe(_c(e=>this.handler.handle(e)));if(e instanceof fg||"events"===n.observe)return r;const i=r.pipe(Ua(e=>e instanceof _g));switch(n.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return i.pipe(H(e=>{if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body}));case"blob":return i.pipe(H(e=>{if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body}));case"text":return i.pipe(H(e=>{if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body}));case"json":default:return i.pipe(H(e=>e.body))}case"response":return i;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(e,t={}){return this.request("DELETE",e,t)}get(e,t={}){return this.request("GET",e,t)}head(e,t={}){return this.request("HEAD",e,t)}jsonp(e,t){return this.request("JSONP",e,{params:(new ug).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,t={}){return this.request("OPTIONS",e,t)}patch(e,t,n={}){return this.request("PATCH",e,bg(n,t))}post(e,t,n={}){return this.request("POST",e,bg(n,t))}put(e,t,n={}){return this.request("PUT",e,bg(n,t))}}class Cg{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const Sg=new Ae("HTTP_INTERCEPTORS");class xg{intercept(e,t){return t.handle(e)}}const Eg=/^\)\]\}',?\n/;class Tg{}class kg{constructor(){}build(){return new XMLHttpRequest}}class Ig{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new w(t=>{const n=this.xhrFactory.build();if(n.open(e.method,e.urlWithParams),e.withCredentials&&(n.withCredentials=!0),e.headers.forEach((e,t)=>n.setRequestHeader(e,t.join(","))),e.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const t=e.detectContentTypeHeader();null!==t&&n.setRequestHeader("Content-Type",t)}if(e.responseType){const t=e.responseType.toLowerCase();n.responseType="json"!==t?t:"text"}const s=e.serializeBody();let r=null;const i=()=>{if(null!==r)return r;const t=1223===n.status?204:n.status,s=n.statusText||"OK",i=new lg(n.getAllResponseHeaders()),o=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(n)||e.url;return r=new yg({headers:i,status:t,statusText:s,url:o})},o=()=>{let{headers:s,status:r,statusText:o,url:l}=i(),a=null;204!==r&&(a=void 0===n.response?n.responseText:n.response),0===r&&(r=a?200:0);let c=r>=200&&r<300;if("json"===e.responseType&&"string"==typeof a){const e=a;a=a.replace(Eg,"");try{a=""!==a?JSON.parse(a):null}catch(u){a=e,c&&(c=!1,a={error:u,text:a})}}c?(t.next(new _g({body:a,headers:s,status:r,statusText:o,url:l||void 0})),t.complete()):t.error(new vg({error:a,headers:s,status:r,statusText:o,url:l||void 0}))},l=e=>{const{url:s}=i(),r=new vg({error:e,status:n.status||0,statusText:n.statusText||"Unknown Error",url:s||void 0});t.error(r)};let a=!1;const c=s=>{a||(t.next(i()),a=!0);let r={type:mg.DownloadProgress,loaded:s.loaded};s.lengthComputable&&(r.total=s.total),"text"===e.responseType&&n.responseText&&(r.partialText=n.responseText),t.next(r)},u=e=>{let n={type:mg.UploadProgress,loaded:e.loaded};e.lengthComputable&&(n.total=e.total),t.next(n)};return n.addEventListener("load",o),n.addEventListener("error",l),e.reportProgress&&(n.addEventListener("progress",c),null!==s&&n.upload&&n.upload.addEventListener("progress",u)),n.send(s),t.next({type:mg.Sent}),()=>{n.removeEventListener("error",l),n.removeEventListener("load",o),e.reportProgress&&(n.removeEventListener("progress",c),null!==s&&n.upload&&n.upload.removeEventListener("progress",u)),n.abort()}})}}const Og=new Ae("XSRF_COOKIE_NAME"),Ag=new Ae("XSRF_HEADER_NAME");class Pg{}class Rg{constructor(e,t,n){this.doc=e,this.platform=t,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=ca(e,this.cookieName),this.lastCookieString=e),this.lastToken}}class Ng{constructor(e,t){this.tokenService=e,this.headerName=t}intercept(e,t){const n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);const s=this.tokenService.getToken();return null===s||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,s)})),t.handle(e)}}class Dg{constructor(e,t){this.backend=e,this.injector=t,this.chain=null}handle(e){if(null===this.chain){const e=this.injector.get(Sg,[]);this.chain=e.reduceRight((e,t)=>new Cg(e,t),this.backend)}return this.chain.handle(e)}}class Mg{static disable(){return{ngModule:Mg,providers:[{provide:Ng,useClass:xg}]}}static withOptions(e={}){return{ngModule:Mg,providers:[e.cookieName?{provide:Og,useValue:e.cookieName}:[],e.headerName?{provide:Ag,useValue:e.headerName}:[]]}}}class Fg{}let Lg=(()=>{class e{constructor(e){this.http=e,this.configs=new Map}searchItems(e,t){if(!e.trim())return Aa([]);let n=this.getConfig(t);if(!n)return Aa([]);n.updater&&n.updater.updateTerm(n.queryBuilderClientId,e);let s=n.queryBuilder.getQueryURL(this.constructor.name,n.queryBuilderClientId);return this.http.get(s.toString())}addConfig(e,t){this.configs.set(e,t)}getConfig(e){return this.configs.has(e)?this.configs.get(e):{followUpUrl:""}}}return e.ngInjectableDef=_e({factory:function(){return new e(qe(wg))},token:e,providedIn:"root"}),e})(),Vg=(()=>{class e{constructor(e){this.http=e,this.configs=new Map}getThumbs(e){let t=this.getConfig(e);if(!t)return Aa(null);let n=t.queryBuilder.getQueryURL(this.constructor.name,t.queryBuilderClientId);return this.http.get(n.toString())}getThumb(e,t){if(!this.configs.has(e))return Aa(null);let n=this.configs.get(e),s=n.queryBuilder.getQueryURL(this.constructor.name,n.queryBuilderClientId).toString();return this.http.get(s+="/"+t)}addConfig(e,t){this.configs.set(e,t)}getConfig(e){return this.configs.has(e)?this.configs.get(e):{}}}return e.ngInjectableDef=_e({factory:function(){return new e(qe(wg))},token:e,providedIn:"root"}),e})(),Ug=(()=>{class e{constructor(e,t){this.location=e,this.http=t,this.moviesApiUrl="",this.moviesData=new Map,this.moviesApiUrl=rg.api.getMovies.linkPath}getQueryURL(e,t,n){if(!e||!t||!this.getMoviesData(t))return;let s=this.getMoviesData(t),r=this.moviesApiUrl,i="";window&&window.location?i=window.location.origin:r=new Array(this.location.path().split("/").length).fill("../").join("")+r;let o=new URL(r,i);switch(s.term&&o.searchParams.append("name",s.term),console.log(o.toString()),e){case Lg.name:break;case Vg.name:s.genres&&s.genres.length>0&&o.searchParams.append("genres",s.genres.join("|"))}return o}getGenres(){return this.http.get(rg.api.getGenres.linkPath)}initMoviesData(e){this.getMoviesData(e)||this.moviesData.set(e,{})}getMoviesData(e){return this.moviesData.get(e)?this.moviesData.get(e):null}updateGenres(e,t){this.getMoviesData(e)&&(this.getMoviesData(e).genres=t)}updateTerm(e,t){this.getMoviesData(e)&&(this.getMoviesData(e).term=t)}}return e.ngInjectableDef=_e({factory:function(){return new e(qe(ea),qe(wg))},token:e,providedIn:"root"}),e})();var jg=ws({encapsulation:0,styles:[[""]],data:{}});function $g(e){return $o(0,[(e()(),So(0,0,null,null,2,"ng-option",[],null,null,null,ng,tg)),Pr(1,9093120,[[12,4]],0,Sf,[An],{value:[0,"value"]},null),(e()(),Vo(2,0,["",""]))],(function(e,t){e(t,1,0,t.context.$implicit)}),(function(e,t){e(t,2,0,t.context.$implicit)}))}function Hg(e){return $o(0,[(e()(),So(0,0,null,null,24,"div",[["class","row"]],null,null,null,null,null)),(e()(),So(1,0,null,null,1,"label",[["class","col-12 col-md-4"],["for","#genresSelector"]],null,null,null,null,null)),(e()(),Vo(-1,null,["Select genre(s)"])),(e()(),So(3,0,null,null,21,"div",[["class","col-12 col-md-8"]],null,null,null,null,null)),(e()(),So(4,0,null,null,20,"ng-select",[["appendTo","body"],["bindLabel","Genres"],["class","ng-select"],["placeHolder","Select genre(s)"],["role","listbox"]],[[2,"ng-select-single",null],[2,"ng-select-typeahead",null],[2,"ng-select-multiple",null],[2,"ng-select-taggable",null],[2,"ng-select-searchable",null],[2,"ng-select-clearable",null],[2,"ng-select-opened",null],[2,"ng-select-disabled",null],[2,"ng-select-filtered",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"ngModelChange"],[null,"keydown"]],(function(e,t,n){var s=!0,r=e.component;return"keydown"===t&&(s=!1!==_r(e,6).handleKeyDown(n)&&s),"change"===t&&(s=!1!==r.updateGenres(n)&&s),"ngModelChange"===t&&(s=!1!==(r.selectedGenres=n)&&s),s}),Zm,Sm)),Nr(4608,null,_f,_f,[]),Pr(6,4964352,[["genresSelector",4]],12,Tf,[[8,null],[8,null],xf,Ef,An,Ft,df],{bindLabel:[0,"bindLabel"],appendTo:[1,"appendTo"],multiple:[2,"multiple"]},{changeEvent:"change"}),Io(603979776,1,{optionTemplate:0}),Io(603979776,2,{optgroupTemplate:0}),Io(603979776,3,{labelTemplate:0}),Io(603979776,4,{multiLabelTemplate:0}),Io(603979776,5,{headerTemplate:0}),Io(603979776,6,{footerTemplate:0}),Io(603979776,7,{notFoundTemplate:0}),Io(603979776,8,{typeToSearchTemplate:0}),Io(603979776,9,{loadingTextTemplate:0}),Io(603979776,10,{tagTemplate:0}),Io(603979776,11,{loadingSpinnerTemplate:0}),Io(603979776,12,{ngOptions:1}),Nr(1024,null,Pf,(function(e){return[e]}),[Tf]),Pr(20,671744,null,0,bm,[[8,null],[8,null],[8,null],[6,Pf]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),Nr(2048,null,Ff,null,[bm]),Pr(22,16384,null,0,Vf,[[4,Ff]],null,null),(e()(),Co(16777216,null,null,1,null,$g)),Pr(24,278528,null,0,ma,[ns,es,Wn],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component;e(t,6,0,"Genres","body",!0),e(t,20,0,n.selectorDisabled,n.selectedGenres),e(t,24,0,n.genres)}),(function(e,t){e(t,4,1,[!_r(t,6).multiple,_r(t,6).typeahead,_r(t,6).multiple,_r(t,6).addTag,_r(t,6).searchable,_r(t,6).clearable,_r(t,6).isOpen,_r(t,6).disabled,_r(t,6).filtered,_r(t,22).ngClassUntouched,_r(t,22).ngClassTouched,_r(t,22).ngClassPristine,_r(t,22).ngClassDirty,_r(t,22).ngClassValid,_r(t,22).ngClassInvalid,_r(t,22).ngClassPending])}))}class qg{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new zg(e,this.compare,this.keySelector))}}class zg extends m{constructor(e,t,n){super(e),this.keySelector=n,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:n}=this;t=n?n(e):e}catch(s){return this.destination.error(s)}let n=!1;if(this.hasKey)try{const{compare:e}=this;n=e(this.key,t)}catch(s){return this.destination.error(s)}else this.hasKey=!0;n||(this.key=t,this.destination.next(e))}}class Bg{constructor(e){this.liveSearchService=e,this.searchTerms=new k}search(e){let t=this.liveSearchService.getConfig(this.compId);t.updater.updateTerm(t.queryBuilderClientId,e),this.searchTerms.next(e)}ngOnInit(){this.searchTerms.pipe(zp(300),e=>e.lift(new qg(void 0,void 0)),hc(e=>this.liveSearchService.searchItems(e,this.compId))).subscribe(e=>{this.items=e;let t=this.liveSearchService.getConfig(this.compId);this.items.forEach((e,n)=>{this.items[n].link=t.followUpUrl+"/"+e.id})})}}var Gg=ws({encapsulation:0,styles:[[""]],data:{}});function Qg(e){return $o(0,[(e()(),So(0,0,null,null,3,"li",[],null,null,null,null,null)),(e()(),So(1,0,null,null,2,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var s=!0;return"click"===t&&(s=!1!==_r(e,2).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&s),s}),null,null)),Pr(2,671744,null,0,np,[tp,zh,Yl],{routerLink:[0,"routerLink"]},null),(e()(),Vo(3,null,[" "," "]))],(function(e,t){e(t,2,0,Ks(1,"/",t.context.$implicit.link,""))}),(function(e,t){e(t,1,0,_r(t,2).target,_r(t,2).href),e(t,3,0,t.context.$implicit.name)}))}function Kg(e){return $o(0,[(e()(),So(0,0,null,null,6,"div",[["class","row"]],null,null,null,null,null)),(e()(),So(1,0,null,null,1,"label",[["class","col-12 col-md-4"],["for","live-search"]],null,null,null,null,null)),(e()(),Vo(-1,null,["Search Movie"])),(e()(),So(3,0,[["searchBox",1]],null,0,"input",[["class","col-12 col-md-8"],["id","live-search"]],null,[[null,"input"]],(function(e,t,n){var s=!0;return"input"===t&&(s=!1!==e.component.search(_r(e,3).value)&&s),s}),null,null)),(e()(),So(4,0,null,null,2,"ul",[["class","search-result col-12"]],null,null,null,null,null)),(e()(),Co(16777216,null,null,1,null,Qg)),Pr(6,278528,null,0,ma,[ns,es,Wn],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,6,0,t.component.items)}),null)}class Wg{constructor(e){this.viewContainerRef=e}}function Zg(e,t,n,s){return new(n||(n=Promise))((function(r,i){function o(e){try{a(s.next(e))}catch(t){i(t)}}function l(e){try{a(s.throw(e))}catch(t){i(t)}}function a(e){e.done?r(e.value):new n((function(t){t(e.value)})).then(o,l)}a((s=s.apply(e,t||[])).next())}))}class Jg{constructor(e,t,n){this.componentFactoryResolver=e,this.http=t,this.sanitizer=n,this.loading=!0}ngOnInit(){const e=this.componentFactoryResolver.resolveComponentFactory(this.annexComponentType),t=this.annexHost.viewContainerRef;t.clear(),t.createComponent(e).instance.thumb=this.thumb,new lg({}),(()=>Zg(this,void 0,void 0,(function*(){let e=yield this.http.get(this.thumb.img,{responseType:"blob"}).toPromise();yield(e=>new Promise(t=>setTimeout(t,e)))(2e3*Math.random()+350);let t=(window.URL||window.webkitURL).createObjectURL(e);this.imgSrc=this.sanitizer.bypassSecurityTrustUrl(t),this.loading=!1})))()}}var Yg=ws({encapsulation:0,styles:[['html[_ngcontent-%COMP%]{box-sizing:border-box}*[_ngcontent-%COMP%], [_ngcontent-%COMP%]:after, [_ngcontent-%COMP%]:before{box-sizing:inherit}body[_ngcontent-%COMP%]{margin:0;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#000;text-align:left;background-color:#ffffffde}.w-100[_ngcontent-%COMP%]{width:100%}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.h-100[_ngcontent-%COMP%]{height:100%}.my-auto[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:auto}.pb-1[_ngcontent-%COMP%]{padding-bottom:1em}.p-15[_ngcontent-%COMP%]{padding:15px}.position-sticky[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;top:0}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-left[_ngcontent-%COMP%]{text-align:left}.neat-border[_ngcontent-%COMP%]{border:2px solid #ccc;border-radius:4px}.text-truncate[_ngcontent-%COMP%]{text-overflow:ellipsis}.ml-auto[_ngcontent-%COMP%]{margin-left:auto}.mr-auto[_ngcontent-%COMP%]{margin-right:auto}.image-stretch[_ngcontent-%COMP%]{resize:both;max-width:100%;height:auto;width:100%}img[_ngcontent-%COMP%]:hover{-webkit-filter:sepia(75%);filter:sepia(75%)}.images-grid-thumb__wrapper[_ngcontent-%COMP%]{padding:15px;margin:15px;border:2px solid #ccc;border-radius:4px;box-shadow:10px 10px 5px grey}.images-grid-thumb__loader[_ngcontent-%COMP%]{display:inline-block;position:relative;width:80px;height:80px}.images-grid-thumb__loader[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:inline-block;position:absolute;left:8px;width:16px;background-color:teal;-webkit-animation:1.2s cubic-bezier(0,.5,.5,1) infinite lds-facebook;animation:1.2s cubic-bezier(0,.5,.5,1) infinite lds-facebook}.images-grid-thumb__loader[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){left:8px;-webkit-animation-delay:-.24s;animation-delay:-.24s}.images-grid-thumb__loader[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){left:32px;-webkit-animation-delay:-.12s;animation-delay:-.12s}.images-grid-thumb__loader[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){left:56px;-webkit-animation-delay:0;animation-delay:0}@-webkit-keyframes lds-facebook{0%{top:8px;height:64px}100%,50%{top:24px;height:32px}}@keyframes lds-facebook{0%{top:8px;height:64px}100%,50%{top:24px;height:32px}}']],data:{animation:[{type:7,name:"showHide",definitions:[{type:0,name:"hidden",styles:{type:6,styles:{transform:"scale(0.1)"},offset:null},options:void 0},{type:0,name:"shown",styles:{type:6,styles:{transform:"scale(1)"},offset:null},options:void 0},{type:1,expr:"hidden <=> shown",animation:[{type:4,styles:null,timings:"0.75s"}],options:null}],options:{}}]}});function Xg(e){return $o(0,[(e()(),So(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function ey(e){return $o(0,[(e()(),Co(0,null,null,0))],null,null)}function ty(e){return $o(0,[(e()(),So(0,0,null,null,4,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var s=!0;return"click"===t&&(s=!1!==_r(e,1).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&s),s}),null,null)),Pr(1,671744,null,0,np,[tp,zh,Yl],{routerLink:[0,"routerLink"]},null),Nr(512,null,ua,ha,[Wn,Zn,An,Mn]),Pr(3,278528,null,0,pa,[ua],{ngClass:[0,"ngClass"]},null),(e()(),So(4,0,null,null,0,"img",[["class","image-stretch"]],[[24,"@showHide",0],[8,"src",4]],null,null,null,null)),(e()(),So(5,0,null,null,5,"div",[["class","movie-picker-details__loader"]],null,null,null,null,null)),Nr(512,null,ua,ha,[Wn,Zn,An,Mn]),Pr(7,278528,null,0,pa,[ua],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),So(8,0,null,null,0,"div",[],null,null,null,null,null)),(e()(),So(9,0,null,null,0,"div",[],null,null,null,null,null)),(e()(),So(10,0,null,null,0,"div",[],null,null,null,null,null))],(function(e,t){var n=t.component;e(t,1,0,n.thumb.detailUrl),e(t,3,0,n.loading?"d-none":""),e(t,7,0,"movie-picker-details__loader",n.loading?"":"d-none")}),(function(e,t){var n=t.component;e(t,0,0,_r(t,1).target,_r(t,1).href),e(t,4,0,n.loading?"hidden":"shown",n.imgSrc)}))}function ny(e){return $o(0,[Rr(0,wa,[]),Io(402653184,1,{annexHost:0}),(e()(),So(2,0,null,null,15,"div",[["class","row"]],null,null,null,null,null)),(e()(),So(3,0,null,null,14,"div",[["class","images-grid-thumb__wrapper"]],null,null,null,null,null)),(e()(),So(4,0,null,null,3,"div",[["class","col-12"]],null,null,null,null,null)),(e()(),So(5,0,null,null,2,"h3",[],null,null,null,null,null)),(e()(),Vo(6,null,["",""])),Mo(7,1),(e()(),So(8,0,null,null,2,"div",[["class","col-12"]],null,null,null,null,null)),(e()(),Co(16777216,null,null,1,null,Xg)),Pr(10,540672,null,0,ba,[ns],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(e()(),So(11,0,null,null,2,"div",[["class","col-12"]],null,null,null,null,null)),(e()(),Co(16777216,null,null,1,null,ey)),Pr(13,16384,[[1,4]],0,Wg,[ns],null,null),(e()(),So(14,0,null,null,3,"div",[["class","col-12"]],null,null,null,null,null)),(e()(),So(15,0,null,null,2,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var s=!0;return"click"===t&&(s=!1!==_r(e,16).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&s),s}),null,null)),Pr(16,671744,null,0,np,[tp,zh,Yl],{routerLink:[0,"routerLink"]},null),(e()(),Vo(-1,null,["Find Out More"])),(e()(),Co(0,[["img",2]],null,0,null,ty))],(function(e,t){var n=t.component;e(t,10,0,_r(t,18)),e(t,16,0,Ks(1,"",n.thumb.detailUrl,""))}),(function(e,t){var n=t.component,s=_s(t,6,0,e(t,7,0,_r(t,0),n.thumb.name));e(t,6,0,s),e(t,15,0,_r(t,16).target,_r(t,16).href)}))}class sy{constructor(e){this.imgGridService=e,this.loadingThumbs=!1}ngOnInit(){this.getThumbs()}getThumbs(){this.loadingThumbs=!0;let e=this.imgGridService.getConfig(this.compId);this.imgGridService.getThumbs(this.compId).subscribe(t=>{console.log(t),this.annexComponentType=e.annexType,this.thumbs=t,this.thumbs.forEach((t,n)=>{this.thumbs[n].detailUrl=e.detailsUrl+"/"+t.id}),this.thumbs=this.thumbs.sort((e,t)=>e.name.localeCompare(t.name)),this.loadingThumbs=!1})}}var ry=ws({encapsulation:0,styles:[[""]],data:{}});function iy(e){return $o(0,[(e()(),So(0,0,null,null,1,"app-single-thumb",[["class","col-12 col-md-4"]],null,null,null,ny,Yg)),Pr(1,114688,null,0,Jg,[Tn,wg,Eu],{annexComponentType:[0,"annexComponentType"],thumb:[1,"thumb"]},null)],(function(e,t){e(t,1,0,t.component.annexComponentType,t.context.$implicit)}),null)}function oy(e){return $o(0,[(e()(),So(0,0,null,null,3,"div",[["class","col-12"]],null,null,null,null,null)),(e()(),So(1,0,null,null,2,"div",[["class","row"]],null,null,null,null,null)),(e()(),Co(16777216,null,null,1,null,iy)),Pr(3,278528,null,0,ma,[ns,es,Wn],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,3,0,t.component.thumbs)}),null)}function ly(e){return $o(0,[(e()(),So(0,0,null,null,1,"div",[["class","col-12"]],null,null,null,null,null)),(e()(),Vo(-1,null,[" LOADING IMAGE THUMBS ..."]))],null,null)}function ay(e){return $o(0,[(e()(),Co(16777216,null,null,1,null,oy)),Pr(1,16384,null,0,ya,[ns,es],{ngIf:[0,"ngIf"]},null),(e()(),Co(16777216,null,null,1,null,ly)),Pr(3,16384,null,0,ya,[ns,es],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,1,0,!n.loadingThumbs),e(t,3,0,n.loadingThumbs)}),null)}class cy{constructor(){}ngOnInit(){}}class uy{constructor(e,t,n){this.imagesGridService=e,this.liveSearchService=t,this.moviesService=n,this.imagesGridId="movies-images-grid",this.liveSearchid="movies-live-search",this.imagesHost="http://apitest.tab4lioz.beget.tech/movies/",this.moviesDataId="movies-picker-1",this.genres=[],this.selectedGenres=[],this.moviesService.initMoviesData(this.moviesDataId);let s=rg.pages.moviesSingleMovie.path.linkPath;this.imagesGridService.addConfig(this.imagesGridId,{annexType:cy,detailsUrl:s,imgHostUrl:this.imagesHost,queryBuilder:this.moviesService,queryBuilderClientId:this.moviesDataId}),this.liveSearchService.addConfig(this.liveSearchid,{followUpUrl:s,queryBuilder:this.moviesService,queryBuilderClientId:this.moviesDataId,updater:this.moviesService})}ngOnInit(){}ngAfterViewInit(){}search(){this.imagesGridComp&&this.imagesGridComp.getThumbs()}}var hy=ws({encapsulation:0,styles:[['html[_ngcontent-%COMP%]{box-sizing:border-box}*[_ngcontent-%COMP%], [_ngcontent-%COMP%]:after, [_ngcontent-%COMP%]:before{box-sizing:inherit}body[_ngcontent-%COMP%]{margin:0;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#000;text-align:left;background-color:#ffffffde}.w-100[_ngcontent-%COMP%]{width:100%}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.h-100[_ngcontent-%COMP%]{height:100%}.my-auto[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:auto}.pb-1[_ngcontent-%COMP%]{padding-bottom:1em}.p-15[_ngcontent-%COMP%]{padding:15px}.position-sticky[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;top:0}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-left[_ngcontent-%COMP%]{text-align:left}.neat-border[_ngcontent-%COMP%]{border:2px solid #ccc;border-radius:4px}.text-truncate[_ngcontent-%COMP%]{text-overflow:ellipsis}.ml-auto[_ngcontent-%COMP%]{margin-left:auto}.mr-auto[_ngcontent-%COMP%]{margin-right:auto}.image-stretch[_ngcontent-%COMP%]{resize:both;max-width:100%;height:auto;width:100%}img[_ngcontent-%COMP%]:hover{-webkit-filter:sepia(75%);filter:sepia(75%)}.movie-picker-home__wrapper[_ngcontent-%COMP%]{padding:15px;margin:15px;border:2px solid #ccc;border-radius:4px;box-shadow:10px 10px 5px grey;width:100%}']],data:{}});function dy(e){return $o(0,[Io(671088640,1,{imagesGridComp:0}),(e()(),So(1,0,null,null,12,"div",[["class","row"]],null,null,null,null,null)),(e()(),So(2,0,null,null,11,"div",[["class","col-12"]],null,null,null,null,null)),(e()(),So(3,0,null,null,10,"div",[["class","row"]],null,null,null,null,null)),(e()(),So(4,0,null,null,9,"div",[["class","movie-picker-home__wrapper"]],null,null,null,null,null)),(e()(),So(5,0,null,null,2,"div",[["class","col-12 col-md-6"]],null,null,null,null,null)),(e()(),So(6,0,null,null,1,"app-movie-picker-genres",[],null,null,null,Hg,jg)),Pr(7,114688,null,0,sg,[Ug],{moviesDataId:[0,"moviesDataId"]},null),(e()(),So(8,0,null,null,2,"div",[["class","col-12 col-md-6"]],null,null,null,null,null)),(e()(),So(9,0,null,null,1,"app-live-search",[],null,null,null,Kg,Gg)),Pr(10,114688,null,0,Bg,[Lg],{compId:[0,"compId"]},null),(e()(),So(11,0,null,null,2,"div",[["class","col-12 "]],null,null,null,null,null)),(e()(),So(12,0,null,null,1,"button",[],null,[[null,"click"]],(function(e,t,n){var s=!0;return"click"===t&&(s=!1!==e.component.search()&&s),s}),null,null)),(e()(),Vo(-1,null,["Search"])),(e()(),So(14,0,null,null,1,"app-images-grid",[["class","row"]],null,null,null,ay,ry)),Pr(15,114688,[[1,4]],0,sy,[Vg],{compId:[0,"compId"]},null)],(function(e,t){var n=t.component;e(t,7,0,n.moviesDataId),e(t,10,0,n.liveSearchid),e(t,15,0,n.imagesGridId)}),null)}class py{constructor(){}ngOnInit(){}}var fy=ws({encapsulation:0,styles:[[""]],data:{}});function my(e){return $o(0,[(e()(),So(0,0,null,null,4,"div",[["class","container"]],null,null,null,null,null)),(e()(),So(1,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(e()(),So(2,0,null,null,2,"div",[["class","col-12"]],null,null,null,null,null)),(e()(),So(3,0,null,null,1,"h2",[],null,null,null,null,null)),(e()(),Vo(-1,null,["EXPLORE MOVIES"])),(e()(),So(5,0,null,null,2,"div",[["class","container"]],null,null,null,null,null)),(e()(),So(6,0,null,null,1,"app-movie-picker-home",[],null,null,null,dy,hy)),Pr(7,4308992,null,0,uy,[Vg,Lg,Ug],null,null)],(function(e,t){e(t,7,0)}),null)}function gy(e){return $o(0,[(e()(),So(0,0,null,null,1,"app-movies-page",[],null,null,null,my,fy)),Pr(1,114688,null,0,py,[],null,null)],(function(e,t){e(t,1,0)}),null)}var yy=lr("app-movies-page",py,gy,{},{},[]),_y=ws({encapsulation:0,styles:[[".movie-picker-thumb-annex__rate-border[_ngcontent-%COMP%]{border-radius:9999px;background-color:#d3d3d3;padding:.25rem .75rem}.movie-picker-thumb-annex__rate-border[_ngcontent-%COMP%]:hover{color:gray}.movie-picker-thumb-annex__rate[_ngcontent-%COMP%]{color:#000;text-align:center}.movie-picker-thumb-annex__rate[_ngcontent-%COMP%]:hover{color:#fff}.movie-picker-thumb-annex__genre[_ngcontent-%COMP%]{padding:.25rem;color:#00f}"]],data:{}});function vy(e){return $o(0,[(e()(),So(0,0,null,null,1,"span",[["class","movie-picker-thumb-annex__genre"]],null,null,null,null,null)),(e()(),Vo(1,null,["",""]))],null,(function(e,t){e(t,1,0,t.context.$implicit)}))}function by(e){return $o(0,[(e()(),So(0,0,null,null,10,"div",[["class","row"]],null,null,null,null,null)),(e()(),So(1,0,null,null,2,"div",[["class","col-12"]],null,null,null,null,null)),(e()(),Co(16777216,null,null,1,null,vy)),Pr(3,278528,null,0,ma,[ns,es,Wn],{ngForOf:[0,"ngForOf"]},null),(e()(),So(4,0,null,null,3,"div",[["class","col-5 col-md-3"]],null,null,null,null,null)),(e()(),So(5,0,null,null,2,"div",[["class","movie-picker-thumb-annex__rate-border"]],null,null,null,null,null)),(e()(),So(6,0,null,null,1,"span",[["class","movie-picker-thumb-annex__rate"]],null,null,null,null,null)),(e()(),Vo(7,null,["",""])),(e()(),So(8,0,null,null,0,"div",[["class","col-2 col-md-4"]],null,null,null,null,null)),(e()(),So(9,0,null,null,1,"div",[["class","col-5 col-md-4 text-right"]],null,null,null,null,null)),(e()(),Vo(10,null,[" "," "]))],(function(e,t){e(t,3,0,t.component.thumb.genres)}),(function(e,t){var n=t.component;e(t,7,0,n.thumb.rate),e(t,10,0,n.thumb.length)}))}function wy(e){return $o(0,[(e()(),So(0,0,null,null,1,"app-movie-picker-thumb-annex",[],null,null,null,by,_y)),Pr(1,114688,null,0,cy,[],null,null)],(function(e,t){e(t,1,0)}),null)}var Cy=lr("app-movie-picker-thumb-annex",cy,wy,{thumb:"thumb"},{},[]);class Sy{constructor(e,t,n){this.sanitizer=e,this.http=t,this.route=n,this.movie={id:-1,name:"",img:""},this.loading=!0}ngOnInit(){this.getMovie()}getMovie(){return Zg(this,void 0,void 0,(function*(){this.loading=!0;const e=parseInt(this.route.snapshot.paramMap.get("id"));let t=yield this.http.get(rg.api.getMovies.linkPath+"/"+e).toPromise(),n=t.img;t.img="",this.movie=t;let s=yield this.http.get(n,{responseType:"blob"}).toPromise();yield(e=>new Promise(t=>setTimeout(t,e)))(2e3*Math.random()+350);let r=(window.URL||window.webkitURL).createObjectURL(s);this.movie.img=this.sanitizer.bypassSecurityTrustUrl(r),this.loading=!1}))}}var xy=ws({encapsulation:0,styles:[['html[_ngcontent-%COMP%]{box-sizing:border-box}*[_ngcontent-%COMP%], [_ngcontent-%COMP%]:after, [_ngcontent-%COMP%]:before{box-sizing:inherit}body[_ngcontent-%COMP%]{margin:0;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#000;text-align:left;background-color:#ffffffde}.w-100[_ngcontent-%COMP%]{width:100%}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.h-100[_ngcontent-%COMP%]{height:100%}.my-auto[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:auto}.pb-1[_ngcontent-%COMP%]{padding-bottom:1em}.p-15[_ngcontent-%COMP%]{padding:15px}.position-sticky[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;top:0}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-left[_ngcontent-%COMP%]{text-align:left}.neat-border[_ngcontent-%COMP%]{border:2px solid #ccc;border-radius:4px}.text-truncate[_ngcontent-%COMP%]{text-overflow:ellipsis}.ml-auto[_ngcontent-%COMP%]{margin-left:auto}.mr-auto[_ngcontent-%COMP%]{margin-right:auto}.image-stretch[_ngcontent-%COMP%]{resize:both;max-width:100%;height:auto;width:100%}img[_ngcontent-%COMP%]:hover{-webkit-filter:sepia(75%);filter:sepia(75%)}.movie-picker-details__wrapper[_ngcontent-%COMP%]{padding:15px;margin:15px;border:2px solid #ccc;border-radius:4px;box-shadow:10px 10px 5px grey}.movie-picker-details__loader[_ngcontent-%COMP%]{display:inline-block;position:relative;width:80px;height:80px}.movie-picker-details__loader[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:inline-block;position:absolute;left:8px;width:16px;background-color:teal;-webkit-animation:1.2s cubic-bezier(0,.5,.5,1) infinite lds-facebook;animation:1.2s cubic-bezier(0,.5,.5,1) infinite lds-facebook}.movie-picker-details__loader[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){left:8px;-webkit-animation-delay:-.24s;animation-delay:-.24s}.movie-picker-details__loader[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){left:32px;-webkit-animation-delay:-.12s;animation-delay:-.12s}.movie-picker-details__loader[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){left:56px;-webkit-animation-delay:0;animation-delay:0}']],data:{}});function Ey(e){return $o(0,[Rr(0,wa,[]),(e()(),So(1,0,null,null,24,"div",[["class","container"]],null,null,null,null,null)),(e()(),So(2,0,null,null,23,"div",[["class","row"]],null,null,null,null,null)),(e()(),So(3,0,null,null,22,"div",[["class","movie-picker-details__wrapper"]],null,null,null,null,null)),(e()(),So(4,0,null,null,3,"div",[["class","col-12"]],null,null,null,null,null)),(e()(),So(5,0,null,null,2,"h2",[],null,null,null,null,null)),(e()(),Vo(6,null,["",""])),Mo(7,1),(e()(),So(8,0,null,null,9,"div",[["class","col-12 col-md-4"]],null,null,null,null,null)),(e()(),So(9,0,null,null,2,"img",[["class","image-stretch col-12 col-md-4"]],[[8,"src",4]],null,null,null,null)),Nr(512,null,ua,ha,[Wn,Zn,An,Mn]),Pr(11,278528,null,0,pa,[ua],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),So(12,0,null,null,5,"div",[["class","movie-picker-details__loader"]],null,null,null,null,null)),Nr(512,null,ua,ha,[Wn,Zn,An,Mn]),Pr(14,278528,null,0,pa,[ua],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),So(15,0,null,null,0,"div",[],null,null,null,null,null)),(e()(),So(16,0,null,null,0,"div",[],null,null,null,null,null)),(e()(),So(17,0,null,null,0,"div",[],null,null,null,null,null)),(e()(),So(18,0,null,null,7,"div",[["class","col-12 col-md-8"]],null,null,null,null,null)),(e()(),So(19,0,null,null,6,"div",[["class","row"]],null,null,null,null,null)),(e()(),So(20,0,null,null,2,"div",[["class","col-12"]],null,null,null,null,null)),(e()(),So(21,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),Vo(22,null,["",""])),(e()(),So(23,0,null,null,2,"div",[["class","col-12"]],null,null,null,null,null)),(e()(),So(24,0,null,null,1,"app-movie-picker-thumb-annex",[],null,null,null,by,_y)),Pr(25,114688,null,0,cy,[],{thumb:[0,"thumb"]},null)],(function(e,t){var n=t.component;e(t,11,0,"image-stretch col-12 col-md-4",n.loading?"d-none":""),e(t,14,0,"movie-picker-details__loader",n.loading?"":"d-none"),e(t,25,0,n.movie)}),(function(e,t){var n=t.component,s=_s(t,6,0,e(t,7,0,_r(t,0),n.movie.name));e(t,6,0,s),e(t,9,0,n.movie.img),e(t,22,0,n.movie.description)}))}function Ty(e){return $o(0,[(e()(),So(0,0,null,null,1,"app-movie-picker-details",[],null,null,null,Ey,xy)),Pr(1,114688,null,0,Sy,[Eu,wg,zh],null,null)],(function(e,t){e(t,1,0)}),null)}var ky=lr("app-movie-picker-details",Sy,Ty,{},{},[]),Iy=ws({encapsulation:0,styles:[[""]],data:{}});function Oy(e){return $o(0,[(e()(),So(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),Pr(1,212992,null,0,op,[ip,ns,Tn,[8,null],Ft],null,null)],(function(e,t){e(t,1,0)}),null)}function Ay(e){return $o(0,[(e()(),So(0,0,null,null,1,"app-root",[],null,null,null,Oy,Iy)),Pr(1,49152,null,0,Wl,[],null,null)],null,null)}var Py=lr("app-root",Wl,Ay,{},{},[]);class Ry{}class Ny{}const Dy="*";function My(e,t=null){return{type:2,steps:e,options:t}}function Fy(e){return{type:6,styles:e,offset:null}}function Ly(e){Promise.resolve(null).then(e)}class Vy{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Ly(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){}setPosition(e){}getPosition(){return 0}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class Uy{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,n=0,s=0;const r=this.players.length;0==r?Ly(()=>this._onFinish()):this.players.forEach(e=>{e.onDone(()=>{++t==r&&this._onFinish()}),e.onDestroy(()=>{++n==r&&this._onDestroy()}),e.onStart(()=>{++s==r&&this._onStart()})}),this.totalTime=this.players.reduce((e,t)=>Math.max(e,t.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(e=>{const n=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(n)})}getPosition(){let e=0;return this.players.forEach(t=>{const n=t.getPosition();e=Math.min(n,e)}),e}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}const jy="!";function $y(){return"undefined"!=typeof process}function Hy(e){switch(e.length){case 0:return new Vy;case 1:return e[0];default:return new Uy(e)}}function qy(e,t,n,s,r={},i={}){const o=[],l=[];let a=-1,c=null;if(s.forEach(e=>{const n=e.offset,s=n==a,u=s&&c||{};Object.keys(e).forEach(n=>{let s=n,l=e[n];if("offset"!==n)switch(s=t.normalizePropertyName(s,o),l){case jy:l=r[n];break;case Dy:l=i[n];break;default:l=t.normalizeStyleValue(n,s,l,o)}u[s]=l}),s||l.push(u),c=u,a=n}),o.length){const e="\n - ";throw new Error(`Unable to animate due to the following errors:${e}${o.join(e)}`)}return l}function zy(e,t,n,s){switch(t){case"start":e.onStart(()=>s(n&&By(n,"start",e)));break;case"done":e.onDone(()=>s(n&&By(n,"done",e)));break;case"destroy":e.onDestroy(()=>s(n&&By(n,"destroy",e)))}}function By(e,t,n){const s=n.totalTime,r=Gy(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==s?e.totalTime:s,!!n.disabled),i=e._data;return null!=i&&(r._data=i),r}function Gy(e,t,n,s,r="",i=0,o){return{element:e,triggerName:t,fromState:n,toState:s,phaseName:r,totalTime:i,disabled:!!o}}function Qy(e,t,n){let s;return e instanceof Map?(s=e.get(t))||e.set(t,s=n):(s=e[t])||(s=e[t]=n),s}function Ky(e){const t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}let Wy=(e,t)=>!1,Zy=(e,t)=>!1,Jy=(e,t,n)=>[];const Yy=$y();(Yy||"undefined"!=typeof Element)&&(Wy=(e,t)=>e.contains(t),Zy=(()=>{if(Yy||Element.prototype.matches)return(e,t)=>e.matches(t);{const e=Element.prototype,t=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return t?(e,n)=>t.apply(e,[n]):Zy}})(),Jy=(e,t,n)=>{let s=[];if(n)s.push(...e.querySelectorAll(t));else{const n=e.querySelector(t);n&&s.push(n)}return s});let Xy=null,e_=!1;function t_(e){Xy||(Xy=("undefined"!=typeof document?document.body:null)||{},e_=!!Xy.style&&"WebkitAppearance"in Xy.style);let t=!0;return Xy.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&!(t=e in Xy.style)&&e_&&(t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in Xy.style),t}const n_=Zy,s_=Wy,r_=Jy;function i_(e){const t={};return Object.keys(e).forEach(n=>{const s=n.replace(/([a-z])([A-Z])/g,"$1-$2");t[s]=e[n]}),t}class o_{validateStyleProperty(e){return t_(e)}matchesElement(e,t){return n_(e,t)}containsElement(e,t){return s_(e,t)}query(e,t,n){return r_(e,t,n)}computeStyle(e,t,n){return n||""}animate(e,t,n,s,r,i=[],o){return new Vy(n,s)}}let l_=(()=>{class e{}return e.NOOP=new o_,e})();const a_=1e3,c_="{{",u_="ng-enter",h_="ng-leave",d_="ng-trigger",p_=".ng-trigger",f_="ng-animating",m_=".ng-animating";function g_(e){if("number"==typeof e)return e;const t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:y_(parseFloat(t[1]),t[2])}function y_(e,t){switch(t){case"s":return e*a_;default:return e}}function __(e,t,n){return e.hasOwnProperty("duration")?e:function(e,t,n){let s,r=0,i="";if("string"==typeof e){const n=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return t.push(`The provided timing value "${e}" is invalid.`),{duration:0,delay:0,easing:""};s=y_(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(r=y_(parseFloat(o),n[4]));const l=n[5];l&&(i=l)}else s=e;if(!n){let n=!1,i=t.length;s<0&&(t.push("Duration values below 0 are not allowed for this animation step."),n=!0),r<0&&(t.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&t.splice(i,0,`The provided timing value "${e}" is invalid.`)}return{duration:s,delay:r,easing:i}}(e,t,n)}function v_(e,t={}){return Object.keys(e).forEach(n=>{t[n]=e[n]}),t}function b_(e,t,n={}){if(t)for(let s in e)n[s]=e[s];else v_(e,n);return n}function w_(e,t,n){return n?t+":"+n+";":""}function C_(e){let t="";for(let n=0;n<e.style.length;n++){const s=e.style.item(n);t+=w_(0,s,e.style.getPropertyValue(s))}for(const n in e.style)e.style.hasOwnProperty(n)&&!n.startsWith("_")&&(t+=w_(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e.style[n]));e.setAttribute("style",t)}function S_(e,t,n){e.style&&(Object.keys(t).forEach(s=>{const r=P_(s);n&&!n.hasOwnProperty(s)&&(n[s]=e.style[r]),e.style[r]=t[s]}),$y()&&C_(e))}function x_(e,t){e.style&&(Object.keys(t).forEach(t=>{const n=P_(t);e.style[n]=""}),$y()&&C_(e))}function E_(e){return Array.isArray(e)?1==e.length?e[0]:My(e):e}const T_=new RegExp(`${c_}\\s*(.+?)\\s*}}`,"g");function k_(e){let t=[];if("string"==typeof e){const n=e.toString();let s;for(;s=T_.exec(n);)t.push(s[1]);T_.lastIndex=0}return t}function I_(e,t,n){const s=e.toString(),r=s.replace(T_,(e,s)=>{let r=t[s];return t.hasOwnProperty(s)||(n.push(`Please provide a value for the animation param ${s}`),r=""),r.toString()});return r==s?e:r}function O_(e){const t=[];let n=e.next();for(;!n.done;)t.push(n.value),n=e.next();return t}const A_=/-+([a-z0-9])/g;function P_(e){return e.replace(A_,(...e)=>e[1].toUpperCase())}function R_(e,t){return 0===e||0===t}function N_(e,t,n){const s=Object.keys(n);if(s.length&&t.length){let i=t[0],o=[];if(s.forEach(e=>{i.hasOwnProperty(e)||o.push(e),i[e]=n[e]}),o.length)for(var r=1;r<t.length;r++){let n=t[r];o.forEach((function(t){n[t]=M_(e,t)}))}}return t}function D_(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function M_(e,t){return window.getComputedStyle(e)[t]}const F_="*";function L_(e,t){const n=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(e=>(function(e,t,n){if(":"==e[0]){const s=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,t)=>parseFloat(t)>parseFloat(e);case":decrement":return(e,t)=>parseFloat(t)<parseFloat(e);default:return t.push(`The transition alias value "${e}" is not supported`),"* => *"}}(e,n);if("function"==typeof s)return void t.push(s);e=s}const s=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==s||s.length<4)return n.push(`The provided transition expression "${e}" is not supported`),t;const r=s[1],i=s[2],o=s[3];t.push(j_(r,o)),"<"!=i[0]||r==F_&&o==F_||t.push(j_(o,r))})(e,n,t)):n.push(e),n}const V_=new Set(["true","1"]),U_=new Set(["false","0"]);function j_(e,t){const n=V_.has(e)||U_.has(e),s=V_.has(t)||U_.has(t);return(r,i)=>{let o=e==F_||e==r,l=t==F_||t==i;return!o&&n&&"boolean"==typeof r&&(o=r?V_.has(e):U_.has(e)),!l&&s&&"boolean"==typeof i&&(l=i?V_.has(t):U_.has(t)),o&&l}}const $_=":self",H_=new RegExp(`s*${$_}s*,?`,"g");function q_(e,t,n){return new B_(e).build(t,n)}const z_="";class B_{constructor(e){this._driver=e}build(e,t){const n=new G_(t);return this._resetContextStyleTimingState(n),D_(this,E_(e),n)}_resetContextStyleTimingState(e){e.currentQuerySelector=z_,e.collectedStyles={},e.collectedStyles[z_]={},e.currentTime=0}visitTrigger(e,t){let n=t.queryCount=0,s=t.depCount=0;const r=[],i=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(e=>{if(this._resetContextStyleTimingState(t),0==e.type){const n=e,s=n.name;s.toString().split(/\s*,\s*/).forEach(e=>{n.name=e,r.push(this.visitState(n,t))}),n.name=s}else if(1==e.type){const r=this.visitTransition(e,t);n+=r.queryCount,s+=r.depCount,i.push(r)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:r,transitions:i,queryCount:n,depCount:s,options:null}}visitState(e,t){const n=this.visitStyle(e.styles,t),s=e.options&&e.options.params||null;if(n.containsDynamicStyles){const r=new Set,i=s||{};if(n.styles.forEach(e=>{if(Q_(e)){const t=e;Object.keys(t).forEach(e=>{k_(t[e]).forEach(e=>{i.hasOwnProperty(e)||r.add(e)})})}}),r.size){const n=O_(r.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:e.name,style:n,options:s?{params:s}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const n=D_(this,E_(e.animation),t);return{type:1,matchers:L_(e.expr,t.errors),animation:n,queryCount:t.queryCount,depCount:t.depCount,options:K_(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(e=>D_(this,e,t)),options:K_(e.options)}}visitGroup(e,t){const n=t.currentTime;let s=0;const r=e.steps.map(e=>{t.currentTime=n;const r=D_(this,e,t);return s=Math.max(s,t.currentTime),r});return t.currentTime=s,{type:3,steps:r,options:K_(e.options)}}visitAnimate(e,t){const n=function(e,t){let n=null;if(e.hasOwnProperty("duration"))n=e;else if("number"==typeof e)return W_(__(e,t).duration,0,"");const s=e;if(s.split(/\s+/).some(e=>"{"==e.charAt(0)&&"{"==e.charAt(1))){const e=W_(0,0,"");return e.dynamic=!0,e.strValue=s,e}return W_((n=n||__(s,t)).duration,n.delay,n.easing)}(e.timings,t.errors);let s;t.currentAnimateTimings=n;let r=e.styles?e.styles:Fy({});if(5==r.type)s=this.visitKeyframes(r,t);else{let r=e.styles,i=!1;if(!r){i=!0;const e={};n.easing&&(e.easing=n.easing),r=Fy(e)}t.currentTime+=n.duration+n.delay;const o=this.visitStyle(r,t);o.isEmptyStep=i,s=o}return t.currentAnimateTimings=null,{type:4,timings:n,style:s,options:null}}visitStyle(e,t){const n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}_makeStyleAst(e,t){const n=[];Array.isArray(e.styles)?e.styles.forEach(e=>{"string"==typeof e?e==Dy?n.push(e):t.errors.push(`The provided style string value ${e} is not allowed.`):n.push(e)}):n.push(e.styles);let s=!1,r=null;return n.forEach(e=>{if(Q_(e)){const t=e,n=t.easing;if(n&&(r=n,delete t.easing),!s)for(let e in t)if(t[e].toString().indexOf(c_)>=0){s=!0;break}}}),{type:6,styles:n,easing:r,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const n=t.currentAnimateTimings;let s=t.currentTime,r=t.currentTime;n&&r>0&&(r-=n.duration+n.delay),e.styles.forEach(e=>{"string"!=typeof e&&Object.keys(e).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void t.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const i=t.collectedStyles[t.currentQuerySelector],o=i[n];let l=!0;o&&(r!=s&&r>=o.startTime&&s<=o.endTime&&(t.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${r}ms" and "${s}ms"`),l=!1),r=o.startTime),l&&(i[n]={startTime:r,endTime:s}),t.options&&function(e,t,n){const s=t.params||{},r=k_(e);r.length&&r.forEach(e=>{s.hasOwnProperty(e)||n.push(`Unable to resolve the local animation param ${e} in the given list of values`)})}(e[n],t.options,t.errors)})})}visitKeyframes(e,t){const n={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),n;let s=0;const r=[];let i=!1,o=!1,l=0;const a=e.steps.map(e=>{const n=this._makeStyleAst(e,t);let a=null!=n.offset?n.offset:function(e){if("string"==typeof e)return null;let t=null;if(Array.isArray(e))e.forEach(e=>{if(Q_(e)&&e.hasOwnProperty("offset")){const n=e;t=parseFloat(n.offset),delete n.offset}});else if(Q_(e)&&e.hasOwnProperty("offset")){const n=e;t=parseFloat(n.offset),delete n.offset}return t}(n.styles),c=0;return null!=a&&(s++,c=n.offset=a),o=o||c<0||c>1,i=i||c<l,l=c,r.push(c),n});o&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),i&&t.errors.push("Please ensure that all keyframe offsets are in order");const c=e.steps.length;let u=0;s>0&&s<c?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==s&&(u=1/(c-1));const h=c-1,d=t.currentTime,p=t.currentAnimateTimings,f=p.duration;return a.forEach((e,s)=>{const i=u>0?s==h?1:u*s:r[s],o=i*f;t.currentTime=d+p.delay+o,p.duration=o,this._validateStyleAst(e,t),e.offset=i,n.styles.push(e)}),n}visitReference(e,t){return{type:8,animation:D_(this,E_(e.animation),t),options:K_(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:K_(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:K_(e.options)}}visitQuery(e,t){const n=t.currentQuerySelector,s=e.options||{};t.queryCount++,t.currentQuery=e;const[r,i]=function(e){const t=!!e.split(/\s*,\s*/).find(e=>e==$_);return t&&(e=e.replace(H_,"")),[e=e.replace(/@\*/g,p_).replace(/@\w+/g,e=>p_+"-"+e.substr(1)).replace(/:animating/g,m_),t]}(e.selector);t.currentQuerySelector=n.length?n+" "+r:r,Qy(t.collectedStyles,t.currentQuerySelector,{});const o=D_(this,E_(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:11,selector:r,limit:s.limit||0,optional:!!s.optional,includeSelf:i,animation:o,originalSelector:e.selector,options:K_(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const n="full"===e.timings?{duration:0,delay:0,easing:"full"}:__(e.timings,t.errors,!0);return{type:12,animation:D_(this,E_(e.animation),t),timings:n,options:null}}}class G_{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Q_(e){return!Array.isArray(e)&&"object"==typeof e}function K_(e){var t;return e?(e=v_(e)).params&&(e.params=(t=e.params)?v_(t):null):e={},e}function W_(e,t,n){return{duration:e,delay:t,easing:n}}function Z_(e,t,n,s,r,i,o=null,l=!1){return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:s,duration:r,delay:i,totalTime:r+i,easing:o,subTimeline:l}}class J_{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let n=this._map.get(e);n||this._map.set(e,n=[]),n.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Y_=1,X_=new RegExp(":enter","g"),ev=new RegExp(":leave","g");function tv(e,t,n,s,r,i={},o={},l,a,c=[]){return(new nv).buildKeyframes(e,t,n,s,r,i,o,l,a,c)}class nv{buildKeyframes(e,t,n,s,r,i,o,l,a,c=[]){a=a||new J_;const u=new rv(e,t,a,s,r,c,[]);u.options=l,u.currentTimeline.setStyles([i],null,u.errors,l),D_(this,n,u);const h=u.timelines.filter(e=>e.containsAnimation());if(h.length&&Object.keys(o).length){const e=h[h.length-1];e.allowOnlyTimelineStyles()||e.setStyles([o],null,u.errors,l)}return h.length?h.map(e=>e.buildKeyframes()):[Z_(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const n=t.subInstructions.consume(t.element);if(n){const s=t.createSubContext(e.options),r=t.currentTimeline.currentTime,i=this._visitSubInstructions(n,s,s.options);r!=i&&t.transformIntoNewTimeline(i)}t.previousNode=e}visitAnimateRef(e,t){const n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,n){let s=t.currentTimeline.currentTime;const r=null!=n.duration?g_(n.duration):null,i=null!=n.delay?g_(n.delay):null;return 0!==r&&e.forEach(e=>{const n=t.appendInstructionToTimeline(e,r,i);s=Math.max(s,n.duration+n.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),D_(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const n=t.subContextCount;let s=t;const r=e.options;if(r&&(r.params||r.delay)&&((s=t.createSubContext(r)).transformIntoNewTimeline(),null!=r.delay)){6==s.previousNode.type&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=sv);const e=g_(r.delay);s.delayNextStep(e)}e.steps.length&&(e.steps.forEach(e=>D_(this,e,s)),s.currentTimeline.applyStylesToKeyframe(),s.subContextCount>n&&s.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const n=[];let s=t.currentTimeline.currentTime;const r=e.options&&e.options.delay?g_(e.options.delay):0;e.steps.forEach(i=>{const o=t.createSubContext(e.options);r&&o.delayNextStep(r),D_(this,i,o),s=Math.max(s,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(e=>t.currentTimeline.mergeTimelineCollectedStyles(e)),t.transformIntoNewTimeline(s),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const n=e.strValue;return __(t.params?I_(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const n=t.currentAnimateTimings=this._visitTiming(e.timings,t),s=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),s.snapshotCurrentStyles());const r=e.style;5==r.type?this.visitKeyframes(r,t):(t.incrementTime(n.duration),this.visitStyle(r,t),s.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const n=t.currentTimeline,s=t.currentAnimateTimings;!s&&n.getCurrentStyleProperties().length&&n.forwardFrame();const r=s&&s.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(r):n.setStyles(e.styles,r,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const n=t.currentAnimateTimings,s=t.currentTimeline.duration,r=n.duration,i=t.createSubContext().currentTimeline;i.easing=n.easing,e.styles.forEach(e=>{i.forwardTime((e.offset||0)*r),i.setStyles(e.styles,e.easing,t.errors,t.options),i.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(i),t.transformIntoNewTimeline(s+r),t.previousNode=e}visitQuery(e,t){const n=t.currentTimeline.currentTime,s=e.options||{},r=s.delay?g_(s.delay):0;r&&(6===t.previousNode.type||0==n&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=sv);let i=n;const o=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!s.optional,t.errors);t.currentQueryTotal=o.length;let l=null;o.forEach((n,s)=>{t.currentQueryIndex=s;const o=t.createSubContext(e.options,n);r&&o.delayNextStep(r),n===t.element&&(l=o.currentTimeline),D_(this,e.animation,o),o.currentTimeline.applyStylesToKeyframe(),i=Math.max(i,o.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(i),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const n=t.parentContext,s=t.currentTimeline,r=e.timings,i=Math.abs(r.duration),o=i*(t.currentQueryTotal-1);let l=i*t.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":l=o-l;break;case"full":l=n.currentStaggerTime}const a=t.currentTimeline;l&&a.delayNextStep(l);const c=a.currentTime;D_(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=s.currentTime-c+(s.startTime-n.currentTimeline.startTime)}}const sv={};class rv{constructor(e,t,n,s,r,i,o,l){this._driver=e,this.element=t,this.subInstructions=n,this._enterClassName=s,this._leaveClassName=r,this.errors=i,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=sv,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new iv(this._driver,t,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const n=e;let s=this.options;null!=n.duration&&(s.duration=g_(n.duration)),null!=n.delay&&(s.delay=g_(n.delay));const r=n.params;if(r){let e=s.params;e||(e=this.options.params={}),Object.keys(r).forEach(n=>{t&&e.hasOwnProperty(n)||(e[n]=I_(r[n],e,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const n=e.params={};Object.keys(t).forEach(e=>{n[e]=t[e]})}}return e}createSubContext(e=null,t,n){const s=t||this.element,r=new rv(this._driver,s,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(s,n||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(e),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(e){return this.previousNode=sv,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,n){const s={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+e.delay,easing:""},r=new ov(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,s,e.stretchStartingKeyframe);return this.timelines.push(r),s}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,n,s,r,i){let o=[];if(s&&o.push(this.element),e.length>0){e=(e=e.replace(X_,"."+this._enterClassName)).replace(ev,"."+this._leaveClassName);let t=this._driver.query(this.element,e,1!=n);0!==n&&(t=n<0?t.slice(t.length+n,t.length):t.slice(0,n)),o.push(...t)}return r||0!=o.length||i.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),o}}class iv{constructor(e,t,n,s){this._driver=e,this.element=t,this.startTime=n,this._elementTimelineStylesLookup=s,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new iv(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=Y_,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||Dy,this._currentKeyframe[e]=Dy}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,n,s){t&&(this._previousKeyframe.easing=t);const r=s&&s.params||{},i=function(e,t){const n={};let s;return e.forEach(e=>{"*"===e?(s=s||Object.keys(t)).forEach(e=>{n[e]=Dy}):b_(e,!1,n)}),n}(e,this._globalTimelineStyles);Object.keys(i).forEach(e=>{const t=I_(i[e],r,n);this._pendingStyles[e]=t,this._localTimelineStyles.hasOwnProperty(e)||(this._backFill[e]=this._globalTimelineStyles.hasOwnProperty(e)?this._globalTimelineStyles[e]:Dy),this._updateStyle(e,t)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(t=>{this._currentKeyframe[t]=e[t]}),Object.keys(this._localTimelineStyles).forEach(e=>{this._currentKeyframe.hasOwnProperty(e)||(this._currentKeyframe[e]=this._localTimelineStyles[e])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const n=this._styleSummary[t],s=e._styleSummary[t];(!n||s.time>n.time)&&this._updateStyle(t,s.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,n=1===this._keyframes.size&&0===this.duration;let s=[];this._keyframes.forEach((r,i)=>{const o=b_(r,!0);Object.keys(o).forEach(n=>{const s=o[n];s==jy?e.add(n):s==Dy&&t.add(n)}),n||(o.offset=i/this.duration),s.push(o)});const r=e.size?O_(e.values()):[],i=t.size?O_(t.values()):[];if(n){const e=s[0],t=v_(e);e.offset=0,t.offset=1,s=[e,t]}return Z_(this.element,s,r,i,this.duration,this.startTime,this.easing,!1)}}class ov extends iv{constructor(e,t,n,s,r,i,o=!1){super(e,t,i.delay),this.element=t,this.keyframes=n,this.preStyleProps=s,this.postStyleProps=r,this._stretchStartingKeyframe=o,this.timings={duration:i.duration,delay:i.delay,easing:i.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:n,easing:s}=this.timings;if(this._stretchStartingKeyframe&&t){const r=[],i=n+t,o=t/i,l=b_(e[0],!1);l.offset=0,r.push(l);const a=b_(e[0],!1);a.offset=lv(o),r.push(a);const c=e.length-1;for(let s=1;s<=c;s++){let o=b_(e[s],!1);o.offset=lv((t+o.offset*n)/i),r.push(o)}n=i,t=0,s="",e=r}return Z_(this.element,e,this.preStyleProps,this.postStyleProps,n,t,s,!0)}}function lv(e,t=3){const n=Math.pow(10,t-1);return Math.round(e*n)/n}class av{}class cv extends av{normalizePropertyName(e,t){return P_(e)}normalizeStyleValue(e,t,n,s){let r="";const i=n.toString().trim();if(uv[t]&&0!==n&&"0"!==n)if("number"==typeof n)r="px";else{const t=n.match(/^[+-]?[\d\.]+([a-z]*)$/);t&&0==t[1].length&&s.push(`Please provide a CSS unit value for ${e}:${n}`)}return i+r}}const uv=(()=>(function(e){const t={};return e.forEach(e=>t[e]=!0),t})("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function hv(e,t,n,s,r,i,o,l,a,c,u,h,d){return{type:0,element:e,triggerName:t,isRemovalTransition:r,fromState:n,fromStyles:i,toState:s,toStyles:o,timelines:l,queriedElements:a,preStyleProps:c,postStyleProps:u,totalTime:h,errors:d}}const dv={};class pv{constructor(e,t,n){this._triggerName=e,this.ast=t,this._stateStyles=n}match(e,t,n,s){return function(e,t,n,s,r){return e.some(e=>e(t,n,s,r))}(this.ast.matchers,e,t,n,s)}buildStyles(e,t,n){const s=this._stateStyles["*"],r=this._stateStyles[e],i=s?s.buildStyles(t,n):{};return r?r.buildStyles(t,n):i}build(e,t,n,s,r,i,o,l,a,c){const u=[],h=this.ast.options&&this.ast.options.params||dv,d=this.buildStyles(n,o&&o.params||dv,u),p=l&&l.params||dv,f=this.buildStyles(s,p,u),m=new Set,g=new Map,y=new Map,_="void"===s,v={params:Object.assign({},h,p)},b=c?[]:tv(e,t,this.ast.animation,r,i,d,f,v,a,u);let w=0;if(b.forEach(e=>{w=Math.max(e.duration+e.delay,w)}),u.length)return hv(t,this._triggerName,n,s,_,d,f,[],[],g,y,w,u);b.forEach(e=>{const n=e.element,s=Qy(g,n,{});e.preStyleProps.forEach(e=>s[e]=!0);const r=Qy(y,n,{});e.postStyleProps.forEach(e=>r[e]=!0),n!==t&&m.add(n)});const C=O_(m.values());return hv(t,this._triggerName,n,s,_,d,f,b,C,g,y,w)}}class fv{constructor(e,t){this.styles=e,this.defaultParams=t}buildStyles(e,t){const n={},s=v_(this.defaultParams);return Object.keys(e).forEach(t=>{const n=e[t];null!=n&&(s[t]=n)}),this.styles.styles.forEach(e=>{if("string"!=typeof e){const r=e;Object.keys(r).forEach(e=>{let i=r[e];i.length>1&&(i=I_(i,s,t)),n[e]=i})}}),n}}class mv{constructor(e,t){this.name=e,this.ast=t,this.transitionFactories=[],this.states={},t.states.forEach(e=>{this.states[e.name]=new fv(e.style,e.options&&e.options.params||{})}),gv(this.states,"true","1"),gv(this.states,"false","0"),t.transitions.forEach(t=>{this.transitionFactories.push(new pv(e,t,this.states))}),this.fallbackTransition=new pv(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[(e,t)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,n,s){return this.transitionFactories.find(r=>r.match(e,t,n,s))||null}matchStyles(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}}function gv(e,t,n){e.hasOwnProperty(t)?e.hasOwnProperty(n)||(e[n]=e[t]):e.hasOwnProperty(n)&&(e[t]=e[n])}const yv=new J_;class _v{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(e,t){const n=[],s=q_(this._driver,t,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[e]=s}_buildPlayer(e,t,n){const s=e.element,r=qy(0,this._normalizer,0,e.keyframes,t,n);return this._driver.animate(s,r,e.duration,e.delay,e.easing,[],!0)}create(e,t,n={}){const s=[],r=this._animations[e];let i;const o=new Map;if(r?(i=tv(this._driver,t,r,u_,h_,{},{},n,yv,s)).forEach(e=>{const t=Qy(o,e.element,{});e.postStyleProps.forEach(e=>t[e]=null)}):(s.push("The requested animation doesn't exist or has already been destroyed"),i=[]),s.length)throw new Error(`Unable to create the animation due to the following errors: ${s.join("\n")}`);o.forEach((e,t)=>{Object.keys(e).forEach(n=>{e[n]=this._driver.computeStyle(t,n,Dy)})});const l=Hy(i.map(e=>{const t=o.get(e.element);return this._buildPlayer(e,{},t)}));return this._playersById[e]=l,l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,n,s){const r=Gy(t,"","","");return zy(this._getPlayer(e),n,r,s),()=>{}}command(e,t,n,s){if("register"==n)return void this.register(e,s[0]);if("create"==n)return void this.create(e,t,s[0]||{});const r=this._getPlayer(e);switch(n){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(s[0]));break;case"destroy":this.destroy(e)}}}const vv="ng-animate-queued",bv=".ng-animate-queued",wv="ng-animate-disabled",Cv=".ng-animate-disabled",Sv="ng-star-inserted",xv=".ng-star-inserted",Ev=[],Tv={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},kv={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Iv="__ng_removed";class Ov{constructor(e,t=""){this.namespaceId=t;const n=e&&e.hasOwnProperty("value");if(this.value=null!=(s=n?e.value:e)?s:null,n){const t=v_(e);delete t.value,this.options=t}else this.options={};var s;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const e=this.options.params;Object.keys(t).forEach(n=>{null==e[n]&&(e[n]=t[n])})}}}const Av="void",Pv=new Ov(Av);class Rv{constructor(e,t,n){this.id=e,this.hostElement=t,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,jv(t,this._hostClassName)}listen(e,t,n,s){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${t}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if("start"!=(r=n)&&"done"!=r)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${t}" is not supported!`);var r;const i=Qy(this._elementListeners,e,[]),o={name:t,phase:n,callback:s};i.push(o);const l=Qy(this._engine.statesByElement,e,{});return l.hasOwnProperty(t)||(jv(e,d_),jv(e,d_+"-"+t),l[t]=Pv),()=>{this._engine.afterFlush(()=>{const e=i.indexOf(o);e>=0&&i.splice(e,1),this._triggers[t]||delete l[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,n,s=!0){const r=this._getTrigger(t),i=new Dv(this.id,t,e);let o=this._engine.statesByElement.get(e);o||(jv(e,d_),jv(e,d_+"-"+t),this._engine.statesByElement.set(e,o={}));let l=o[t];const a=new Ov(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&l&&a.absorbOptions(l.options),o[t]=a,l||(l=Pv),a.value!==Av&&l.value===a.value){if(!function(e,t){const n=Object.keys(e),s=Object.keys(t);if(n.length!=s.length)return!1;for(let r=0;r<n.length;r++){const s=n[r];if(!t.hasOwnProperty(s)||e[s]!==t[s])return!1}return!0}(l.params,a.params)){const t=[],n=r.matchStyles(l.value,l.params,t),s=r.matchStyles(a.value,a.params,t);t.length?this._engine.reportError(t):this._engine.afterFlush(()=>{x_(e,n),S_(e,s)})}return}const c=Qy(this._engine.playersByElement,e,[]);c.forEach(e=>{e.namespaceId==this.id&&e.triggerName==t&&e.queued&&e.destroy()});let u=r.matchTransition(l.value,a.value,e,a.params),h=!1;if(!u){if(!s)return;u=r.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:u,fromState:l,toState:a,player:i,isFallbackTransition:h}),h||(jv(e,vv),i.onStart(()=>{$v(e,vv)})),i.onDone(()=>{let t=this.players.indexOf(i);t>=0&&this.players.splice(t,1);const n=this._engine.playersByElement.get(e);if(n){let e=n.indexOf(i);e>=0&&n.splice(e,1)}}),this.players.push(i),c.push(i),i}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,n)=>{delete t[e]}),this._elementListeners.forEach((t,n)=>{this._elementListeners.set(n,t.filter(t=>t.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(e=>e.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t,n=!1){this._engine.driver.query(e,p_,!0).forEach(e=>{if(e[Iv])return;const n=this._engine.fetchNamespacesByElement(e);n.size?n.forEach(n=>n.triggerLeaveAnimation(e,t,!1,!0)):this.clearElementCache(e)})}triggerLeaveAnimation(e,t,n,s){const r=this._engine.statesByElement.get(e);if(r){const i=[];if(Object.keys(r).forEach(t=>{if(this._triggers[t]){const n=this.trigger(e,t,Av,s);n&&i.push(n)}}),i.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),n&&Hy(i).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e);if(t){const n=new Set;t.forEach(t=>{const s=t.name;if(n.has(s))return;n.add(s);const r=this._triggers[s].fallbackTransition,i=this._engine.statesByElement.get(e)[s]||Pv,o=new Ov(Av),l=new Dv(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:r,fromState:i,toState:o,player:l,isFallbackTransition:!0})})}}removeNode(e,t){const n=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t,!0),this.triggerLeaveAnimation(e,t,!0))return;let s=!1;if(n.totalAnimations){const t=n.players.length?n.playersByQueriedElement.get(e):[];if(t&&t.length)s=!0;else{let t=e;for(;t=t.parentNode;)if(n.statesByElement.get(t)){s=!0;break}}}this.prepareLeaveAnimationListeners(e),s?n.markElementAsRemoved(this.id,e,!1,t):(n.afterFlush(()=>this.clearElementCache(e)),n.destroyInnerAnimations(e),n._onRemovalComplete(e,t))}insertNode(e,t){jv(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(n=>{const s=n.player;if(s.destroyed)return;const r=n.element,i=this._elementListeners.get(r);i&&i.forEach(t=>{if(t.name==n.triggerName){const s=Gy(r,n.triggerName,n.fromState.value,n.toState.value);s._data=e,zy(n.player,t.phase,s,t.callback)}}),s.markedForDestroy?this._engine.afterFlush(()=>{s.destroy()}):t.push(n)}),this._queue=[],t.sort((e,t)=>{const n=e.transition.ast.depCount,s=t.transition.ast.depCount;return 0==n||0==s?n-s:this._engine.driver.containsElement(e.element,t.element)?1:-1})}destroy(e){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),!!this._queue.find(t=>t.element===e)||t}}class Nv{constructor(e,t,n){this.bodyNode=e,this.driver=t,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(e,t)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(t=>{t.queued&&e.push(t)})}),e}createNamespace(e,t){const n=new Rv(e,t,this);return t.parentNode?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}_balanceNamespaceList(e,t){const n=this._namespaceList.length-1;if(n>=0){let s=!1;for(let r=n;r>=0;r--)if(this.driver.containsElement(this._namespaceList[r].hostElement,t)){this._namespaceList.splice(r+1,0,e),s=!0;break}s||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}registerTrigger(e,t,n){let s=this._namespaceLookup[e];s&&s.register(t,n)&&this.totalAnimations++}destroy(e,t){if(!e)return;const n=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[e];const t=this._namespaceList.indexOf(n);t>=0&&this._namespaceList.splice(t,1)}),this.afterFlushAnimationsDone(()=>n.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,n=this.statesByElement.get(e);if(n){const e=Object.keys(n);for(let s=0;s<e.length;s++){const r=n[e[s]].namespaceId;if(r){const e=this._fetchNamespace(r);e&&t.add(e)}}}return t}trigger(e,t,n,s){if(Mv(t)){const r=this._fetchNamespace(e);if(r)return r.trigger(t,n,s),!0}return!1}insertNode(e,t,n,s){if(!Mv(t))return;const r=t[Iv];if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;const e=this.collectedLeaveElements.indexOf(t);e>=0&&this.collectedLeaveElements.splice(e,1)}if(e){const s=this._fetchNamespace(e);s&&s.insertNode(t,n)}s&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),jv(e,wv)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),$v(e,wv))}removeNode(e,t,n,s){if(Mv(t)){const r=e?this._fetchNamespace(e):null;if(r?r.removeNode(t,s):this.markElementAsRemoved(e,t,!1,s),n){const n=this.namespacesByHostElement.get(t);n&&n.id!==e&&n.removeNode(t,s)}}else this._onRemovalComplete(t,s)}markElementAsRemoved(e,t,n,s){this.collectedLeaveElements.push(t),t[Iv]={namespaceId:e,setForRemoval:s,hasAnimation:n,removedBeforeQueried:!1}}listen(e,t,n,s,r){return Mv(t)?this._fetchNamespace(e).listen(t,n,s,r):()=>{}}_buildInstruction(e,t,n,s,r){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,s,e.fromState.options,e.toState.options,t,r)}destroyInnerAnimations(e){let t=this.driver.query(e,p_,!0);t.forEach(e=>this.destroyActiveAnimationsForElement(e)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,m_,!0)).forEach(e=>this.finishActiveQueriedAnimationOnElement(e))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(e=>{e.queued?e.markedForDestroy=!0:e.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(e=>e.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Hy(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Iv];if(t&&t.setForRemoval){if(e[Iv]=Tv,t.namespaceId){this.destroyInnerAnimations(e);const n=this._fetchNamespace(t.namespaceId);n&&n.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,Cv)&&this.markElementAsDisabled(e,!1),this.driver.query(e,Cv,!0).forEach(e=>{this.markElementAsDisabled(e,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((e,t)=>this._balanceNamespaceList(e,t)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)jv(this.collectedEnterElements[n],Sv);if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{t=this._flushAnimations(n,e)}finally{for(let e=0;e<n.length;e++)n[e]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(e=>e()),this._flushFns=[],this._whenQuietFns.length){const e=this._whenQuietFns;this._whenQuietFns=[],t.length?Hy(t).onDone(()=>{e.forEach(e=>e())}):e.forEach(e=>e())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const n=new J_,s=[],r=new Map,i=[],o=new Map,l=new Map,a=new Map,c=new Set;this.disabledNodes.forEach(e=>{c.add(e);const t=this.driver.query(e,bv,!0);for(let n=0;n<t.length;n++)c.add(t[n])});const u=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=Vv(h,this.collectedEnterElements),p=new Map;let f=0;d.forEach((e,t)=>{const n=u_+f++;p.set(t,n),e.forEach(e=>jv(e,n))});const m=[],g=new Set,y=new Set;for(let A=0;A<this.collectedLeaveElements.length;A++){const e=this.collectedLeaveElements[A],t=e[Iv];t&&t.setForRemoval&&(m.push(e),g.add(e),t.hasAnimation?this.driver.query(e,xv,!0).forEach(e=>g.add(e)):y.add(e))}const _=new Map,v=Vv(h,Array.from(g));v.forEach((e,t)=>{const n=h_+f++;_.set(t,n),e.forEach(e=>jv(e,n))}),e.push(()=>{d.forEach((e,t)=>{const n=p.get(t);e.forEach(e=>$v(e,n))}),v.forEach((e,t)=>{const n=_.get(t);e.forEach(e=>$v(e,n))}),m.forEach(e=>{this.processLeaveNode(e)})});const b=[],w=[];for(let A=this._namespaceList.length-1;A>=0;A--)this._namespaceList[A].drainQueuedTransitions(t).forEach(e=>{const t=e.player,r=e.element;if(b.push(t),this.collectedEnterElements.length){const e=r[Iv];if(e&&e.setForMove)return void t.destroy()}const c=!u||!this.driver.containsElement(u,r),h=_.get(r),d=p.get(r),f=this._buildInstruction(e,n,d,h,c);if(!f.errors||!f.errors.length)return c?(t.onStart(()=>x_(r,f.fromStyles)),t.onDestroy(()=>S_(r,f.toStyles)),void s.push(t)):e.isFallbackTransition?(t.onStart(()=>x_(r,f.fromStyles)),t.onDestroy(()=>S_(r,f.toStyles)),void s.push(t)):(f.timelines.forEach(e=>e.stretchStartingKeyframe=!0),n.append(r,f.timelines),i.push({instruction:f,player:t,element:r}),f.queriedElements.forEach(e=>Qy(o,e,[]).push(t)),f.preStyleProps.forEach((e,t)=>{const n=Object.keys(e);if(n.length){let e=l.get(t);e||l.set(t,e=new Set),n.forEach(t=>e.add(t))}}),void f.postStyleProps.forEach((e,t)=>{const n=Object.keys(e);let s=a.get(t);s||a.set(t,s=new Set),n.forEach(e=>s.add(e))}));w.push(f)});if(w.length){const e=[];w.forEach(t=>{e.push(`@${t.triggerName} has failed due to:\n`),t.errors.forEach(t=>e.push(`- ${t}\n`))}),b.forEach(e=>e.destroy()),this.reportError(e)}const C=new Map,S=new Map;i.forEach(e=>{const t=e.element;n.has(t)&&(S.set(t,t),this._beforeAnimationBuild(e.player.namespaceId,e.instruction,C))}),s.forEach(e=>{const t=e.element;this._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach(e=>{Qy(C,t,[]).push(e),e.destroy()})});const x=m.filter(e=>qv(e,l,a)),E=new Map;Lv(E,this.driver,y,a,Dy).forEach(e=>{qv(e,l,a)&&x.push(e)});const T=new Map;d.forEach((e,t)=>{Lv(T,this.driver,new Set(e),l,jy)}),x.forEach(e=>{const t=E.get(e),n=T.get(e);E.set(e,Object.assign({},t,n))});const k=[],I=[],O={};i.forEach(e=>{const{element:t,player:i,instruction:o}=e;if(n.has(t)){if(c.has(t))return i.onDestroy(()=>S_(t,o.toStyles)),i.disabled=!0,i.overrideTotalTime(o.totalTime),void s.push(i);let e=O;if(S.size>1){let n=t;const s=[];for(;n=n.parentNode;){const t=S.get(n);if(t){e=t;break}s.push(n)}s.forEach(t=>S.set(t,e))}const n=this._buildAnimation(i.namespaceId,o,C,r,T,E);if(i.setRealPlayer(n),e===O)k.push(i);else{const t=this.playersByElement.get(e);t&&t.length&&(i.parentPlayer=Hy(t)),s.push(i)}}else x_(t,o.fromStyles),i.onDestroy(()=>S_(t,o.toStyles)),I.push(i),c.has(t)&&s.push(i)}),I.forEach(e=>{const t=r.get(e.element);if(t&&t.length){const n=Hy(t);e.setRealPlayer(n)}}),s.forEach(e=>{e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()});for(let A=0;A<m.length;A++){const e=m[A],t=e[Iv];if($v(e,h_),t&&t.hasAnimation)continue;let n=[];if(o.size){let t=o.get(e);t&&t.length&&n.push(...t);let s=this.driver.query(e,m_,!0);for(let e=0;e<s.length;e++){let t=o.get(s[e]);t&&t.length&&n.push(...t)}}const s=n.filter(e=>!e.destroyed);s.length?Hv(this,e,s):this.processLeaveNode(e)}return m.length=0,k.forEach(e=>{this.players.push(e),e.onDone(()=>{e.destroy();const t=this.players.indexOf(e);this.players.splice(t,1)}),e.play()}),k}elementContainsData(e,t){let n=!1;const s=t[Iv];return s&&s.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,n,s,r){let i=[];if(t){const t=this.playersByQueriedElement.get(e);t&&(i=t)}else{const t=this.playersByElement.get(e);if(t){const e=!r||r==Av;t.forEach(t=>{t.queued||(e||t.triggerName==s)&&i.push(t)})}}return(n||s)&&(i=i.filter(e=>!(n&&n!=e.namespaceId||s&&s!=e.triggerName))),i}_beforeAnimationBuild(e,t,n){const s=t.element,r=t.isRemovalTransition?void 0:e,i=t.isRemovalTransition?void 0:t.triggerName;for(const o of t.timelines){const e=o.element,l=e!==s,a=Qy(n,e,[]);this._getPreviousPlayers(e,l,r,i,t.toState).forEach(e=>{const t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),a.push(e)})}x_(s,t.fromStyles)}_buildAnimation(e,t,n,s,r,i){const o=t.triggerName,l=t.element,a=[],c=new Set,u=new Set,h=t.timelines.map(t=>{const h=t.element;c.add(h);const d=h[Iv];if(d&&d.removedBeforeQueried)return new Vy(t.duration,t.delay);const p=h!==l,f=function(e){const t=[];return function e(t,n){for(let s=0;s<t.length;s++){const r=t[s];r instanceof Uy?e(r.players,n):n.push(r)}}(e,t),t}((n.get(h)||Ev).map(e=>e.getRealPlayer())).filter(e=>!!e.element&&e.element===h),m=r.get(h),g=i.get(h),y=qy(0,this._normalizer,0,t.keyframes,m,g),_=this._buildPlayer(t,y,f);if(t.subTimeline&&s&&u.add(h),p){const t=new Dv(e,o,h);t.setRealPlayer(_),a.push(t)}return _});a.forEach(e=>{Qy(this.playersByQueriedElement,e.element,[]).push(e),e.onDone(()=>(function(e,t,n){let s;if(e instanceof Map){if(s=e.get(t)){if(s.length){const e=s.indexOf(n);s.splice(e,1)}0==s.length&&e.delete(t)}}else if(s=e[t]){if(s.length){const e=s.indexOf(n);s.splice(e,1)}0==s.length&&delete e[t]}return s})(this.playersByQueriedElement,e.element,e))}),c.forEach(e=>jv(e,f_));const d=Hy(h);return d.onDestroy(()=>{c.forEach(e=>$v(e,f_)),S_(l,t.toStyles)}),u.forEach(e=>{Qy(s,e,[]).push(d)}),d}_buildPlayer(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new Vy(e.duration,e.delay)}}class Dv{constructor(e,t,n){this.namespaceId=e,this.triggerName=t,this.element=n,this._player=new Vy,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(n=>zy(e,t,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Qy(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Mv(e){return e&&1===e.nodeType}function Fv(e,t){const n=e.style.display;return e.style.display=null!=t?t:"none",n}function Lv(e,t,n,s,r){const i=[];n.forEach(e=>i.push(Fv(e)));const o=[];s.forEach((n,s)=>{const i={};n.forEach(e=>{const n=i[e]=t.computeStyle(s,e,r);n&&0!=n.length||(s[Iv]=kv,o.push(s))}),e.set(s,i)});let l=0;return n.forEach(e=>Fv(e,i[l++])),o}function Vv(e,t){const n=new Map;if(e.forEach(e=>n.set(e,[])),0==t.length)return n;const s=new Set(t),r=new Map;return t.forEach(e=>{const t=function e(t){if(!t)return 1;let i=r.get(t);if(i)return i;const o=t.parentNode;return i=n.has(o)?o:s.has(o)?1:e(o),r.set(t,i),i}(e);1!==t&&n.get(t).push(e)}),n}const Uv="$$classes";function jv(e,t){if(e.classList)e.classList.add(t);else{let n=e[Uv];n||(n=e[Uv]={}),n[t]=!0}}function $v(e,t){if(e.classList)e.classList.remove(t);else{let n=e[Uv];n&&delete n[t]}}function Hv(e,t,n){Hy(n).onDone(()=>e.processLeaveNode(t))}function qv(e,t,n){const s=n.get(e);if(!s)return!1;let r=t.get(e);return r?s.forEach(e=>r.add(e)):t.set(e,s),n.delete(e),!0}class zv{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._triggerCache={},this.onRemovalComplete=(e,t)=>{},this._transitionEngine=new Nv(e,t,n),this._timelineEngine=new _v(e,t,n),this._transitionEngine.onRemovalComplete=(e,t)=>this.onRemovalComplete(e,t)}registerTrigger(e,t,n,s,r){const i=e+"-"+s;let o=this._triggerCache[i];if(!o){const e=[],t=q_(this._driver,r,e);if(e.length)throw new Error(`The animation trigger "${s}" has failed to build due to the following errors:\n - ${e.join("\n - ")}`);o=function(e,t){return new mv(e,t)}(s,t),this._triggerCache[i]=o}this._transitionEngine.registerTrigger(t,s,o)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,n,s){this._transitionEngine.insertNode(e,t,n,s)}onRemove(e,t,n,s){this._transitionEngine.removeNode(e,t,s||!1,n)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,n,s){if("@"==n.charAt(0)){const[e,r]=Ky(n);this._timelineEngine.command(e,t,r,s)}else this._transitionEngine.trigger(e,t,n,s)}listen(e,t,n,s,r){if("@"==n.charAt(0)){const[e,s]=Ky(n);return this._timelineEngine.listen(e,t,s,r)}return this._transitionEngine.listen(e,t,n,s,r)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Bv(e,t){let n=null,s=null;return Array.isArray(t)&&t.length?(n=Qv(t[0]),t.length>1&&(s=Qv(t[t.length-1]))):t&&(n=Qv(t)),n||s?new Gv(e,n,s):null}let Gv=(()=>{class e{constructor(t,n,s){this._element=t,this._startStyles=n,this._endStyles=s,this._state=0;let r=e.initialStylesByElement.get(t);r||e.initialStylesByElement.set(t,r={}),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&S_(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(S_(this._element,this._initialStyles),this._endStyles&&(S_(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(x_(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(x_(this._element,this._endStyles),this._endStyles=null),S_(this._element,this._initialStyles),this._state=3)}}return e.initialStylesByElement=new WeakMap,e})();function Qv(e){let t=null;const n=Object.keys(e);for(let s=0;s<n.length;s++){const r=n[s];Kv(r)&&((t=t||{})[r]=e[r])}return t}function Kv(e){return"display"===e||"position"===e}const Wv=3,Zv="animation",Jv="animationend",Yv=1e3;class Xv{constructor(e,t,n,s,r,i,o){this._element=e,this._name=t,this._duration=n,this._delay=s,this._easing=r,this._fillMode=i,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=e=>this._handleCallback(e)}apply(){!function(e,t){const n=ib(e,"").trim();n.length&&(function(e,t){let n=0;for(let s=0;s<e.length;s++)","===e.charAt(s)&&n++}(n),t=`${n}, ${t}`),rb(e,"",t)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),sb(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){eb(this._element,this._name,"paused")}resume(){eb(this._element,this._name,"running")}setPosition(e){const t=tb(this._element,this._name);this._position=e*this._duration,rb(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),n=parseFloat(e.elapsedTime.toFixed(Wv))*Yv;e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),sb(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(e,t){const n=ib(e,"").split(","),s=nb(n,t);s>=0&&(n.splice(s,1),rb(e,"",n.join(",")))}(this._element,this._name))}}function eb(e,t,n){rb(e,"PlayState",n,tb(e,t))}function tb(e,t){const n=ib(e,"");return n.indexOf(",")>0?nb(n.split(","),t):nb([n],t)}function nb(e,t){for(let n=0;n<e.length;n++)if(e[n].indexOf(t)>=0)return n;return-1}function sb(e,t,n){n?e.removeEventListener(Jv,t):e.addEventListener(Jv,t)}function rb(e,t,n,s){const r=Zv+t;if(null!=s){const t=e.style[r];if(t.length){const e=t.split(",");e[s]=n,n=e.join(",")}}e.style[r]=n}function ib(e,t){return e.style[Zv+t]}const ob="forwards",lb="linear";class ab{constructor(e,t,n,s,r,i,o,l){this.element=e,this.keyframes=t,this.animationName=n,this._duration=s,this._delay=r,this._finalStyles=o,this._specialStyles=l,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=i||lb,this.totalTime=s+r,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Xv(this.element,this.animationName,this._duration,this._delay,this.easing,ob,()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(e[n]=t?this._finalStyles[n]:M_(this.element,n))})}this.currentSnapshot=e}}class cb extends Vy{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=i_(t)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}const ub="gen_css_kf_",hb=" ";class db{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(e){return t_(e)}matchesElement(e,t){return n_(e,t)}containsElement(e,t){return s_(e,t)}query(e,t,n){return r_(e,t,n)}computeStyle(e,t,n){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,n){n=n.map(e=>i_(e));let s=`@keyframes ${t} {\n`,r="";n.forEach(e=>{r=hb;const t=parseFloat(e.offset);s+=`${r}${100*t}% {\n`,r+=hb,Object.keys(e).forEach(t=>{const n=e[t];switch(t){case"offset":return;case"easing":return void(n&&(s+=`${r}animation-timing-function: ${n};\n`));default:return void(s+=`${r}${t}: ${n};\n`)}}),s+=`${r}}\n`}),s+="}\n";const i=document.createElement("style");return i.innerHTML=s,i}animate(e,t,n,s,r,i=[],o){o&&this._notifyFaultyScrubber();const l=i.filter(e=>e instanceof ab),a={};R_(n,s)&&l.forEach(e=>{let t=e.currentSnapshot;Object.keys(t).forEach(e=>a[e]=t[e])});const c=function(e){let t={};return e&&(Array.isArray(e)?e:[e]).forEach(e=>{Object.keys(e).forEach(n=>{"offset"!=n&&"easing"!=n&&(t[n]=e[n])})}),t}(t=N_(e,t,a));if(0==n)return new cb(e,c);const u=`${ub}${this._count++}`,h=this.buildKeyframeElement(e,u,t);document.querySelector("head").appendChild(h);const d=Bv(e,t),p=new ab(e,t,u,n,s,r,c,d);return p.onDestroy(()=>(function(e){e.parentNode.removeChild(e)})(h)),p}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class pb{constructor(e,t,n,s){this.element=e,this.keyframes=t,this.options=n,this._specialStyles=s,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,n){return e.animate(t,n)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:M_(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class fb{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(mb().toString()),this._cssKeyframesDriver=new db}validateStyleProperty(e){return t_(e)}matchesElement(e,t){return n_(e,t)}containsElement(e,t){return s_(e,t)}query(e,t,n){return r_(e,t,n)}computeStyle(e,t,n){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,n,s,r,i=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,n,s,r,i);const l={duration:n,delay:s,fill:0==s?"both":"forwards"};r&&(l.easing=r);const a={},c=i.filter(e=>e instanceof pb);R_(n,s)&&c.forEach(e=>{let t=e.currentSnapshot;Object.keys(t).forEach(e=>a[e]=t[e])});const u=Bv(e,t=N_(e,t=t.map(e=>b_(e,!1)),a));return new pb(e,t,l,u)}}function mb(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}class gb extends Ry{constructor(e,t){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(t.body,{id:"0",encapsulation:Je.None,styles:[],data:{animation:[]}})}build(e){const t=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(e)?My(e):e;return vb(this._renderer,null,t,"register",[n]),new yb(t,this._renderer)}}class yb extends Ny{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new _b(this._id,e,t||{},this._renderer)}}class _b{constructor(e,t,n,s){this.id=e,this.element=t,this._renderer=s,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return vb(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(e){this._command("setPosition",e)}getPosition(){return 0}}function vb(e,t,n,s,r){return e.setProperty(t,`@@${n}:${s}`,r)}const bb="@",wb="@.disabled";class Cb{constructor(e,t,n){this.delegate=e,this.engine=t,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),t.onRemovalComplete=(e,t)=>{t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)}}createRenderer(e,t){const n=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){let e=this._rendererCache.get(n);return e||(e=new Sb("",n,this.engine),this._rendererCache.set(n,e)),e}const s=t.id,r=t.id+"-"+this._currentId;return this._currentId++,this.engine.register(r,e),t.data.animation.forEach(t=>this.engine.registerTrigger(s,r,e,t.name,t)),new xb(this,r,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,n){e>=0&&e<this._microtaskId?this._zone.run(()=>t(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(e=>{const[t,n]=e;t(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([t,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}class Sb{constructor(e,t,n){this.namespaceId=e,this.delegate=t,this.engine=n,this.destroyNode=this.delegate.destroyNode?e=>t.destroyNode(e):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,n){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,!0)}removeChild(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate,n)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,n,s){this.delegate.setAttribute(e,t,n,s)}removeAttribute(e,t,n){this.delegate.removeAttribute(e,t,n)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,n,s){this.delegate.setStyle(e,t,n,s)}removeStyle(e,t,n){this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){t.charAt(0)==bb&&t==wb?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,n){return this.delegate.listen(e,t,n)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class xb extends Sb{constructor(e,t,n,s){super(t,n,s),this.factory=e,this.namespaceId=t}setProperty(e,t,n){t.charAt(0)==bb?"."==t.charAt(1)&&t==wb?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,t.substr(1),n):this.delegate.setProperty(e,t,n)}listen(e,t,n){if(t.charAt(0)==bb){const s=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e);let r=t.substr(1),i="";return r.charAt(0)!=bb&&([r,i]=function(e){const t=e.indexOf(".");return[e.substring(0,t),e.substr(t+1)]}(r)),this.engine.listen(this.namespaceId,s,r,i,e=>{this.factory.scheduleListenerCallback(e._data||-1,n,e)})}return this.delegate.listen(e,t,n)}}class Eb extends zv{constructor(e,t,n){super(e.body,t,n)}}function Tb(){return"function"==typeof mb()?new fb:new db}function kb(){return new cv}function Ib(e,t,n){return new Cb(e,t,n)}const Ob=new Ae("AnimationModuleType");class Ab{}var Pb=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Rb=function(){},Nb=function(){},Db=function(e,t,n,s){var r,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(o=(i<3?r(o):i>3?r(t,n,o):r(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o}([Zt(),Pb("design:paramtypes",[Nb])],(function(e){void 0===e&&(e={}),Object.assign(this,{caseSensitiveSearch:!1,dataEncapsulation:!1,delay:500,delete404:!1,passThruUnknownUrl:!1,post204:!0,post409:!1,put204:!0,put404:!1,apiBase:void 0,host:void 0,rootPath:void 0},e)}));const Mb=[{id:1,key:"deadpool",name:"Deadpool",description:"A former Special Forces operative turned mercenary is subjected to a rogue experiment that leaves him with accelrated healing powers, adopting the alter ego Deadpool.",genres:["action","adventure","comedy"],rate:"8.6",length:"1hr 48mins",img:"https://i.ibb.co/27cqDLt/deadpool.jpg"},{id:2,key:"we-are-the-millers",name:"We're the Millers",description:"A veteran pot dealer creates a fake family as part of his plan to move a huge shipment of weed into the U.S. from Mexico.",genres:["adventure","comedy","crime"],rate:"7.0",length:"1hr 50mins",img:"https://i.ibb.co/cb9C9qZ/we-are-the-millers.jpg"},{id:3,key:"straight-outta-compton",name:"Straight Outta Compton",description:"The group NWA emerges from the mean streets of Compton in Los Angeles, California, in the mid-1980s and revolutionizes Hip Hop culture with their music and tales about life in the hood.",genres:["biography","drama","history"],rate:"8.0",length:"2hr 27mins",img:"https://i.ibb.co/5Bk374V/straight-outta-compton.jpg"},{id:4,key:"gridiron-gang",name:"Gridiron Gang",description:"Teenagers at a juvenile detention center, under the leadership of their counselor, gain self-esteem by playing football together.",genres:["crime","drama","sport"],rate:"6.9",length:"2hr 5mins",img:"https://i.ibb.co/xq6z206/gridiron-gang.jpg"},{id:5,key:"american-gangster",name:"American Gangster",description:"In 1970s America, a detective works to bring down the drug empire of Frank Lucas, a heroin kingpin from Manhattan, who is smuggling the drug into the country from the Far East.",genres:["biography","crime","drama"],rate:"7.8",length:"2hr 37mins",img:"https://i.ibb.co/p0qHwsr/american-gangster.jpg"},{id:6,key:"gangster-squad",name:"Gangster Squad",description:"It's 1949 Los Angeles, the city is run by gangsters and a malicious mobster, Mickey Cohen. Determined to end the corruption, John O'Mara assembles a team of cops, ready to take down the ruthless leader and restore peace to the city.",genres:["action","crime","drama"],rate:"6.8",length:"1hr 53mins",img:"https://i.ibb.co/F0VCrsG/gangster-squad.jpg"},{id:7,key:"now-you-see-me",name:"Now You See Me",description:"An FBI agent and an Interpol detective track a team of illusionists who pull off bank heists during their performances and reward their audiences with the money.",genres:["crime","mystery","thriller"],rate:"7.3",length:"1hr 55mins",img:"https://i.ibb.co/7nSnmm5/now-you-see-me.jpg"},{id:8,key:"jurassic-world",name:"Jurassic World",description:"A new theme park is built on the original site of Jurassic Park. Everything is going well until the park's newest attraction--a genetically modified giant stealth killing machine--escapes containment and goes on a killing spree.",genres:["action","adventure","scifi"],rate:"7.1",length:"2hr 4mins",img:"https://i.ibb.co/JrTZv3b/jurassic-world.jpg"},{id:9,key:"mission-impossible-rogue-nation",name:"Mission: Impossible: Rogue Nation",description:"Ethan and team take on their most impossible mission yet, eradicating the Syndicate - an International rogue organization as highly skilled as they are, committed to destroying the IMF.",genres:["action","adventure","thriller"],rate:"7.5",length:"2hr 11mins",img:"https://i.ibb.co/tqvbw8c/mission-impossible-rogue-nation.jpg"},{id:10,key:"the-man-from-uncle",name:"The Man from U.N.C.L.E.",description:"In the early 1960s, CIA agent Napoleon Solo and KGB operative Illya Kuryakin participate in a joint mission against a mysterious criminal organization, which is working to proliferate nuclear weapons.",genres:["action","adventure","thriller"],rate:"7.3",length:"1hr 56mins",img:"https://i.ibb.co/QXd7bmT/the-man-from-uncle.jpg"},{id:10,key:"spectre",name:"Spectre",description:"A cryptic message from Bond's past sends him on a trail to uncover a sinister organization. While M battles political forces to keep the secret service alive, Bond peels back the layers of deceit to reveal the terrible truth behind SPECTRE.",genres:["action","adventure","thriller"],rate:"6.9",length:"2hr 28mins",img:"https://i.ibb.co/mXhNQ4J/spectre.jpg"},{id:11,key:"legend",name:"Legend",description:"The film tells the story of the identical twin gangsters Reggie and Ronnie Kray, two of the most notorious criminals in British history, and their organised crime empire in the East End of London during the 1960s.",genres:["biography","crime","drama"],rate:"7.0",length:"2hr 28mins",img:"https://i.ibb.co/cvCX9BM/legend.jpg"},{id:12,key:"southpaw",name:"Southpaw",description:"Boxer Billy Hope turns to trainer Tick Wills to help him get his life back on track after losing his wife in a tragic accident and his daughter to child protection services.",genres:["action","drama","sport"],rate:"7.5",length:"2hr 4mins",img:"https://i.ibb.co/mTsC6Y5/southpaw.jpg"},{id:13,key:"bridge-of-spies",name:"Bridge of Spies",description:"During the Cold War, an American lawyer is recruited to defend an arrested Soviet spy in court, and then help the CIA facilitate an exchange of the spy for the Soviet captured American U2 spy plane pilot, Francis Gary Powers.",genres:["biography","drama","thriller"],rate:"7.7",length:"2hr 22mins",img:"https://i.ibb.co/6XQQVDY/bridge-of-spies.jpg"},{id:14,key:"ant-man",name:"Ant-Man",description:"Armed with a super-suit with the astonishing ability to shrink in scale but increase in strength, cat burglar Scott Lang must embrace his inner hero and help his mentor, Dr. Hank Pym, plan and pull off a heist that will save the world.",genres:["action","adventure","scifi"],rate:"7.4",length:"1hr 57mins",img:"https://i.ibb.co/zGmR668/ant-man.jpg"},{id:15,key:"fast-and-furious-7",name:"Fast & Furious 7",description:"Deckard Shaw seeks revenge against Dominic Toretto and his family for his comatose brother.",genres:["action","crime","thriller"],rate:"7.3",length:"2hr 17mins",img:"https://i.ibb.co/tH236xz/fast-and-furious-7.jpg"},{id:16,key:"tracers",name:"Tracers",description:"Wanted by the Chinese mafia, a New York City bike messenger escapes into the world of parkour after meeting a beautiful stranger.",genres:["action","crime","drama"],rate:"5.6",length:"1hr 34mins",img:"https://i.ibb.co/Y2mHfn8/tracers.jpg"},{id:17,key:"running-scared",name:"Running Scared",description:"A low-ranking thug is entrusted by his crime boss to dispose of a gun that killed corrupt cops, but things get out of control when the gun ends up in wrong hands.",genres:["action","crime","drama"],rate:"7.4",length:"2hr 2mins",img:"https://i.ibb.co/JCVDFms/running-scared.jpg"},{id:18,key:"the-hangover",name:"The Hangover",description:"Three buddies wake up from a bachelor party in Las Vegas, with no memory of the previous night and the bachelor missing. They make their way around the city in order to find their friend before his wedding.",genres:["comedy"],rate:"7.8",length:"1hr 40mins",img:"https://i.ibb.co/5vnZFjt/the-hangover.jpg"},{id:19,key:"project-x",name:"Project X",description:"3 high school seniors throw a birthday party to make a name for themselves. As the night progresses, things spiral out of control as word of the party spreads.",genres:["comedy","crime"],rate:"6.7",length:"1hr 28mins",img:"https://i.ibb.co/JC63x5W/project-x.jpg"},{id:20,key:"the-dark-knight",name:"The Dark Knight",description:"When the menace known as the Joker wreaks havoc and chaos on the people of Gotham, the caped crusader must come to terms with one of the greatest psychological tests of his ability to fight injustice.",genres:["action","crime","drama"],rate:"9.0",length:"2hr 32mins",img:"https://i.ibb.co/SrB0d9X/the-dark-knight.jpg"},{id:21,key:"the-tournament",name:"The Tournament",description:"Every seven years in an unsuspecting town, The Tournament takes place. A battle royale between 30 of the world's deadliest assassins. The last man standing receiving the $10,000,000 cash prize and the title of Worlds No 1, which itself carries the legendary million dollar a bullet price tag.",genres:["action","thriller"],rate:"6.1",length:"1hr 35mins",img:"https://i.ibb.co/bvM60hk/the-tournament.jpg"},{id:22,key:"the-matrix",name:"The Matrix",description:"A computer hacker learns from mysterious rebels about the true nature of his reality and his role in the war against its controllers.",genres:["action","scifi"],rate:"8.7",length:"2hr 16mins",img:"https://i.ibb.co/Fm7rdvL/the-matrix.jpg"},{id:23,key:"bad-boys",name:"Bad Boys",description:"Two hip detectives protect a murder witness while investigating a case of stolen heroin.",genres:["action","comedy","crime"],rate:"6.8",length:"1hr 59mins",img:"https://i.ibb.co/7V80cSQ/bad-boys.jpg"}];let Fb=(()=>{class e{constructor(){}createDb(){return{movies:Mb,genres:(()=>{let e=[];return Mb.forEach(t=>{t.genres&&Array.isArray(t.genres)&&(e=e.concat(t.genres))}),Array.from(new Set(e))})()}}genId(e){return e.movies.length>0?Math.max(...e.movies.map(e=>e.id))+1:1}}return e.ngInjectableDef=_e({factory:function(){return new e},token:e,providedIn:"root"}),e})();var Lb,Vb={100:{code:100,text:"Continue",description:'"The initial part of a request has been received and has not yet been rejected by the server."',spec_title:"RFC7231#6.2.1",spec_href:"http://tools.ietf.org/html/rfc7231#section-6.2.1"},101:{code:101,text:"Switching Protocols",description:'"The server understands and is willing to comply with the client\'s request, via the Upgrade header field, for a change in the application protocol being used on this connection."',spec_title:"RFC7231#6.2.2",spec_href:"http://tools.ietf.org/html/rfc7231#section-6.2.2"},200:{code:200,text:"OK",description:'"The request has succeeded."',spec_title:"RFC7231#6.3.1",spec_href:"http://tools.ietf.org/html/rfc7231#section-6.3.1"},201:{code:201,text:"Created",description:'"The request has been fulfilled and has resulted in one or more new resources being created."',spec_title:"RFC7231#6.3.2",spec_href:"http://tools.ietf.org/html/rfc7231#section-6.3.2"},202:{code:202,text:"Accepted",description:'"The request has been accepted for processing, but the processing has not been completed."',spec_title:"RFC7231#6.3.3",spec_href:"http://tools.ietf.org/html/rfc7231#section-6.3.3"},203:{code:203,text:"Non-Authoritative Information",description:'"The request was successful but the enclosed payload has been modified from that of the origin server\'s 200 (OK) response by a transforming proxy."',spec_title:"RFC7231#6.3.4",spec_href:"http://tools.ietf.org/html/rfc7231#section-6.3.4"},204:{code:204,text:"No Content",description:'"The server has successfully fulfilled the request and that there is no additional content to send in the response payload body."',spec_title:"RFC7231#6.3.5",spec_href:"http://tools.ietf.org/html/rfc7231#section-6.3.5"},205:{code:205,text:"Reset Content",description:'"The server has fulfilled the request and desires that the user agent reset the "document view", which caused the request to be sent, to its original state as received from the origin server."',spec_title:"RFC7231#6.3.6",spec_href:"http://tools.ietf.org/html/rfc7231#section-6.3.6"},206:{code:206,text:"Partial Content",description:'"The server is successfully fulfilling a range request for the target resource by transferring one or more parts of the selected representation that correspond to the satisfiable ranges found in the requests\'s Range header field."',spec_title:"RFC7233#4.1",spec_href:"http://tools.ietf.org/html/rfc7233#section-4.1"},300:{code:300,text:"Multiple Choices",description:'"The target resource has more than one representation, each with its own more specific identifier, and information about the alternatives is being provided so that the user (or user agent) can select a preferred representation by redirecting its request to one or more of those identifiers."',spec_title:"RFC7231#6.4.1",spec_href:"http://tools.ietf.org/html/rfc7231#section-6.4.1"},301:{code:301,text:"Moved Permanently",description:'"The target resource has been assigned a new permanent URI and any future references to this resource ought to use one of the enclosed URIs."',spec_title:"RFC7231#6.4.2",spec_href:"http://tools.ietf.org/html/rfc7231#section-6.4.2"},302:{code:302,text:"Found",description:'"The target resource resides temporarily under a different URI."',spec_title:"RFC7231#6.4.3",spec_href:"http://tools.ietf.org/html/rfc7231#section-6.4.3"},303:{code:303,text:"See Other",description:'"The server is redirecting the user agent to a different resource, as indicated by a URI in the Location header field, that is intended to provide an indirect response to the original request."',spec_title:"RFC7231#6.4.4",spec_href:"http://tools.ietf.org/html/rfc7231#section-6.4.4"},304:{code:304,text:"Not Modified",description:'"A conditional GET request has been received and would have resulted in a 200 (OK) response if it were not for the fact that the condition has evaluated to false."',spec_title:"RFC7232#4.1",spec_href:"http://tools.ietf.org/html/rfc7232#section-4.1"},305:{code:305,text:"Use Proxy",description:"*deprecated*",spec_title:"RFC7231#6.4.5",spec_href:"http://tools.ietf.org/html/rfc7231#section-6.4.5"},307:{code:307,text:"Temporary Redirect",description:'"The target resource resides temporarily under a different URI and the user agent MUST NOT change the request method if it performs an automatic redirection to that URI."',spec_title:"RFC7231#6.4.7",spec_href:"http://tools.ietf.org/html/rfc7231#section-6.4.7"},400:{code:400,text:"Bad Request",description:'"The server cannot or will not process the request because the received syntax is invalid, nonsensical, or exceeds some limitation on what the server is willing to process."',spec_title:"RFC7231#6.5.1",spec_href:"http://tools.ietf.org/html/rfc7231#section-6.5.1"},401:{code:401,text:"Unauthorized",description:'"The request has not been applied because it lacks valid authentication credentials for the target resource."',spec_title:"RFC7235#6.3.1",spec_href:"http://tools.ietf.org/html/rfc7235#section-3.1"},402:{code:402,text:"Payment Required",description:"*reserved*",spec_title:"RFC7231#6.5.2",spec_href:"http://tools.ietf.org/html/rfc7231#section-6.5.2"},403:{code:403,text:"Forbidden",description:'"The server understood the request but refuses to authorize it."',spec_title:"RFC7231#6.5.3",spec_href:"http://tools.ietf.org/html/rfc7231#section-6.5.3"},404:{code:404,text:"Not Found",description:'"The origin server did not find a current representation for the target resource or is not willing to disclose that one exists."',spec_title:"RFC7231#6.5.4",spec_href:"http://tools.ietf.org/html/rfc7231#section-6.5.4"},405:{code:405,text:"Method Not Allowed",description:'"The method specified in the request-line is known by the origin server but not supported by the target resource."',spec_title:"RFC7231#6.5.5",spec_href:"http://tools.ietf.org/html/rfc7231#section-6.5.5"},406:{code:406,text:"Not Acceptable",description:'"The target resource does not have a current representation that would be acceptable to the user agent, according to the proactive negotiation header fields received in the request, and the server is unwilling to supply a default representation."',spec_title:"RFC7231#6.5.6",spec_href:"http://tools.ietf.org/html/rfc7231#section-6.5.6"},407:{code:407,text:"Proxy Authentication Required",description:'"The client needs to authenticate itself in order to use a proxy."',spec_title:"RFC7231#6.3.2",spec_href:"http://tools.ietf.org/html/rfc7231#section-6.3.2"},408:{code:408,text:"Request Timeout",description:'"The server did not receive a complete request message within the time that it was prepared to wait."',spec_title:"RFC7231#6.5.7",spec_href:"http://tools.ietf.org/html/rfc7231#section-6.5.7"},409:{code:409,text:"Conflict",description:'"The request could not be completed due to a conflict with the current state of the resource."',spec_title:"RFC7231#6.5.8",spec_href:"http://tools.ietf.org/html/rfc7231#section-6.5.8"},410:{code:410,text:"Gone",description:'"Access to the target resource is no longer available at the origin server and that this condition is likely to be permanent."',spec_title:"RFC7231#6.5.9",spec_href:"http://tools.ietf.org/html/rfc7231#section-6.5.9"},411:{code:411,text:"Length Required",description:'"The server refuses to accept the request without a defined Content-Length."',spec_title:"RFC7231#6.5.10",spec_href:"http://tools.ietf.org/html/rfc7231#section-6.5.10"},412:{code:412,text:"Precondition Failed",description:'"One or more preconditions given in the request header fields evaluated to false when tested on the server."',spec_title:"RFC7232#4.2",spec_href:"http://tools.ietf.org/html/rfc7232#section-4.2"},413:{code:413,text:"Payload Too Large",description:'"The server is refusing to process a request because the request payload is larger than the server is willing or able to process."',spec_title:"RFC7231#6.5.11",spec_href:"http://tools.ietf.org/html/rfc7231#section-6.5.11"},414:{code:414,text:"URI Too Long",description:'"The server is refusing to service the request because the request-target is longer than the server is willing to interpret."',spec_title:"RFC7231#6.5.12",spec_href:"http://tools.ietf.org/html/rfc7231#section-6.5.12"},415:{code:415,text:"Unsupported Media Type",description:'"The origin server is refusing to service the request because the payload is in a format not supported by the target resource for this method."',spec_title:"RFC7231#6.5.13",spec_href:"http://tools.ietf.org/html/rfc7231#section-6.5.13"},416:{code:416,text:"Range Not Satisfiable",description:'"None of the ranges in the request\'s Range header field overlap the current extent of the selected resource or that the set of ranges requested has been rejected due to invalid ranges or an excessive request of small or overlapping ranges."',spec_title:"RFC7233#4.4",spec_href:"http://tools.ietf.org/html/rfc7233#section-4.4"},417:{code:417,text:"Expectation Failed",description:'"The expectation given in the request\'s Expect header field could not be met by at least one of the inbound servers."',spec_title:"RFC7231#6.5.14",spec_href:"http://tools.ietf.org/html/rfc7231#section-6.5.14"},418:{code:418,text:"I'm a teapot",description:'"1988 April Fools Joke. Returned by tea pots requested to brew coffee."',spec_title:"RFC 2324",spec_href:"https://tools.ietf.org/html/rfc2324"},426:{code:426,text:"Upgrade Required",description:'"The server refuses to perform the request using the current protocol but might be willing to do so after the client upgrades to a different protocol."',spec_title:"RFC7231#6.5.15",spec_href:"http://tools.ietf.org/html/rfc7231#section-6.5.15"},500:{code:500,text:"Internal Server Error",description:'"The server encountered an unexpected condition that prevented it from fulfilling the request."',spec_title:"RFC7231#6.6.1",spec_href:"http://tools.ietf.org/html/rfc7231#section-6.6.1"},501:{code:501,text:"Not Implemented",description:'"The server does not support the functionality required to fulfill the request."',spec_title:"RFC7231#6.6.2",spec_href:"http://tools.ietf.org/html/rfc7231#section-6.6.2"},502:{code:502,text:"Bad Gateway",description:'"The server, while acting as a gateway or proxy, received an invalid response from an inbound server it accessed while attempting to fulfill the request."',spec_title:"RFC7231#6.6.3",spec_href:"http://tools.ietf.org/html/rfc7231#section-6.6.3"},503:{code:503,text:"Service Unavailable",description:'"The server is currently unable to handle the request due to a temporary overload or scheduled maintenance, which will likely be alleviated after some delay."',spec_title:"RFC7231#6.6.4",spec_href:"http://tools.ietf.org/html/rfc7231#section-6.6.4"},504:{code:504,text:"Gateway Time-out",description:'"The server, while acting as a gateway or proxy, did not receive a timely response from an upstream server it needed to access in order to complete the request."',spec_title:"RFC7231#6.6.5",spec_href:"http://tools.ietf.org/html/rfc7231#section-6.6.5"},505:{code:505,text:"HTTP Version Not Supported",description:'"The server does not support, or refuses to support, the protocol version that was used in the request message."',spec_title:"RFC7231#6.6.6",spec_href:"http://tools.ietf.org/html/rfc7231#section-6.6.6"},102:{code:102,text:"Processing",description:'"An interim response to inform the client that the server has accepted the complete request, but has not yet completed it."',spec_title:"RFC5218#10.1",spec_href:"http://tools.ietf.org/html/rfc2518#section-10.1"},207:{code:207,text:"Multi-Status",description:'"Status for multiple independent operations."',spec_title:"RFC5218#10.2",spec_href:"http://tools.ietf.org/html/rfc2518#section-10.2"},226:{code:226,text:"IM Used",description:'"The server has fulfilled a GET request for the resource, and the response is a representation of the result of one or more instance-manipulations applied to the current instance."',spec_title:"RFC3229#10.4.1",spec_href:"http://tools.ietf.org/html/rfc3229#section-10.4.1"},308:{code:308,text:"Permanent Redirect",description:'"The target resource has been assigned a new permanent URI and any future references to this resource SHOULD use one of the returned URIs. [...] This status code is similar to 301 Moved Permanently (Section 7.3.2 of rfc7231), except that it does not allow rewriting the request method from POST to GET."',spec_title:"RFC7238",spec_href:"http://tools.ietf.org/html/rfc7238"},422:{code:422,text:"Unprocessable Entity",description:'"The server understands the content type of the request entity (hence a 415(Unsupported Media Type) status code is inappropriate), and the syntax of the request entity is correct (thus a 400 (Bad Request) status code is inappropriate) but was unable to process the contained instructions."',spec_title:"RFC5218#10.3",spec_href:"http://tools.ietf.org/html/rfc2518#section-10.3"},423:{code:423,text:"Locked",description:'"The source or destination resource of a method is locked."',spec_title:"RFC5218#10.4",spec_href:"http://tools.ietf.org/html/rfc2518#section-10.4"},424:{code:424,text:"Failed Dependency",description:'"The method could not be performed on the resource because the requested action depended on another action and that action failed."',spec_title:"RFC5218#10.5",spec_href:"http://tools.ietf.org/html/rfc2518#section-10.5"},428:{code:428,text:"Precondition Required",description:'"The origin server requires the request to be conditional."',spec_title:"RFC6585#3",spec_href:"http://tools.ietf.org/html/rfc6585#section-3"},429:{code:429,text:"Too Many Requests",description:'"The user has sent too many requests in a given amount of time ("rate limiting")."',spec_title:"RFC6585#4",spec_href:"http://tools.ietf.org/html/rfc6585#section-4"},431:{code:431,text:"Request Header Fields Too Large",description:'"The server is unwilling to process the request because its header fields are too large."',spec_title:"RFC6585#5",spec_href:"http://tools.ietf.org/html/rfc6585#section-5"},451:{code:451,text:"Unavailable For Legal Reasons",description:'"The server is denying access to the resource in response to a legal demand."',spec_title:"draft-ietf-httpbis-legally-restricted-status",spec_href:"http://tools.ietf.org/html/draft-ietf-httpbis-legally-restricted-status"},506:{code:506,text:"Variant Also Negotiates",description:'"The server has an internal configuration error: the chosen variant resource is configured to engage in transparent content negotiation itself, and is therefore not a proper end point in the negotiation process."',spec_title:"RFC2295#8.1",spec_href:"http://tools.ietf.org/html/rfc2295#section-8.1"},507:{code:507,text:"Insufficient Storage",description:'The method could not be performed on the resource because the server is unable to store the representation needed to successfully complete the request."',spec_title:"RFC5218#10.6",spec_href:"http://tools.ietf.org/html/rfc2518#section-10.6"},511:{code:511,text:"Network Authentication Required",description:'"The client needs to authenticate to gain network access."',spec_title:"RFC6585#6",spec_href:"http://tools.ietf.org/html/rfc6585#section-6"}},Ub=function(){function e(e,t){void 0===t&&(t={}),this.inMemDbService=e,this.config=new Db,this.requestInfoUtils=this.getRequestInfoUtils();var n=this.getLocation("/");this.config.host=n.host,this.config.rootPath=n.path,Object.assign(this.config,t)}return Object.defineProperty(e.prototype,"dbReady",{get:function(){return this.dbReadySubject||(this.dbReadySubject=new Pa(!1),this.resetDb()),this.dbReadySubject.asObservable().pipe(ac((function(e){return e})))},enumerable:!0,configurable:!0}),e.prototype.handleRequest=function(e){var t=this;return this.dbReady.pipe(_c((function(){return t.handleRequest_(e)})))},e.prototype.handleRequest_=function(e){var t,n=this,s=e.urlWithParams?e.urlWithParams:e.url,r=this.bind("parseRequestUrl"),i=r&&r(s,this.requestInfoUtils)||this.parseRequestUrl(s),o=i.collectionName,l=this.db[o],a={req:e,apiBase:i.apiBase,collection:l,collectionName:o,headers:this.createHeaders({"Content-Type":"application/json"}),id:this.parseId(l,o,i.id),method:this.getRequestMethod(e),query:i.query,resourceUrl:i.resourceUrl,url:s,utils:this.requestInfoUtils};if(/commands\/?$/i.test(a.apiBase))return this.commands(a);var c=this.bind(a.method);if(c){var u=c(a);if(u)return u}return this.db[o]?this.createResponse$((function(){return n.collectionHandler(a)})):this.config.passThruUnknownUrl?this.getPassThruBackend().handle(e):(t=this.createErrorResponseOptions(s,404,"Collection '"+o+"' not found"),this.createResponse$((function(){return t})))},e.prototype.addDelay=function(e){var t,n,s=this.config.delay;return 0===s?e:(t=e,n=s||500,new w((function(e){var s=!1,r=!1,i=t.subscribe((function(t){r=!0,setTimeout((function(){e.next(t),s&&e.complete()}),n)}),(function(t){return setTimeout((function(){return e.error(t)}),n)}),(function(){s=!0,r||e.complete()}));return function(){return i.unsubscribe()}})))},e.prototype.applyQuery=function(e,t){var n=[],s=this.config.caseSensitiveSearch?void 0:"i";t.forEach((function(e,t){e.forEach((function(e){return n.push({name:t,rx:new RegExp(decodeURI(e),s)})}))}));var r=n.length;return r?e.filter((function(e){for(var t=!0,s=r;t&&s;){var i=n[s-=1];t=i.rx.test(e[i.name])}return t})):e},e.prototype.bind=function(e){var t=this.inMemDbService[e];return t?t.bind(this.inMemDbService):void 0},e.prototype.bodify=function(e){return this.config.dataEncapsulation?{data:e}:e},e.prototype.clone=function(e){return JSON.parse(JSON.stringify(e))},e.prototype.collectionHandler=function(e){var t;switch(e.method){case"get":t=this.get(e);break;case"post":t=this.post(e);break;case"put":t=this.put(e);break;case"delete":t=this.delete(e);break;default:t=this.createErrorResponseOptions(e.url,405,"Method not allowed")}var n=this.bind("responseInterceptor");return n?n(t,e):t},e.prototype.commands=function(e){var t=this,n=e.collectionName.toLowerCase(),s=e.method,r={url:e.url};switch(n){case"resetdb":return r.status=204,this.resetDb(e).pipe(_c((function(){return t.createResponse$((function(){return r}),!1)})));case"config":if("get"===s)r.status=200,r.body=this.clone(this.config);else{var i=this.getJsonBody(e.req);Object.assign(this.config,i),this.passThruBackend=void 0,r.status=204}break;default:r=this.createErrorResponseOptions(e.url,500,'Unknown command "'+n+'"')}return this.createResponse$((function(){return r}),!1)},e.prototype.createErrorResponseOptions=function(e,t,n){return{body:{error:""+n},url:e,headers:this.createHeaders({"Content-Type":"application/json"}),status:t}},e.prototype.createResponse$=function(e,t){void 0===t&&(t=!0);var n=this.createResponseOptions$(e),s=this.createResponse$fromResponseOptions$(n);return t?this.addDelay(s):s},e.prototype.createResponseOptions$=function(e){var t=this;return new w((function(n){var s;try{s=e()}catch(i){s=t.createErrorResponseOptions("",500,""+(i.message||i))}var r=s.status;try{s.statusText=function(e){return Vb[e].text||"Unknown Status"}(r)}catch(o){}return function(e){return e>=200&&e<300}(r)?(n.next(s),n.complete()):n.error(s),function(){}}))},e.prototype.delete=function(e){var t=e.collection,n=e.headers,s=e.id;return null==s?this.createErrorResponseOptions(e.url,404,'Missing "'+e.collectionName+'" id'):{headers:n,status:this.removeById(t,s)||!this.config.delete404?204:404}},e.prototype.findById=function(e,t){return e.find((function(e){return e.id===t}))},e.prototype.genId=function(e,t){var n=this.bind("genId");if(n){var s=n(e,t);if(null!=s)return s}return this.genIdDefault(e,t)},e.prototype.genIdDefault=function(e,t){if(!this.isCollectionIdNumeric(e,t))throw new Error("Collection '"+t+"' id type is non-numeric or unknown. Can only generate numeric ids.");var n=0;return e.reduce((function(e,t){n=Math.max(n,"number"==typeof t.id?t.id:n)}),void 0),n+1},e.prototype.get=function(e){var t=e.collection,n=e.collectionName,s=e.headers,r=e.id,i=e.query,o=e.url,l=t;return null!=r&&""!==r?l=this.findById(t,r):i&&(l=this.applyQuery(t,i)),l?{body:this.bodify(this.clone(l)),headers:s,status:200}:this.createErrorResponseOptions(o,404,"'"+n+"' with id='"+r+"' not found")},e.prototype.getLocation=function(e){if(!e.startsWith("http")){var t="undefined"==typeof document?void 0:document,n=t?t.location.protocol+"//"+t.location.host:"http://fake";e=e.startsWith("/")?n+e:n+"/"+e}return function(e){for(var t=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e),n={source:"",protocol:"",authority:"",userInfo:"",user:"",password:"",host:"",port:"",relative:"",path:"",directory:"",file:"",query:"",anchor:""},s=Object.keys(n),r=s.length;r--;)n[s[r]]=t[r]||"";return n}(e)},e.prototype.getPassThruBackend=function(){return this.passThruBackend?this.passThruBackend:this.passThruBackend=this.createPassThruBackend()},e.prototype.getRequestInfoUtils=function(){var e=this;return{createResponse$:this.createResponse$.bind(this),findById:this.findById.bind(this),isCollectionIdNumeric:this.isCollectionIdNumeric.bind(this),getConfig:function(){return e.config},getDb:function(){return e.db},getJsonBody:this.getJsonBody.bind(this),getLocation:this.getLocation.bind(this),getPassThruBackend:this.getPassThruBackend.bind(this),parseRequestUrl:this.parseRequestUrl.bind(this)}},e.prototype.indexOf=function(e,t){return e.findIndex((function(e){return e.id===t}))},e.prototype.parseId=function(e,t,n){if(!this.isCollectionIdNumeric(e,t))return n;var s=parseFloat(n);return isNaN(s)?n:s},e.prototype.isCollectionIdNumeric=function(e,t){return!(!e||!e[0])&&"number"==typeof e[0].id},e.prototype.parseRequestUrl=function(e){try{var t=this.getLocation(e),n=this.config.rootPath.length,s="";t.host!==this.config.host&&(n=1,s=t.protocol+"//"+t.host+"/");var r=t.path.substring(n).split("/"),i=0,o=void 0;null==this.config.apiBase?o=r[i++]:i=(o=this.config.apiBase.trim().replace(/\/$/,""))?o.split("/").length:0;var l=r[i++];return{apiBase:o+="/",collectionName:l=l&&l.split(".")[0],id:r[i++],query:this.createQueryMap(t.query),resourceUrl:s+o+l+"/"}}catch(a){throw new Error("unable to parse url '"+e+"'; original error: "+a.message)}},e.prototype.post=function(e){var t=e.collection,n=e.collectionName,s=e.headers,r=e.id,i=e.resourceUrl,o=e.url,l=this.clone(this.getJsonBody(e.req));if(null==l.id)try{l.id=r||this.genId(t,n)}catch(h){var a=h.message||"";return/id type is non-numeric/.test(a)?this.createErrorResponseOptions(o,422,a):(console.error(h),this.createErrorResponseOptions(o,500,"Failed to generate new id for '"+n+"'"))}if(r&&r!==l.id)return this.createErrorResponseOptions(o,400,"Request id does not match item.id");var c=this.indexOf(t,r=l.id),u=this.bodify(l);return-1===c?(t.push(l),s.set("Location",i+"/"+r),{headers:s,body:u,status:201}):this.config.post409?this.createErrorResponseOptions(o,409,"'"+n+"' item with id='"+r+" exists and may not be updated with POST; use PUT instead."):(t[c]=l,this.config.post204?{headers:s,status:204}:{headers:s,body:u,status:200})},e.prototype.put=function(e){var t=e.collection,n=e.collectionName,s=e.headers,r=e.id,i=e.url,o=this.clone(this.getJsonBody(e.req));if(null==o.id)return this.createErrorResponseOptions(i,404,"Missing '"+n+"' id");if(r&&r!==o.id)return this.createErrorResponseOptions(i,400,"Request for '"+n+"' id does not match item.id");var l=this.indexOf(t,r=o.id),a=this.bodify(o);return l>-1?(t[l]=o,this.config.put204?{headers:s,status:204}:{headers:s,body:a,status:200}):this.config.put404?this.createErrorResponseOptions(i,404,"'"+n+"' item with id='"+r+" not found and may not be created with PUT; use POST instead."):(t.push(o),{headers:s,body:a,status:201})},e.prototype.removeById=function(e,t){var n=this.indexOf(e,t);return n>-1&&(e.splice(n,1),!0)},e.prototype.resetDb=function(e){var t=this;this.dbReadySubject.next(!1);var n=this.inMemDbService.createDb(e);return(n instanceof w?n:"function"==typeof n.then?G(n):Aa(n)).pipe(ac()).subscribe((function(e){t.db=e,t.dbReadySubject.next(!0)})),this.dbReady},e}(),jb=(Lb=function(e,t){return(Lb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Lb(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),$b=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Hb=function(e,t){return function(n,s){t(n,s,e)}},qb=function(e){function t(t,n,s){var r=e.call(this,t,n)||this;return r.xhrFactory=s,r}return jb(t,e),t.prototype.handle=function(e){try{return this.handleRequest(e)}catch(n){var t=this.createErrorResponseOptions(e.url,500,""+(n.message||n));return this.createResponse$((function(){return t}))}},t.prototype.getJsonBody=function(e){return e.body},t.prototype.getRequestMethod=function(e){return(e.method||"get").toLowerCase()},t.prototype.createHeaders=function(e){return new lg(e)},t.prototype.createQueryMap=function(e){var t=new Map;if(e){var n=new ug({fromString:e});n.keys().forEach((function(e){return t.set(e,n.getAll(e))}))}return t},t.prototype.createResponse$fromResponseOptions$=function(e){return e.pipe(H((function(e){return new _g(e)})))},t.prototype.createPassThruBackend=function(){try{return new Ig(this.xhrFactory)}catch(e){throw e.message="Cannot create passThru404 backend; "+(e.message||""),e}},function(e,t,n,s){var r,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(o=(i<3?r(o):i>3?r(t,n,o):r(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o}([Zt(),Hb(1,de(Db)),Hb(1,pe()),$b("design:paramtypes",[Rb,Nb,Tg])],t)}(Ub);function zb(e,t,n){return new qb(e,t,n)}var Bb=function(){function e(){}var t;return t=e,e.forRoot=function(e,n){return{ngModule:t,providers:[{provide:Rb,useClass:e},{provide:Db,useValue:n},{provide:og,useFactory:zb,deps:[Rb,Db,Tg]}]}},e.forFeature=function(e,n){return t.forRoot(e,n)},t=function(e,t,n,s){var r,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(o=(i<3?r(o):i>3?r(t,n,o):r(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o}([ii({})],e)}();class Gb{}var Qb=Gl(Kl,[Wl],(function(e){return function(e){const t={},n=[];let s=!1;for(let r=0;r<e.length;r++){const i=e[r];i.token===Yt&&!0===i.value&&(s=!0),1073741824&i.flags&&n.push(i.token),i.index=r,t[ys(i.token)]=i}return{factory:null,providersByKey:t,providers:e,modules:n,isRoot:s}}([er(512,Tn,kn,[[8,[Pp,yy,ky,Cy,Py]],[3,Tn],Qe]),er(5120,zh,Sp,[tp]),er(4608,up,up,[]),er(6144,ap,null,[up]),er(135680,hp,hp,[tp,no,Si,en,ap]),er(4608,cp,cp,[]),er(5120,dp,_p,[tp,Ea,pp]),er(5120,kp,Tp,[xp]),er(5120,fi,(function(e){return[e]}),[kp]),er(5120,gi,vo,[[3,gi]]),er(4608,la,aa,[gi,[2,oa]]),er(5120,Kr,bo,[Di]),er(5120,ci,ui,[]),er(5120,Wn,yo,[]),er(5120,Zn,_o,[]),er(4608,Eu,Tu,[Sa]),er(6144,Pt,null,[Eu]),er(4608,_u,bu,[]),er(5120,jc,(function(e,t,n,s,r,i,o,l){return[new gu(e,t,n),new xu(s),new wu(r,i,o,l)]}),[Sa,Di,pi,Sa,Sa,_u,mi,[2,vu]]),er(4608,$c,$c,[jc,Di]),er(135680,zc,zc,[Sa]),er(4608,Jc,Jc,[$c,zc,ci]),er(5120,l_,Tb,[]),er(5120,av,kb,[]),er(4608,zv,Eb,[Sa,l_,av]),er(5120,Nn,Ib,[Jc,zv,Di]),er(6144,qc,null,[zc]),er(4608,$i,$i,[Di]),er(4608,Ry,gb,[Nn,Sa]),er(4608,Qf,Qf,[]),er(4608,Pg,Rg,[Sa,pi,Og]),er(4608,Ng,Ng,[Pg,Ag]),er(5120,Sg,(function(e){return[e]}),[Ng]),er(4608,Rb,Fb,[]),er(4608,kg,kg,[]),er(6144,Tg,null,[kg]),er(5120,og,zb,[Rb,Db,Tg]),er(4608,ig,Dg,[og,en]),er(4608,wg,wg,[ig]),er(4608,Ig,Ig,[Tg]),er(1024,fp,bp,[[3,tp]]),er(1024,it,Du,[]),er(512,xp,xp,[en]),er(1024,Wi,(function(){return[gp()]}),[]),er(1024,li,(function(e,t){return[Ep(e),(n=t,Lc("probe",Uc),Lc("coreTokens",Object.assign({},Vc,(n||[]).reduce((e,t)=>(e[t.name]=t.token,e),{}))),()=>Uc)];var n}),[xp,[2,Wi]]),er(512,ai,ai,[[2,li]]),er(131584,eo,eo,[Di,mi,en,it,Tn,ai]),er(512,Ch,Sh,[]),er(512,ip,ip,[]),er(256,pp,{},[]),er(1024,Yl,vp,[Zl,[2,Xl],pp]),er(512,ea,ea,[Yl,Zl]),er(512,Si,Si,[]),er(512,no,lo,[Si,[2,io]]),er(1024,Kd,(function(){return[[{path:"",redirectTo:"movies",pathMatch:"full"},{path:"movies",component:py},{path:"movies/:id",component:Sy}]]}),[]),er(1024,tp,Cp,[eo,Ch,ip,ea,en,no,Si,Kd,pp,[2,Zd],[2,Gd]]),er(1073742336,yp,yp,[[2,fp],[2,tp]]),er(1073742336,Gb,Gb,[]),er(1073742336,Ca,Ca,[]),er(1073742336,wo,wo,[eo]),er(1073742336,Mu,Mu,[[3,Mu]]),er(1073742336,Ab,Ab,[]),er(1073742336,wm,wm,[]),er(1073742336,Cm,Cm,[]),er(1073742336,Mg,Mg,[]),er(1073742336,Fg,Fg,[]),er(1073742336,Bb,Bb,[]),er(1073742336,Of,Of,[]),er(1073742336,Kl,Kl,[]),er(256,Yt,!0,[]),er(256,Ob,"BrowserAnimations",[]),er(256,Og,"XSRF-TOKEN",[]),er(256,Ag,"X-XSRF-TOKEN",[]),er(256,Db,{delay:1e3,dataEncapsulation:!1,passThruUnknownUrl:!0},[]),er(256,Ef,kf,[])])}));(function(){if(lt)throw new Error("Cannot enable prod mode after platform setup.");ot=!1})(),Nu().bootstrapModuleFactory(Qb).catch(e=>console.error(e))},zn8P:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="zn8P"}},[[0,0]]]);